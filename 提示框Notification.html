<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
	<meta content="yes" name="apple-mobile-web-app-capable">
	<meta content="black" name="apple-mobile-web-app-status-bar-style">
	<meta content="telephone=no" name="format-detection">
	<meta content="email=no" name="format-detection">
	<title></title>
	<!-- <link rel="stylesheet" href="index.css"> -->
	<style type="text/css">
	body{-webkit-text-size-adjust: 100%!important;}
	</style>
</head>

<body>
http://www.zhangxinxu.com/wordpress/2016/07/know-html5-web-notification/
需要在服务器环境打开才有效果
<button id="button">有人想加你为好友</button>
<p id="text"></p>
<script type="text/javascript">
// 	var isShine=true;
//     setInterval(function() {
//     var title = document.title;
//     if (isShine == true) {
//         if (/新/.test(title) == false) {
//             document.title = '【你有新消息】';    
//         } else {
//             document.title = '【　　　　　】';
//         }
//     } else {
//         document.title = titleInit;
//     }
// }, 500);

if (window.Notification) {
    var button = document.getElementById('button'), text = document.getElementById('text');
    
    var popNotice = function() {
        if (Notification.permission == "granted") {
            var notification = new Notification("Hi，帅哥：", {
                body: '可以加你为好友吗？',
                icon: 'http://image.zhangxinxu.com/image/study/s/s128/mm1.jpg'
            });
            
            notification.onclick = function() {
                text.innerHTML = '张小姐已于' + new Date().toTimeString().split(' ')[0] + '加你为好友！';
                notification.close();    
            };
        }    
    };
    
    button.onclick = function() {
        if (Notification.permission == "granted") {
            popNotice();
        } else if (Notification.permission != "denied") {
            Notification.requestPermission(function (permission) {
              popNotice();
            });
        }
    };
} else {
    alert('浏览器不支持Notification');    
}
</script>
</body>

</html>
