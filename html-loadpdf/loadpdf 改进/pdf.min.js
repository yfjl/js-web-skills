!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define("pdfjs-dist/build/pdf",[],b):"object"==typeof exports?exports["pdfjs-dist/build/pdf"]=b():a["pdfjs-dist/build/pdf"]=a.pdfjsDistBuildPdf=b()}(this,function(){return function(a){function c(d){if(b[d])return b[d].exports;var e=b[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,c),e.l=!0,e.exports}var b={};return c.m=a,c.c=b,c.d=function(a,b,d){c.o(a,b)||Object.defineProperty(a,b,{configurable:!1,enumerable:!0,get:d})},c.n=function(a){var b=a&&a.__esModule?function(){return a["default"]}:function(){return a};return c.d(b,"a",b),b},c.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},c.p="",c(c.s=54)}([function(a,b,c){"use strict";function t(a){s=a}function u(){return s}function v(a){s>=p.infos&&console.log("Info: "+a)}function w(a){s>=p.warnings&&console.log("Warning: "+a)}function x(a){console.log("Deprecated API usage: "+a)}function y(a){throw new Error(a)}function z(a,b){a||y(b)}function B(a,b){var c,e;try{if(c=new URL(a),!c.origin||"null"===c.origin)return!1}catch(d){return!1}return e=new URL(b,c),c.origin===e.origin}function C(a){if(!a)return!1;switch(a.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function D(a,b){if(!a)return null;try{var c=b?new URL(a,b):new URL(a);if(C(c))return c}catch(d){}return null}function E(a,b,c){return Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!1}),c}function F(a){var b;return function(){return a&&(b=Object.create(null),a(b),a=null),b}}function S(a){return"string"!=typeof a?(w("The argument for removeNullCharacters must be a string."),a):a.replace(R,"")}function T(a){var b,c,e,f,g,h;if(z(null!==a&&"object"===("undefined"==typeof a?"undefined":d(a))&&void 0!==a.length,"Invalid argument for bytesToString"),b=a.length,c=8192,c>b)return String.fromCharCode.apply(null,a);for(e=[],f=0;b>f;f+=c)g=Math.min(f+c,b),h=a.subarray(f,g),e.push(String.fromCharCode.apply(null,h));return e.join("")}function U(a){var b,c,d;for(z("string"==typeof a,"Invalid argument for stringToBytes"),b=a.length,c=new Uint8Array(b),d=0;b>d;++d)c[d]=255&a.charCodeAt(d);return c}function V(a){return void 0!==a.length?a.length:(z(void 0!==a.byteLength),a.byteLength)}function W(a){var b,c,d,e,f,g,h;if(1===a.length&&a[0]instanceof Uint8Array)return a[0];for(b=0,d=a.length,c=0;d>c;c++)e=a[c],f=V(e),b+=f;for(g=0,h=new Uint8Array(b),c=0;d>c;c++)e=a[c],e instanceof Uint8Array||(e="string"==typeof e?U(e):new Uint8Array(e)),f=e.byteLength,h.set(e,g),g+=f;return h}function X(a){return String.fromCharCode(255&a>>24,255&a>>16,255&a>>8,255&a)}function Y(a){for(var b=1,c=0;a>b;)b<<=1,c++;return c}function Z(a,b){return a[b]<<24>>24}function $(a,b){return a[b]<<8|a[b+1]}function _(a,b){return(a[b]<<24|a[b+1]<<16|a[b+2]<<8|a[b+3])>>>0}function ab(){var b,a=new Uint8Array(4);return a[0]=1,b=new Uint32Array(a.buffer,0,1),1===b[0]}function bb(){try{return new Function(""),!0}catch(a){return!1}}function gb(a){var b,e,c=a.length,d=[];if("þ"===a[0]&&"ÿ"===a[1])for(b=2;c>b;b+=2)d.push(String.fromCharCode(a.charCodeAt(b)<<8|a.charCodeAt(b+1)));else for(b=0;c>b;++b)e=fb[a.charCodeAt(b)],d.push(e?String.fromCharCode(e):a.charAt(b));return d.join("")}function hb(a){return decodeURIComponent(escape(a))}function ib(a){return unescape(encodeURIComponent(a))}function jb(a){for(var b in a)return!1;return!0}function kb(a){return"boolean"==typeof a}function lb(a){return"number"==typeof a}function mb(a){return"string"==typeof a}function nb(a){return"object"===("undefined"==typeof a?"undefined":d(a))&&null!==a&&void 0!==a.byteLength}function ob(a){return 32===a||9===a||13===a||10===a}function pb(){return"object"===("undefined"==typeof process?"undefined":d(process))&&"[object process]"==process+""}function qb(){var a={};return a.promise=new Promise(function(b,c){a.resolve=b,a.reject=c}),a}function ub(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return a?new Promise(function(d){d(a.apply(c,b))}):Promise.resolve(void 0)}function vb(a){if("object"!==("undefined"==typeof a?"undefined":d(a)))return a;switch(a.name){case"AbortException":return new Q(a.message);case"MissingPDFException":return new K(a.message);case"UnexpectedResponseException":return new L(a.message,a.status);default:return new I(a.message,a.details)}}function wb(a){return!(a instanceof Error)||a instanceof Q||a instanceof K||a instanceof L||a instanceof I?a:new I(a.message,a.toString())}function xb(a,b,c){b?a.resolve():a.reject(c)}function yb(a){return Promise.resolve(a).catch(function(){})}function zb(a,b,c){var e,f,d=this;this.sourceName=a,this.targetName=b,this.comObj=c,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),e=this.callbacksCapabilities=Object.create(null),f=this.actionHandler=Object.create(null),this._onComObjOnMessage=function(a){var g,h,i,j,k,b=a.data;if(b.targetName===d.sourceName)if(b.stream)d._processStreamMessage(b);else if(b.isReply){if(g=b.callbackId,!(b.callbackId in e))throw new Error("Cannot resolve callback "+g);h=e[g],delete e[g],"error"in b?h.reject(vb(b.error)):h.resolve(b.data)}else{if(!(b.action in f))throw new Error("Unknown action from worker: "+b.action);i=f[b.action],b.callbackId?(j=d.sourceName,k=b.sourceName,Promise.resolve().then(function(){return i[0].call(i[1],b.data)}).then(function(a){c.postMessage({sourceName:j,targetName:k,isReply:!0,callbackId:b.callbackId,data:a})},function(a){c.postMessage({sourceName:j,targetName:k,isReply:!0,callbackId:b.callbackId,error:wb(a)})})):b.streamId?d._createStreamSink(b):i[0].call(i[1],b.data)}},c.addEventListener("message",this._onComObjOnMessage)}function Ab(a,b,c){var d=new Image;d.onload=function(){c.resolve(a,d)},d.onerror=function(){c.resolve(a,null),w("Error during JPEG image loading")},d.src=b}var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,A,G,H,I,J,K,L,M,N,O,P,Q,R,cb,db,eb,fb,rb,sb,tb;Object.defineProperty(b,"__esModule",{value:!0}),b.unreachable=b.warn=b.utf8StringToString=b.stringToUTF8String=b.stringToPDFString=b.stringToBytes=b.string32=b.shadow=b.setVerbosityLevel=b.ReadableStream=b.removeNullCharacters=b.readUint32=b.readUint16=b.readInt8=b.log2=b.loadJpegStream=b.isEvalSupported=b.isLittleEndian=b.createValidAbsoluteUrl=b.isSameOrigin=b.isNodeJS=b.isSpace=b.isString=b.isNum=b.isEmptyObj=b.isBool=b.isArrayBuffer=b.info=b.getVerbosityLevel=b.getLookupTableFactory=b.deprecated=b.createObjectURL=b.createPromiseCapability=b.createBlob=b.bytesToString=b.assert=b.arraysToBytes=b.arrayByteLength=b.FormatError=b.XRefParseException=b.Util=b.UnknownErrorException=b.UnexpectedResponseException=b.TextRenderingMode=b.StreamType=b.StatTimer=b.PasswordResponses=b.PasswordException=b.PageViewport=b.NotImplementedException=b.NativeImageDecoding=b.MissingPDFException=b.MissingDataException=b.MessageHandler=b.InvalidPDFException=b.AbortException=b.CMapCompressionType=b.ImageKind=b.FontType=b.AnnotationType=b.AnnotationFlag=b.AnnotationFieldFlag=b.AnnotationBorderStyleType=b.UNSUPPORTED_FEATURES=b.VERBOSITY_LEVELS=b.OPS=b.IDENTITY_MATRIX=b.FONT_IDENTITY_MATRIX=void 0,d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},c(55),e=c(80),f=[.001,0,0,.001,0,0],g={NONE:"none",DECODE:"decode",DISPLAY:"display"},h={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},i={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},j={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},k={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},l={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},m={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},n={UNKNOWN:0,FLATE:1,LZW:2,DCT:3,JPX:4,JBIG:5,A85:6,AHX:7,CCF:8,RL:9},o={UNKNOWN:0,TYPE1:1,TYPE1C:2,CIDFONTTYPE0:3,CIDFONTTYPE0C:4,TRUETYPE:5,CIDFONTTYPE2:6,TYPE3:7,OPENTYPE:8,TYPE0:9,MMTYPE1:10},p={errors:0,warnings:1,infos:5},q={NONE:0,BINARY:1,STREAM:2},r={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},s=p.warnings,A={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"},G={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},H=function(){function a(a,b){this.name="PasswordException",this.message=a,this.code=b}return a.prototype=new Error,a.constructor=a,a}(),I=function(){function a(a,b){this.name="UnknownErrorException",this.message=a,this.details=b}return a.prototype=new Error,a.constructor=a,a}(),J=function(){function a(a){this.name="InvalidPDFException",this.message=a}return a.prototype=new Error,a.constructor=a,a}(),K=function(){function a(a){this.name="MissingPDFException",this.message=a}return a.prototype=new Error,a.constructor=a,a}(),L=function(){function a(a,b){this.name="UnexpectedResponseException",this.message=a,this.status=b}return a.prototype=new Error,a.constructor=a,a}(),M=function(){function a(a){this.message=a}return a.prototype=new Error,a.prototype.name="NotImplementedException",a.constructor=a,a}(),N=function(){function a(a,b){this.begin=a,this.end=b,this.message="Missing data ["+a+", "+b+")"}return a.prototype=new Error,a.prototype.name="MissingDataException",a.constructor=a,a}(),O=function(){function a(a){this.message=a}return a.prototype=new Error,a.prototype.name="XRefParseException",a.constructor=a,a}(),P=function(){function a(a){this.message=a}return a.prototype=new Error,a.prototype.name="FormatError",a.constructor=a,a}(),Q=function(){function a(a){this.name="AbortException",this.message=a}return a.prototype=new Error,a.constructor=a,a}(),R=/\x00/g,cb=[1,0,0,1,0,0],db=function(){function a(){}var c,b=["rgb(",0,",",0,",",0,")"];return a.makeCssRgb=function(a,c,d){return b[1]=a,b[3]=c,b[5]=d,b.join("")},a.transform=function(a,b){return[a[0]*b[0]+a[2]*b[1],a[1]*b[0]+a[3]*b[1],a[0]*b[2]+a[2]*b[3],a[1]*b[2]+a[3]*b[3],a[0]*b[4]+a[2]*b[5]+a[4],a[1]*b[4]+a[3]*b[5]+a[5]]},a.applyTransform=function(a,b){var c=a[0]*b[0]+a[1]*b[2]+b[4],d=a[0]*b[1]+a[1]*b[3]+b[5];return[c,d]},a.applyInverseTransform=function(a,b){var c=b[0]*b[3]-b[1]*b[2],d=(a[0]*b[3]-a[1]*b[2]+b[2]*b[5]-b[4]*b[3])/c,e=(-a[0]*b[1]+a[1]*b[0]+b[4]*b[1]-b[5]*b[0])/c;return[d,e]},a.getAxialAlignedBoundingBox=function(b,c){var d=a.applyTransform(b,c),e=a.applyTransform(b.slice(2,4),c),f=a.applyTransform([b[0],b[3]],c),g=a.applyTransform([b[2],b[1]],c);return[Math.min(d[0],e[0],f[0],g[0]),Math.min(d[1],e[1],f[1],g[1]),Math.max(d[0],e[0],f[0],g[0]),Math.max(d[1],e[1],f[1],g[1])]},a.inverseTransform=function(a){var b=a[0]*a[3]-a[1]*a[2];return[a[3]/b,-a[1]/b,-a[2]/b,a[0]/b,(a[2]*a[5]-a[4]*a[3])/b,(a[4]*a[1]-a[5]*a[0])/b]},a.apply3dTransform=function(a,b){return[a[0]*b[0]+a[1]*b[1]+a[2]*b[2],a[3]*b[0]+a[4]*b[1]+a[5]*b[2],a[6]*b[0]+a[7]*b[1]+a[8]*b[2]]},a.singularValueDecompose2dScale=function(a){var b=[a[0],a[2],a[1],a[3]],c=a[0]*b[0]+a[1]*b[2],d=a[0]*b[1]+a[1]*b[3],e=a[2]*b[0]+a[3]*b[2],f=a[2]*b[1]+a[3]*b[3],g=(c+f)/2,h=Math.sqrt((c+f)*(c+f)-4*(c*f-e*d))/2,i=g+h||1,j=g-h||1;return[Math.sqrt(i),Math.sqrt(j)]},a.normalizeRect=function(a){var b=a.slice(0);return a[0]>a[2]&&(b[0]=a[2],b[2]=a[0]),a[1]>a[3]&&(b[1]=a[3],b[3]=a[1]),b},a.intersect=function(b,c){function d(a,b){return a-b}var e=[b[0],b[2],c[0],c[2]].sort(d),f=[b[1],b[3],c[1],c[3]].sort(d),g=[];return b=a.normalizeRect(b),c=a.normalizeRect(c),e[0]===b[0]&&e[1]===c[0]||e[0]===c[0]&&e[1]===b[0]?(g[0]=e[1],g[2]=e[2],f[0]===b[1]&&f[1]===c[1]||f[0]===c[1]&&f[1]===b[1]?(g[1]=f[1],g[3]=f[2],g):!1):!1},a.sign=function(a){return 0>a?-1:1},c=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"],a.toRoman=function(a,b){var d,e,f;for(z(Number.isInteger(a)&&a>0,"The number should be a positive integer."),e=[];a>=1e3;)a-=1e3,e.push("M");return d=0|a/100,a%=100,e.push(c[d]),d=0|a/10,a%=10,e.push(c[10+d]),e.push(c[20+a]),f=e.join(""),b?f.toLowerCase():f},a.appendToArray=function(a,b){Array.prototype.push.apply(a,b)},a.prependToArray=function(a,b){Array.prototype.unshift.apply(a,b)},a.extendObj=function(a,b){for(var c in b)a[c]=b[c]},a.getInheritableProperty=function(a,b,c){for(;a&&!a.has(b);)a=a.get("Parent");return a?c?a.getArray(b):a.get(b):null},a.inherit=function(a,b,c){a.prototype=Object.create(b.prototype),a.prototype.constructor=a;for(var d in c)a.prototype[d]=c[d]},a.loadScript=function(a,b){var c=document.createElement("script"),d=!1;c.setAttribute("src",a),b&&(c.onload=function(){d||b(),d=!0}),document.getElementsByTagName("head")[0].appendChild(c)},a}(),eb=function(){function a(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o,p;switch(this.viewBox=a,this.scale=b,this.rotation=c,this.offsetX=d,this.offsetY=e,g=(a[2]+a[0])/2,h=(a[3]+a[1])/2,c%=360,c=0>c?c+360:c){case 180:i=-1,j=0,k=0,l=1;break;case 90:i=0,j=1,k=1,l=0;break;case 270:i=0,j=-1,k=-1,l=0;break;default:i=1,j=0,k=0,l=-1}f&&(k=-k,l=-l),0===i?(m=Math.abs(h-a[1])*b+d,n=Math.abs(g-a[0])*b+e,o=Math.abs(a[3]-a[1])*b,p=Math.abs(a[2]-a[0])*b):(m=Math.abs(g-a[0])*b+d,n=Math.abs(h-a[1])*b+e,o=Math.abs(a[2]-a[0])*b,p=Math.abs(a[3]-a[1])*b),this.transform=[i*b,j*b,k*b,l*b,m-i*b*g-k*b*h,n-j*b*g-l*b*h],this.width=o,this.height=p,this.fontScale=b}return a.prototype={clone:function(b){var c,d;return b=b||{},c="scale"in b?b.scale:this.scale,d="rotation"in b?b.rotation:this.rotation,new a(this.viewBox.slice(),c,d,this.offsetX,this.offsetY,b.dontFlip)},convertToViewportPoint:function(a,b){return db.applyTransform([a,b],this.transform)},convertToViewportRectangle:function(a){var b=db.applyTransform([a[0],a[1]],this.transform),c=db.applyTransform([a[2],a[3]],this.transform);return[b[0],b[1],c[0],c[1]]},convertToPdfPoint:function(a,b){return db.applyInverseTransform([a,b],this.transform)}},a}(),fb=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364],rb=function(){function a(a,b,c){for(;a.length<c;)a+=b;return a}function b(){this.started=Object.create(null),this.times=[],this.enabled=!0}return b.prototype={time:function(a){this.enabled&&(a in this.started&&w("Timer is already running for "+a),this.started[a]=Date.now())},timeEnd:function(a){this.enabled&&(a in this.started||w("Timer has not been started for "+a),this.times.push({name:a,start:this.started[a],end:Date.now()}),delete this.started[a])},toString:function(){var b,c,g,h,i,d=this.times,e="",f=0;for(b=0,c=d.length;c>b;++b)g=d[b]["name"],g.length>f&&(f=g.length);for(b=0,c=d.length;c>b;++b)h=d[b],i=h.end-h.start,e+=a(h["name"]," ",f)+" "+i+"ms\n";return e}},b}(),sb=function(a,b){if("undefined"!=typeof Blob)return new Blob([a],{type:b});throw new Error('The "Blob" constructor is not supported.')},tb=function(){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return function(b,c){var e,f,g,h,i,j,k,l,m,n,o,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!1;if(!d&&URL.createObjectURL)return e=sb(b,c),URL.createObjectURL(e);for(f="data:"+c+";base64,",g=0,h=b.length;h>g;g+=3)i=255&b[g],j=255&b[g+1],k=255&b[g+2],l=i>>2,m=(3&i)<<4|j>>4,n=h>g+1?(15&j)<<2|k>>6:64,o=h>g+2?63&k:64,f+=a[l]+a[m]+a[n]+a[o];return f}}(),zb.prototype={on:function(a,b,c){var d=this.actionHandler;if(d[a])throw new Error('There is already an actionName called "'+a+'"');d[a]=[b,c]},send:function(a,b,c){var d={sourceName:this.sourceName,targetName:this.targetName,action:a,data:b};this.postMessage(d,c)},sendWithPromise:function(a,b,c){var d=this.callbackId++,e={sourceName:this.sourceName,targetName:this.targetName,action:a,data:b,callbackId:d},f=qb();this.callbacksCapabilities[d]=f;try{this.postMessage(e,c)}catch(g){f.reject(g)}return f.promise},sendWithStream:function(a,b,c){var f=this,g=this.streamId++,h=this.sourceName,i=this.targetName;return new e.ReadableStream({start:function(c){var d=qb();return f.streamControllers[g]={controller:c,startCall:d,isClosed:!1},f.postMessage({sourceName:h,targetName:i,action:a,streamId:g,data:b,desiredSize:c.desiredSize}),d.promise},pull:function(a){var b=qb();return f.streamControllers[g].pullCall=b,f.postMessage({sourceName:h,targetName:i,stream:"pull",streamId:g,desiredSize:a.desiredSize}),b.promise},cancel:function(a){var b=qb();return f.streamControllers[g].cancelCall=b,f.streamControllers[g].isClosed=!0,f.postMessage({sourceName:h,targetName:i,stream:"cancel",reason:a,streamId:g}),b.promise}},c)},_createStreamSink:function(a){var b=this,c=this,d=this.actionHandler[a.action],e=a.streamId,f=a.desiredSize,g=this.sourceName,h=a.sourceName,i=qb(),j=function(a){var c=a.stream,d=a.chunk,f=a.transfers,i=a.success,j=a.reason;b.postMessage({sourceName:g,targetName:h,stream:c,streamId:e,chunk:d,success:i,reason:j},f)},k={enqueue:function(a){var d,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c=arguments[2];this.isCancelled||(d=this.desiredSize,this.desiredSize-=b,d>0&&this.desiredSize<=0&&(this.sinkCapability=qb(),this.ready=this.sinkCapability.promise),j({stream:"enqueue",chunk:a,transfers:c}))},close:function(){this.isCancelled||(this.isCancelled=!0,j({stream:"close"}),delete c.streamSinks[e])},error:function(a){this.isCancelled||(this.isCancelled=!0,j({stream:"error",reason:a}))},sinkCapability:i,onPull:null,onCancel:null,isCancelled:!1,desiredSize:f,ready:null};k.sinkCapability.resolve(),k.ready=k.sinkCapability.promise,this.streamSinks[e]=k,ub(d[0],[a.data,k],d[1]).then(function(){j({stream:"start_complete",success:!0})},function(a){j({stream:"start_complete",success:!1,reason:a})})},_processStreamMessage:function(a){var b=this,c=this.sourceName,d=a.sourceName,e=a.streamId,f=function(a){var f=a.stream,g=a.success,h=a.reason;b.comObj.postMessage({sourceName:c,targetName:d,stream:f,success:g,streamId:e,reason:h})},g=function(){Promise.all([b.streamControllers[a.streamId].startCall,b.streamControllers[a.streamId].pullCall,b.streamControllers[a.streamId].cancelCall].map(function(a){return a&&yb(a.promise)})).then(function(){delete b.streamControllers[a.streamId]})};switch(a.stream){case"start_complete":xb(this.streamControllers[a.streamId].startCall,a.success,vb(a.reason));break;case"pull_complete":xb(this.streamControllers[a.streamId].pullCall,a.success,vb(a.reason));break;case"pull":if(!this.streamSinks[a.streamId]){f({stream:"pull_complete",success:!0});break}this.streamSinks[a.streamId].desiredSize<=0&&a.desiredSize>0&&this.streamSinks[a.streamId].sinkCapability.resolve(),this.streamSinks[a.streamId].desiredSize=a.desiredSize,ub(this.streamSinks[a.streamId].onPull).then(function(){f({stream:"pull_complete",success:!0})},function(a){f({stream:"pull_complete",success:!1,reason:a})});break;case"enqueue":z(this.streamControllers[a.streamId],"enqueue should have stream controller"),this.streamControllers[a.streamId].isClosed||this.streamControllers[a.streamId].controller.enqueue(a.chunk);break;case"close":if(z(this.streamControllers[a.streamId],"close should have stream controller"),this.streamControllers[a.streamId].isClosed)break;this.streamControllers[a.streamId].isClosed=!0,this.streamControllers[a.streamId].controller.close(),g();break;case"error":z(this.streamControllers[a.streamId],"error should have stream controller"),this.streamControllers[a.streamId].controller.error(vb(a.reason)),g();break;case"cancel_complete":xb(this.streamControllers[a.streamId].cancelCall,a.success,vb(a.reason)),g();break;case"cancel":if(!this.streamSinks[a.streamId])break;ub(this.streamSinks[a.streamId].onCancel,[vb(a.reason)]).then(function(){f({stream:"cancel_complete",success:!0})},function(a){f({stream:"cancel_complete",success:!1,reason:a})}),this.streamSinks[a.streamId].sinkCapability.reject(vb(a.reason)),this.streamSinks[a.streamId].isCancelled=!0,delete this.streamSinks[a.streamId];break;default:throw new Error("Unexpected stream case")}},postMessage:function(a,b){b&&this.postMessageTransfers?this.comObj.postMessage(a,b):this.comObj.postMessage(a)},destroy:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}},b.FONT_IDENTITY_MATRIX=f,b.IDENTITY_MATRIX=cb,b.OPS=r,b.VERBOSITY_LEVELS=p,b.UNSUPPORTED_FEATURES=A,b.AnnotationBorderStyleType=m,b.AnnotationFieldFlag=l,b.AnnotationFlag=k,b.AnnotationType=j,b.FontType=o,b.ImageKind=i,b.CMapCompressionType=q,b.AbortException=Q,b.InvalidPDFException=J,b.MessageHandler=zb,b.MissingDataException=N,b.MissingPDFException=K,b.NativeImageDecoding=g,b.NotImplementedException=M,b.PageViewport=eb,b.PasswordException=H,b.PasswordResponses=G,b.StatTimer=rb,b.StreamType=n,b.TextRenderingMode=h,b.UnexpectedResponseException=L,b.UnknownErrorException=I,b.Util=db,b.XRefParseException=O,b.FormatError=P,b.arrayByteLength=V,b.arraysToBytes=W,b.assert=z,b.bytesToString=T,b.createBlob=sb,b.createPromiseCapability=qb,b.createObjectURL=tb,b.deprecated=x,b.getLookupTableFactory=F,b.getVerbosityLevel=u,b.info=v,b.isArrayBuffer=nb,b.isBool=kb,b.isEmptyObj=jb,b.isNum=lb,b.isString=mb,b.isSpace=ob,b.isNodeJS=pb,b.isSameOrigin=B,b.createValidAbsoluteUrl=D,b.isLittleEndian=ab,b.isEvalSupported=bb,b.loadJpegStream=Ab,b.log2=Y,b.readInt8=Z,b.readUint16=$,b.readUint32=_,b.removeNullCharacters=S,b.ReadableStream=e.ReadableStream,b.setVerbosityLevel=t,b.shadow=E,b.string32=X,b.stringToBytes=U,b.stringToPDFString=gb,b.stringToUTF8String=hb,b.utf8StringToString=ib,b.warn=w,b.unreachable=y},function(a,b,c){"use strict";var d=c(43)("wks"),e=c(11),f=c(2).Symbol,g="function"==typeof f,h=a.exports=function(a){return d[a]||(d[a]=g&&f[a]||(g?f:e)("Symbol."+a))};h.store=d},function(a){"use strict";var d=a.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=d)},function(a,b,c){"use strict";a.exports=!c(15)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(a,b,c){"use strict";var d=c(8),e=c(18);a.exports=c(3)?function(a,b,c){return d.f(a,b,e(1,c))}:function(a,b,c){return a[b]=c,a}},function(a){"use strict";var d={}.hasOwnProperty;a.exports=function(a,b){return d.call(a,b)}},function(a,b,c){"use strict";var d=c(12),e=Math.min;a.exports=function(a){return a>0?e(d(a),9007199254740991):0}},function(a,b,c){"use strict";function h(a){return a&&a.__esModule?a:{"default":a}}function i(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function s(a,b){var d,f,c=b&&b.url;a.href=a.title=c?e.removeNullCharacters(c):"",c&&(d=b.target,"undefined"==typeof d&&(d=u("externalLinkTarget")),a.target=r[d],f=b.rel,"undefined"==typeof f&&(f=u("externalLinkRel")),a.rel=f)}function t(a){var b=a.indexOf("#"),c=a.indexOf("?"),d=Math.min(b>0?b:a.length,c>0?c:a.length);return a.substring(a.lastIndexOf("/",d)+1,d)}function u(a){var b=g.default.PDFJS;switch(a){case"pdfBug":return b?b.pdfBug:!1;case"disableAutoFetch":return b?b.disableAutoFetch:!1;case"disableStream":return b?b.disableStream:!1;case"disableRange":return b?b.disableRange:!1;case"disableFontFace":return b?b.disableFontFace:!1;case"disableCreateObjectURL":return b?b.disableCreateObjectURL:!1;case"disableWebGL":return b?b.disableWebGL:!0;case"cMapUrl":return b?b.cMapUrl:null;case"cMapPacked":return b?b.cMapPacked:!1;case"postMessageTransfers":return b?b.postMessageTransfers:!0;case"workerPort":return b?b.workerPort:null;case"workerSrc":return b?b.workerSrc:null;case"disableWorker":return b?b.disableWorker:!1;case"maxImageSize":return b?b.maxImageSize:-1;case"imageResourcesPath":return b?b.imageResourcesPath:"";case"isEvalSupported":return b?b.isEvalSupported:!0;case"externalLinkTarget":if(!b)return q.NONE;switch(b.externalLinkTarget){case q.NONE:case q.SELF:case q.BLANK:case q.PARENT:case q.TOP:return b.externalLinkTarget}return e.warn("PDFJS.externalLinkTarget is invalid: "+b.externalLinkTarget),b.externalLinkTarget=q.NONE,q.NONE;case"externalLinkRel":return b?b.externalLinkRel:j;case"enableStats":return!(!b||!b.enableStats);case"pdfjsNext":return!(!b||!b.pdfjsNext);default:throw new Error("Unknown default setting: "+a)}}function v(){var a=u("externalLinkTarget");switch(a){case q.NONE:return!1;case q.SELF:case q.BLANK:case q.PARENT:case q.TOP:return!0}}function w(a,b){e.deprecated("isValidUrl(), please use createValidAbsoluteUrl() instead.");var c=b?"http://example.com":null;return null!==e.createValidAbsoluteUrl(a,c)}var d,e,f,g,j,k,l,m,n,o,p,q,r;Object.defineProperty(b,"__esModule",{value:!0}),b.DOMSVGFactory=b.DOMCMapReaderFactory=b.DOMCanvasFactory=b.DEFAULT_LINK_REL=b.getDefaultSetting=b.LinkTarget=b.getFilenameFromUrl=b.isValidUrl=b.isExternalLinkTargetSet=b.addLinkAttributes=b.RenderingCancelledException=b.CustomStyle=void 0,d=function(){function a(a,b){var c,d;for(c=0;c<b.length;c++)d=b[c],d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(9),g=h(f),j="noopener noreferrer nofollow",k="http://www.w3.org/2000/svg",l=function(){function a(){i(this,a)}return d(a,[{key:"create",value:function(a,b){var c,d;if(0>=a||0>=b)throw new Error("invalid canvas size");return c=document.createElement("canvas"),d=c.getContext("2d"),c.width=a,c.height=b,{canvas:c,context:d}}},{key:"reset",value:function(a,b,c){if(!a.canvas)throw new Error("canvas is not specified");if(0>=b||0>=c)throw new Error("invalid canvas size");a.canvas.width=b,a.canvas.height=c}},{key:"destroy",value:function(a){if(!a.canvas)throw new Error("canvas is not specified");a.canvas.width=0,a.canvas.height=0,a.canvas=null,a.context=null}}]),a}(),m=function(){function a(b){var c=b.baseUrl,d=void 0===c?null:c,e=b.isCompressed,f=void 0===e?!1:e;i(this,a),this.baseUrl=d,this.isCompressed=f}return d(a,[{key:"fetch",value:function(a){var b=this,c=a.name;return c?new Promise(function(a,d){var f=b.baseUrl+c+(b.isCompressed?".bcmap":""),g=new XMLHttpRequest;g.open("GET",f,!0),b.isCompressed&&(g.responseType="arraybuffer"),g.onreadystatechange=function(){if(g.readyState===XMLHttpRequest.DONE){if(200===g.status||0===g.status){var c=void 0;if(b.isCompressed&&g.response?c=new Uint8Array(g.response):!b.isCompressed&&g.responseText&&(c=e.stringToBytes(g.responseText)),c)return a({cMapData:c,compressionType:b.isCompressed?e.CMapCompressionType.BINARY:e.CMapCompressionType.NONE}),void 0}d(new Error("Unable to load "+(b.isCompressed?"binary ":"")+"CMap at: "+f))}},g.send(null)}):Promise.reject(new Error("CMap name must be specified."))}}]),a}(),n=function(){function a(){i(this,a)}return d(a,[{key:"create",value:function(a,b){e.assert(a>0&&b>0,"Invalid SVG dimensions");var c=document.createElementNS(k,"svg:svg");return c.setAttribute("version","1.1"),c.setAttribute("width",a+"px"),c.setAttribute("height",b+"px"),c.setAttribute("preserveAspectRatio","none"),c.setAttribute("viewBox","0 0 "+a+" "+b),c}},{key:"createElement",value:function(a){return e.assert("string"==typeof a,"Invalid SVG element type"),document.createElementNS(k,a)}}]),a}(),o=function(){function c(){}var a=["ms","Moz","Webkit","O"],b=Object.create(null);return c.getProp=function(c,d){var f,g,e,h,i;if(1===arguments.length&&"string"==typeof b[c])return b[c];if(d=d||document.documentElement,e=d.style,"string"==typeof e[c])return b[c]=c;for(g=c.charAt(0).toUpperCase()+c.slice(1),h=0,i=a.length;i>h;h++)if(f=a[h]+g,"string"==typeof e[f])return b[c]=f;return b[c]="undefined"},c.setProp=function(a,b,c){var d=this.getProp(a);"undefined"!==d&&(b.style[d]=c)},c}(),p=function y(){function y(a,b){this.message=a,this.type=b}return y.prototype=new Error,y.prototype.name="RenderingCancelledException",y.constructor=y,y}(),q={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4},r=["","_self","_blank","_parent","_top"],b.CustomStyle=o,b.RenderingCancelledException=p,b.addLinkAttributes=s,b.isExternalLinkTargetSet=v,b.isValidUrl=w,b.getFilenameFromUrl=t,b.LinkTarget=q,b.getDefaultSetting=u,b.DEFAULT_LINK_REL=j,b.DOMCanvasFactory=l,b.DOMCMapReaderFactory=m,b.DOMSVGFactory=n},function(a,b,c){"use strict";var d=c(17),e=c(31),f=c(22),g=Object.defineProperty;b.f=c(3)?Object.defineProperty:function(a,b,c){if(d(a),b=f(b,!0),d(c),e)try{return g(a,b,c)}catch(h){}if("get"in c||"set"in c)throw TypeError("Accessors not supported!");return"value"in c&&(a[b]=c.value),a}},function(a){"use strict";a.exports="undefined"!=typeof window&&window.Math===Math?window:"undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:{}},function(a){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};a.exports=function(a){return"object"===("undefined"==typeof a?"undefined":d(a))?null!==a:"function"==typeof a}},function(a){"use strict";var d=0,e=Math.random();a.exports=function(a){return"Symbol(".concat(void 0===a?"":a,")_",(++d+e).toString(36))}},function(a){"use strict";var d=Math.ceil,e=Math.floor;a.exports=function(a){return isNaN(a=+a)?0:(a>0?e:d)(a)}},function(a,b,c){"use strict";var d=c(41);a.exports=function(a){return Object(d(a))}},function(a){"use strict";a.exports={}},function(a){"use strict";a.exports=function(a){try{return!!a()}catch(b){return!0}}},function(a){"use strict";var d=a.exports={version:"2.5.1"};"number"==typeof __e&&(__e=d)},function(a,b,c){"use strict";var d=c(10);a.exports=function(a){if(!d(a))throw TypeError(a+" is not an object!");return a}},function(a){"use strict";a.exports=function(a,b){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:b}
}},function(a,b,c){"use strict";var d=c(40),e=c(41);a.exports=function(a){return d(e(a))}},function(a,b,c){"use strict";var d=c(12),e=Math.max,f=Math.min;a.exports=function(a,b){return a=d(a),0>a?e(a+b,0):f(a,b)}},function(a){"use strict";a.exports=!1},function(a,b,c){"use strict";var d=c(10);a.exports=function(a,b){if(!d(a))return a;var c,e;if(b&&"function"==typeof(c=a.toString)&&!d(e=c.call(a)))return e;if("function"==typeof(c=a.valueOf)&&!d(e=c.call(a)))return e;if(!b&&"function"==typeof(c=a.toString)&&!d(e=c.call(a)))return e;throw TypeError("Can't convert object to primitive value")}},function(a,b,c){"use strict";var d=c(2),e=c(4),f=c(5),g=c(11)("src"),h="toString",i=Function[h],j=(""+i).split(h);c(16).inspectSource=function(a){return i.call(a)},(a.exports=function(a,b,c,h){var i="function"==typeof c;i&&(f(c,"name")||e(c,"name",b)),a[b]!==c&&(i&&(f(c,g)||e(c,g,a[b]?""+a[b]:j.join(String(b)))),a===d?a[b]=c:h?a[b]?a[b]=c:e(a,b,c):(delete a[b],e(a,b,c)))})(Function.prototype,h,function(){return"function"==typeof this&&this[g]||i.call(this)})},function(a,b,c){"use strict";var d=c(33);a.exports=function(a,b,c){if(d(a),void 0===b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)}}return function(){return a.apply(b,arguments)}}},function(a){"use strict";var d={}.toString;a.exports=function(a){return d.call(a).slice(8,-1)}},function(a,b,c){"use strict";var d=c(43)("keys"),e=c(11);a.exports=function(a){return d[a]||(d[a]=e(a))}},function(a){"use strict";a.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(a,b,c){"use strict";var d=c(8).f,e=c(5),f=c(1)("toStringTag");a.exports=function(a,b,c){a&&!e(a=c?a:a.prototype,f)&&d(a,f,{configurable:!0,value:b})}},function(a,b,c){"use strict";function e(a){var g,h,i,b=a.getResponseHeader,c=a.isHttp,e=a.rangeChunkSize,f=a.disableRange;return d.assert(e>0),g={allowRangeRequests:!1,suggestedLength:void 0},f||!c?g:"bytes"!==b("Accept-Ranges")?g:(h=b("Content-Encoding")||"identity","identity"!==h?g:(i=parseInt(b("Content-Length"),10),Number.isInteger(i)?(g.suggestedLength=i,2*e>=i?g:(g.allowRangeRequests=!0,g)):g))}function f(a,b){return 404===a||0===a&&/^file:/.test(b)?new d.MissingPDFException('Missing PDF "'+b+'".'):new d.UnexpectedResponseException("Unexpected server response ("+a+') while retrieving PDF "'+b+'".',a)}function g(a){return 200===a||206===a}Object.defineProperty(b,"__esModule",{value:!0}),b.validateResponseStatus=b.validateRangeRequestCapabilities=b.createResponseStatusError=void 0;var d=c(0);b.createResponseStatusError=f,b.validateRangeRequestCapabilities=e,b.validateResponseStatus=g},function(a,b,c){"use strict";var d=c(2),e=c(16),f=c(4),g=c(23),h=c(24),i="prototype",j=function k(a,b,c){var s,t,u,v,j=a&k.F,l=a&k.G,m=a&k.S,n=a&k.P,o=a&k.B,p=l?d:m?d[b]||(d[b]={}):(d[b]||{})[i],q=l?e:e[b]||(e[b]={}),r=q[i]||(q[i]={});l&&(c=b);for(s in c)t=!j&&p&&void 0!==p[s],u=(t?p:c)[s],v=o&&t?h(u,d):n&&"function"==typeof u?h(Function.call,u):u,p&&g(p,s,u,a&k.U),q[s]!=u&&f(q,s,v),n&&r[s]!=u&&(r[s]=u)};d.core=e,j.F=1,j.G=2,j.S=4,j.P=8,j.B=16,j.W=32,j.U=64,j.R=128,a.exports=j},function(a,b,c){"use strict";a.exports=!c(3)&&!c(15)(function(){return 7!=Object.defineProperty(c(32)("div"),"a",{get:function(){return 7}}).a})},function(a,b,c){"use strict";var d=c(10),e=c(2).document,f=d(e)&&d(e.createElement);a.exports=function(a){return f?e.createElement(a):{}}},function(a){"use strict";a.exports=function(a){if("function"!=typeof a)throw TypeError(a+" is not a function!");return a}},function(a,b,c){"use strict";for(var m,d=c(2),e=c(4),f=c(11),g=f("typed_array"),h=f("view"),i=!(!d.ArrayBuffer||!d.DataView),j=i,k=0,l=9,n="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");l>k;)(m=d[n[k++]])?(e(m.prototype,g,!0),e(m.prototype,h,!0)):j=!1;a.exports={ABV:i,CONSTR:j,TYPED:g,VIEW:h}},function(a,b,c){"use strict";var d=c(23);a.exports=function(a,b,c){for(var e in b)d(a,e,b[e],c);return a}},function(a){"use strict";a.exports=function(a,b,c,d){if(!(a instanceof b)||void 0!==d&&d in a)throw TypeError(c+": incorrect invocation!");return a}},function(a,b,c){"use strict";var d=c(12),e=c(6);a.exports=function(a){var b,c;if(void 0===a)return 0;if(b=d(a),c=e(b),b!==c)throw RangeError("Wrong length!");return c}},function(a,b,c){"use strict";var d=c(39),e=c(27).concat("length","prototype");b.f=Object.getOwnPropertyNames||function(a){return d(a,e)}},function(a,b,c){"use strict";var d=c(5),e=c(19),f=c(42)(!1),g=c(26)("IE_PROTO");a.exports=function(a,b){var j,c=e(a),h=0,i=[];for(j in c)j!=g&&d(c,j)&&i.push(j);for(;b.length>h;)d(c,j=b[h++])&&(~f(i,j)||i.push(j));return i}},function(a,b,c){"use strict";var d=c(25);a.exports=Object("z").propertyIsEnumerable(0)?Object:function(a){return"String"==d(a)?a.split(""):Object(a)}},function(a){"use strict";a.exports=function(a){if(void 0==a)throw TypeError("Can't call method on  "+a);return a}},function(a,b,c){"use strict";var d=c(19),e=c(6),f=c(20);a.exports=function(a){return function(b,c,g){var k,h=d(b),i=e(h.length),j=f(g,i);if(a&&c!=c){for(;i>j;)if(k=h[j++],k!=k)return!0}else for(;i>j;j++)if((a||j in h)&&h[j]===c)return a||j||0;return!a&&-1}}},function(a,b,c){"use strict";var d=c(2),e="__core-js_shared__",f=d[e]||(d[e]={});a.exports=function(a){return f[a]||(f[a]={})}},function(a,b,c){"use strict";var d=c(13),e=c(20),f=c(6);a.exports=function(a){for(var b=d(this),c=f(b.length),g=arguments.length,h=e(g>1?arguments[1]:void 0,c),i=g>2?arguments[2]:void 0,j=void 0===i?c:e(i,c);j>h;)b[h++]=a;return b}},function(a,b,c){"use strict";var d=c(25),e=c(1)("toStringTag"),f="Arguments"==d(function(){return arguments}()),g=function(a,b){try{return a[b]}catch(c){}};a.exports=function(a){var b,c,h;return void 0===a?"Undefined":null===a?"Null":"string"==typeof(c=g(b=Object(a),e))?c:f?d(b):"Object"==(h=d(b))&&"function"==typeof b.callee?"Arguments":h}},function(a,b,c){"use strict";var d=c(17),e=c(61),f=c(27),g=c(26)("IE_PROTO"),h=function(){},i="prototype",j=function(){var g,a=c(32)("iframe"),b=f.length,d="<",e=">";for(a.style.display="none",c(63).appendChild(a),a.src="javascript:",g=a.contentWindow.document,g.open(),g.write(d+"script"+e+"document.F=Object"+d+"/script"+e),g.close(),j=g.F;b--;)delete j[i][f[b]];return j()};a.exports=Object.create||function(a,b){var c;return null!==a?(h[i]=d(a),c=new h,h[i]=null,c[g]=a):c=j(),void 0===b?c:e(c,b)}},function(a,b,c){"use strict";var d=c(5),e=c(13),f=c(26)("IE_PROTO"),g=Object.prototype;a.exports=Object.getPrototypeOf||function(a){return a=e(a),d(a,f)?a[f]:"function"==typeof a.constructor&&a instanceof a.constructor?a.constructor.prototype:a instanceof Object?g:null}},function(a,b,c){"use strict";function n(a){return a&&a.__esModule?a:{"default":a}}function o(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function y(a){x=a}function z(a,b,c,d){var i,j,k,l,n,o,q,r,s,h=new B;if(arguments.length>1&&f.deprecated("getDocument is called with pdfDataRangeTransport, passwordCallback or progressCallback argument"),b&&(b instanceof C||(b=Object.create(b),b.length=a.length,b.initialData=a.initialData,b.abort||(b.abort=function(){})),a=Object.create(a),a.range=b),h.onPassword=c||null,h.onProgress=d||null,"string"==typeof a)i={url:a};else if(f.isArrayBuffer(a))i={data:a};else if(a instanceof C)i={range:a};else{if("object"!==("undefined"==typeof a?"undefined":e(a)))throw new Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");if(!a.url&&!a.data&&!a.range)throw new Error("Invalid parameter object: need either .data, .range or .url");i=a}j={},k=null,l=null,n=g.DOMCMapReaderFactory;for(o in i)if("url"!==o||"undefined"==typeof window)if("range"!==o)if("worker"!==o)if("data"!==o||i[o]instanceof Uint8Array)"CMapReaderFactory"!==o?j[o]=i[o]:n=i[o];else if(q=i[o],"string"==typeof q)j[o]=f.stringToBytes(q);else if("object"!==("undefined"==typeof q?"undefined":e(q))||null===q||isNaN(q.length)){if(!f.isArrayBuffer(q))throw new Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");j[o]=new Uint8Array(q)}else j[o]=new Uint8Array(q);else l=i[o];else k=i[o];else j[o]=new URL(i[o],window.location).href;return j.rangeChunkSize=j.rangeChunkSize||p,j.ignoreErrors=j.stopAtErrors!==!0,void 0!==j.disableNativeImageDecoder&&f.deprecated("parameter disableNativeImageDecoder, use nativeImageDecoderSupport instead"),j.nativeImageDecoderSupport=j.nativeImageDecoderSupport||(j.disableNativeImageDecoder===!0?f.NativeImageDecoding.NONE:f.NativeImageDecoding.DECODE),j.nativeImageDecoderSupport!==f.NativeImageDecoding.DECODE&&j.nativeImageDecoderSupport!==f.NativeImageDecoding.NONE&&j.nativeImageDecoderSupport!==f.NativeImageDecoding.DISPLAY&&(f.warn("Invalid parameter nativeImageDecoderSupport: need a state of enum {NativeImageDecoding}"),j.nativeImageDecoderSupport=f.NativeImageDecoding.DECODE),l||(r=g.getDefaultSetting("workerPort"),l=r?G.fromPort(r):new G,h._worker=l),s=h.docId,l.promise.then(function(){if(h.destroyed)throw new Error("Loading aborted");return A(l,j,k,s).then(function(a){var b,c,d;if(h.destroyed)throw new Error("Loading aborted");b=void 0,k?b=new m.PDFDataTransportStream(j,k):j.data||(b=new x({source:j,disableRange:g.getDefaultSetting("disableRange")})),c=new f.MessageHandler(s,a,l.port),c.postMessageTransfers=l.postMessageTransfers,d=new H(c,h,b,n),h._transport=d,c.send("Ready",null)})}).catch(h._capability.reject),h}function A(a,b,c,d){return a.destroyed?Promise.reject(new Error("Worker was destroyed")):(b.disableAutoFetch=g.getDefaultSetting("disableAutoFetch"),b.disableStream=g.getDefaultSetting("disableStream"),b.chunkedViewerLoading=!!c,c&&(b.length=c.length,b.initialData=c.initialData),a.messageHandler.sendWithPromise("GetDocRequest",{docId:d,source:{data:b.data,url:b.url,password:b.password,disableAutoFetch:b.disableAutoFetch,rangeChunkSize:b.rangeChunkSize,length:b.length},maxImageSize:g.getDefaultSetting("maxImageSize"),disableFontFace:g.getDefaultSetting("disableFontFace"),disableCreateObjectURL:g.getDefaultSetting("disableCreateObjectURL"),postMessageTransfers:g.getDefaultSetting("postMessageTransfers")&&!s,docBaseUrl:b.docBaseUrl,nativeImageDecoderSupport:b.nativeImageDecoderSupport,ignoreErrors:b.ignoreErrors}).then(function(b){if(a.destroyed)throw new Error("Worker was destroyed");return b}))}var d,e,f,g,h,i,j,k,l,m,p,q,r,s,t,u,v,w,x,B,C,D,E,F,G,H,I,J,K,L,M,N;Object.defineProperty(b,"__esModule",{value:!0}),b.build=b.version=b._UnsupportedManager=b.setPDFNetworkStreamClass=b.PDFPageProxy=b.PDFDocumentProxy=b.PDFWorker=b.PDFDataRangeTransport=b.LoopbackPort=b.getDocument=void 0,d=function(){function a(a,b){var c,d;for(c=0;c<b.length;c++)d=b[c],d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=c(0),g=c(7),h=c(83),i=c(84),j=c(9),k=n(j),l=c(50),m=c(86),p=65536,q=!1,s=!1,t="undefined"!=typeof document&&document.currentScript?document.currentScript.src:null,u=null,v=!1,"undefined"==typeof window?(q=!0,"undefined"==typeof require.ensure&&(require.ensure=require("node-ensure")),v=!0):"undefined"!=typeof require&&"function"==typeof require.ensure&&(v=!0),"undefined"!=typeof requirejs&&requirejs.toUrl&&(r=requirejs.toUrl("pdfjs-dist/build/pdf.worker.js")),w="undefined"!=typeof requirejs&&requirejs.load,u=v?function(a){require.ensure([],function(){var b;b=require("./pdf.worker.js"),a(b.WorkerMessageHandler)})}:w?function(a){requirejs(["pdfjs-dist/build/pdf.worker"],function(b){a(b.WorkerMessageHandler)})}:null,B=function(){function b(){this._capability=f.createPromiseCapability(),this._transport=null,this._worker=null,this.docId="d"+a++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}var a=0;return b.prototype={get promise(){return this._capability.promise},destroy:function(){var b,a=this;return this.destroyed=!0,b=this._transport?this._transport.destroy():Promise.resolve(),b.then(function(){a._transport=null,a._worker&&(a._worker.destroy(),a._worker=null)})},then:function(){return this.promise.then.apply(this.promise,arguments)}},b}(),C=function(){function a(a,b){this.length=a,this.initialData=b,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._readyCapability=f.createPromiseCapability()}return a.prototype={addRangeListener:function(a){this._rangeListeners.push(a)},addProgressListener:function(a){this._progressListeners.push(a)},addProgressiveReadListener:function(a){this._progressiveReadListeners.push(a)},onDataRange:function(a,b){var d,e,c=this._rangeListeners;for(d=0,e=c.length;e>d;++d)c[d](a,b)},onDataProgress:function(a){var b=this;this._readyCapability.promise.then(function(){var d,e,c=b._progressListeners;for(d=0,e=c.length;e>d;++d)c[d](a)})},onDataProgressiveRead:function(a){var b=this;this._readyCapability.promise.then(function(){var d,e,c=b._progressiveReadListeners;for(d=0,e=c.length;e>d;++d)c[d](a)})},transportReady:function(){this._readyCapability.resolve()},requestDataRange:function(){throw new Error("Abstract method PDFDataRangeTransport.requestDataRange")},abort:function(){}},a}(),D=function(){function a(a,b,c){this.pdfInfo=a,this.transport=b,this.loadingTask=c}return a.prototype={get numPages(){return this.pdfInfo.numPages},get fingerprint(){return this.pdfInfo.fingerprint},getPage:function(a){return this.transport.getPage(a)},getPageIndex:function(a){return this.transport.getPageIndex(a)},getDestinations:function(){return this.transport.getDestinations()},getDestination:function(a){return this.transport.getDestination(a)},getPageLabels:function(){return this.transport.getPageLabels()},getPageMode:function(){return this.transport.getPageMode()},getAttachments:function(){return this.transport.getAttachments()},getJavaScript:function(){return this.transport.getJavaScript()},getOutline:function(){return this.transport.getOutline()},getMetadata:function(){return this.transport.getMetadata()},getData:function(){return this.transport.getData()},getDownloadInfo:function(){return this.transport.downloadInfoCapability.promise},getStats:function(){return this.transport.getStats()},cleanup:function(){this.transport.startCleanup()},destroy:function(){return this.loadingTask.destroy()}},a}(),E=function(){function a(a,b,c){this.pageIndex=a,this.pageInfo=b,this.transport=c,this.stats=new f.StatTimer,this.stats.enabled=g.getDefaultSetting("enableStats"),this.commonObjs=c.commonObjs,this.objs=new I,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this.intentStates=Object.create(null),this.destroyed=!1}return a.prototype={get pageNumber(){return this.pageIndex+1},get rotate(){return this.pageInfo.rotate},get ref(){return this.pageInfo.ref},get userUnit(){return this.pageInfo.userUnit},get view(){return this.pageInfo.view},getViewport:function(a,b){return arguments.length<2&&(b=this.rotate),new f.PageViewport(this.view,a,b,0,0)},getAnnotations:function(a){var b=a&&a.intent||null;return this.annotationsPromise&&this.annotationsIntent===b||(this.annotationsPromise=this.transport.getAnnotations(this.pageIndex,b),this.annotationsIntent=b),this.annotationsPromise},render:function(a){var d,e,h,i,j,k,b=this,c=this.stats;return c.time("Overall"),this.pendingCleanup=!1,d="print"===a.intent?"print":"display",e=a.canvasFactory||new g.DOMCanvasFactory,this.intentStates[d]||(this.intentStates[d]=Object.create(null)),h=this.intentStates[d],h.displayReadyCapability||(h.receivingOperatorList=!0,h.displayReadyCapability=f.createPromiseCapability(),h.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this.stats.time("Page Request"),this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageNumber-1,intent:d,renderInteractiveForms:a.renderInteractiveForms===!0})),i=function(a){var d=h.renderTasks.indexOf(j);d>=0&&h.renderTasks.splice(d,1),b.cleanupAfterRender&&(b.pendingCleanup=!0),b._tryCleanup(),a?j.capability.reject(a):j.capability.resolve(),c.timeEnd("Rendering"),c.timeEnd("Overall")},j=new K(i,a,this.objs,this.commonObjs,h.operatorList,this.pageNumber,e),j.useRequestAnimationFrame="print"!==d,h.renderTasks||(h.renderTasks=[]),h.renderTasks.push(j),k=j.task,a.continueCallback&&(f.deprecated("render is used with continueCallback parameter"),k.onContinue=a.continueCallback),h.displayReadyCapability.promise.then(function(a){return b.pendingCleanup?(i(),void 0):(c.time("Rendering"),j.initializeGraphics(a),j.operatorListChanged(),void 0)}).catch(i),k},getOperatorList:function(){function a(){if(c.operatorList.lastChunk){c.opListReadCapability.resolve(c.operatorList);var a=c.renderTasks.indexOf(d);a>=0&&c.renderTasks.splice(a,1)}}var c,d,b="oplist";return this.intentStates[b]||(this.intentStates[b]=Object.create(null)),c=this.intentStates[b],c.opListReadCapability||(d={},d.operatorListChanged=a,c.receivingOperatorList=!0,c.opListReadCapability=f.createPromiseCapability(),c.renderTasks=[],c.renderTasks.push(d),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageIndex,intent:b})),c.opListReadCapability.promise},streamTextContent:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=100;return this.transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this.pageNumber-1,normalizeWhitespace:a.normalizeWhitespace===!0,combineTextItems:a.disableCombineTextItems!==!0},{highWaterMark:b,size:function(a){return a.items.length}})},getTextContent:function(a){a=a||{};var b=this.streamTextContent(a);return new Promise(function(a,c){function d(){e.read().then(function(b){var c=b.value,e=b.done;return e?(a(g),void 0):(f.Util.extendObj(g.styles,c.styles),f.Util.appendToArray(g.items,c.items),d(),void 0)},c)}var e=b.getReader(),g={items:[],styles:Object.create(null)};d()})},_destroy:function(){this.destroyed=!0,this.transport.pageCache[this.pageIndex]=null;var a=[];return Object.keys(this.intentStates).forEach(function(b){if("oplist"!==b){var c=this.intentStates[b];c.renderTasks.forEach(function(b){var c=b.capability.promise.catch(function(){});a.push(c),b.cancel()})}},this),this.objs.clear(),this.annotationsPromise=null,this.pendingCleanup=!1,Promise.all(a)},destroy:function(){f.deprecated("page destroy method, use cleanup() instead"),this.cleanup()},cleanup:function(){this.pendingCleanup=!0,this._tryCleanup()},_tryCleanup:function(){this.pendingCleanup&&!Object.keys(this.intentStates).some(function(a){var b=this.intentStates[a];return 0!==b.renderTasks.length||b.receivingOperatorList},this)&&(Object.keys(this.intentStates).forEach(function(a){delete this.intentStates[a]},this),this.objs.clear(),this.annotationsPromise=null,this.pendingCleanup=!1)},_startRenderPage:function(a,b){var c=this.intentStates[b];c.displayReadyCapability&&c.displayReadyCapability.resolve(a)},_renderPageChunk:function(a,b){var d,e,c=this.intentStates[b];for(d=0,e=a.length;e>d;d++)c.operatorList.fnArray.push(a.fnArray[d]),c.operatorList.argsArray.push(a.argsArray[d]);for(c.operatorList.lastChunk=a.lastChunk,d=0;d<c.renderTasks.length;d++)c.renderTasks[d].operatorListChanged();a.lastChunk&&(c.receivingOperatorList=!1,this._tryCleanup())}},a}(),F=function(){function a(b){o(this,a),this._listeners=[],this._defer=b,this._deferred=Promise.resolve(void 0)}return d(a,[{key:"postMessage",value:function(a,b){function d(a){var c,h,i,j,k,l;if("object"!==("undefined"==typeof a?"undefined":e(a))||null===a)return a;if(g.has(a))return g.get(a);if((h=a.buffer)&&f.isArrayBuffer(h))return i=b&&b.indexOf(h)>=0,c=a===h?a:i?new a.constructor(h,a.byteOffset,a.byteLength):new a.constructor(a),g.set(a,c),c;c=Array.isArray(a)?[]:{},g.set(a,c);for(j in a){for(l=a;!(k=Object.getOwnPropertyDescriptor(l,j));)l=Object.getPrototypeOf(l);"undefined"!=typeof k.value&&"function"!=typeof k.value&&(c[j]=d(k.value))}return c}var g,h,c=this;return this._defer?(g=new WeakMap,h={data:d(a)},this._deferred.then(function(){c._listeners.forEach(function(a){a.call(this,h)},c)}),void 0):(this._listeners.forEach(function(b){b.call(this,{data:a})},this),void 0)}},{key:"addEventListener",value:function(a,b){this._listeners.push(b)}},{key:"removeEventListener",value:function(a,b){var c=this._listeners.indexOf(b);this._listeners.splice(c,1)}},{key:"terminate",value:function(){this._listeners=[]}}]),a}(),G=function(){function b(){if("undefined"!=typeof r)return r;if(g.getDefaultSetting("workerSrc"))return g.getDefaultSetting("workerSrc");if(t)return t.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2");throw new Error("No PDFJS.workerSrc specified")}function d(){if(c)return c.promise;c=f.createPromiseCapability();var d=u||function(a){f.Util.loadScript(b(),function(){a(window.pdfjsDistBuildPdfWorker.WorkerMessageHandler)})};return d(c.resolve),c.promise}function e(a){var b="importScripts('"+a+"');";return URL.createObjectURL(new Blob([b]))}function i(a,b){if(b&&h.has(b))throw new Error("Cannot use more than one PDFWorker per port");return this.name=a,this.destroyed=!1,this.postMessageTransfers=!0,this._readyCapability=f.createPromiseCapability(),this._port=null,this._webWorker=null,this._messageHandler=null,b?(h.set(b,this),this._initializeFromPort(b),void 0):(this._initialize(),void 0)}var a=0,c=void 0,h=new WeakMap;return i.prototype={get promise(){return this._readyCapability.promise},get port(){return this._port},get messageHandler(){return this._messageHandler},_initializeFromPort:function(a){this._port=a,this._messageHandler=new f.MessageHandler("main","worker",a),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()},_initialize:function(){var c,d,h,i,j,k,a=this;if(!q&&!g.getDefaultSetting("disableWorker")&&"undefined"!=typeof Worker){c=b();try{return f.isSameOrigin(window.location.href,c)||(c=e(new URL(c,window.location).href)),d=new Worker(c),h=new f.MessageHandler("main","worker",d),i=function(){d.removeEventListener("error",j),h.destroy(),d.terminate(),a.destroyed?a._readyCapability.reject(new Error("Worker was destroyed")):a._setupFakeWorker()},j=function(){a._webWorker||i()},d.addEventListener("error",j),h.on("test",function(b){if(d.removeEventListener("error",j),a.destroyed)return i(),void 0;var c=b&&b.supportTypedArray;c?(a._messageHandler=h,a._port=d,a._webWorker=d,b.supportTransfers||(a.postMessageTransfers=!1,s=!0),a._readyCapability.resolve(),h.send("configure",{verbosity:f.getVerbosityLevel()})):(a._setupFakeWorker(),h.destroy(),d.terminate())}),h.on("console_log",function(a){console.log.apply(console,a)}),h.on("console_error",function(a){console.error.apply(console,a)}),h.on("ready",function(){if(d.removeEventListener("error",j),a.destroyed)return i(),void 0;try{k()}catch(c){a._setupFakeWorker()}}),k=function(){var a=g.getDefaultSetting("postMessageTransfers")&&!s,b=new Uint8Array([a?255:0]);try{h.send("test",b,[b.buffer])}catch(c){f.info("Cannot use postMessage transfers"),b[0]=0,h.send("test",b)}},k(),void 0}catch(l){f.info("The worker has been disabled.")}}this._setupFakeWorker()},_setupFakeWorker:function(){var b=this;q||g.getDefaultSetting("disableWorker")||(f.warn("Setting up fake worker."),q=!0),d().then(function(c){var d,e,g,h,i;return b.destroyed?(b._readyCapability.reject(new Error("Worker was destroyed")),void 0):(d=Uint8Array!==Float32Array,e=new F(d),b._port=e,g="fake"+a++,h=new f.MessageHandler(g+"_worker",g,e),c.setup(h,e),i=new f.MessageHandler(g,g+"_worker",e),b._messageHandler=i,b._readyCapability.resolve(),void 0)})},destroy:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),h.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}},i.fromPort=function(a){return h.has(a)?h.get(a):new i(null,a)},i}(),H=function(){function a(a,b,c,d){this.messageHandler=a,this.loadingTask=b,this.commonObjs=new I,this.fontLoader=new h.FontLoader(b.docId),this.CMapReaderFactory=new d({baseUrl:g.getDefaultSetting("cMapUrl"),isCompressed:g.getDefaultSetting("cMapPacked")}),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=c,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=f.createPromiseCapability(),this.setupMessageHandler()}return a.prototype={destroy:function(){var b,c,a=this;return this.destroyCapability?this.destroyCapability.promise:(this.destroyed=!0,this.destroyCapability=f.createPromiseCapability(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback")),b=[],this.pageCache.forEach(function(a){a&&b.push(a._destroy())}),this.pageCache=[],this.pagePromises=[],c=this.messageHandler.sendWithPromise("Terminate",null),b.push(c),Promise.all(b).then(function(){a.fontLoader.clear(),a._networkStream&&a._networkStream.cancelAllRequests(),a.messageHandler&&(a.messageHandler.destroy(),a.messageHandler=null),a.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise)},setupMessageHandler:function(){var a=this.messageHandler,b=this.loadingTask;a.on("GetReader",function(a,b){var c=this;f.assert(this._networkStream),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=function(a){c._lastProgress={loaded:a.loaded,total:a.total}},b.onPull=function(){c._fullReader.read().then(function(a){var c=a.value,d=a.done;return d?(b.close(),void 0):(f.assert(f.isArrayBuffer(c)),b.enqueue(new Uint8Array(c),1,[c]),void 0)}).catch(function(a){b.error(a)})},b.onCancel=function(a){c._fullReader.cancel(a)}},this),a.on("ReaderHeadersReady",function(){var b=this,c=f.createPromiseCapability(),d=this._fullReader;return d.headersReady.then(function(){if(!d.isStreamingSupported||!d.isRangeSupported){if(b._lastProgress){var a=b.loadingTask;a.onProgress&&a.onProgress(b._lastProgress)}d.onProgress=function(a){var c=b.loadingTask;c.onProgress&&c.onProgress({loaded:a.loaded,total:a.total})}}c.resolve({isStreamingSupported:d.isStreamingSupported,isRangeSupported:d.isRangeSupported,contentLength:d.contentLength})},c.reject),c.promise},this),a.on("GetRangeReader",function(a,b){f.assert(this._networkStream);var c=this._networkStream.getRangeReader(a.begin,a.end);b.onPull=function(){c.read().then(function(a){var c=a.value,d=a.done;return d?(b.close(),void 0):(f.assert(f.isArrayBuffer(c)),b.enqueue(new Uint8Array(c),1,[c]),void 0)}).catch(function(a){b.error(a)})},b.onCancel=function(a){c.cancel(a)}},this),a.on("GetDoc",function(a){var c,d,b=a.pdfInfo;this.numPages=a.pdfInfo.numPages,c=this.loadingTask,d=new D(b,this,c),this.pdfDocument=d,c._capability.resolve(d)},this),a.on("PasswordRequest",function(a){var d,c=this;return this._passwordCapability=f.createPromiseCapability(),b.onPassword?(d=function(a){c._passwordCapability.resolve({password:a})},b.onPassword(d,a.code)):this._passwordCapability.reject(new f.PasswordException(a.message,a.code)),this._passwordCapability.promise},this),a.on("PasswordException",function(a){b._capability.reject(new f.PasswordException(a.message,a.code))},this),a.on("InvalidPDF",function(a){this.loadingTask._capability.reject(new f.InvalidPDFException(a.message))},this),a.on("MissingPDF",function(a){this.loadingTask._capability.reject(new f.MissingPDFException(a.message))},this),a.on("UnexpectedResponse",function(a){this.loadingTask._capability.reject(new f.UnexpectedResponseException(a.message,a.status))},this),a.on("UnknownError",function(a){this.loadingTask._capability.reject(new f.UnknownErrorException(a.message,a.details))},this),a.on("DataLoaded",function(a){this.downloadInfoCapability.resolve(a)},this),a.on("PDFManagerReady",function(){},this),a.on("StartRenderPage",function(a){if(!this.destroyed){var b=this.pageCache[a.pageIndex];b.stats.timeEnd("Page Request"),b._startRenderPage(a.transparency,a.intent)}},this),a.on("RenderPageChunk",function(a){if(!this.destroyed){var b=this.pageCache[a.pageIndex];b._renderPageChunk(a.operatorList,a.intent)}},this),a.on("commonobj",function(a){var c,d,e,i,j,l,m,b=this;if(!this.destroyed&&(c=a[0],d=a[1],!this.commonObjs.hasData(c)))switch(d){case"Font":if(e=a[2],"error"in e){i=e.error,f.warn("Error during font loading: "+i),this.commonObjs.resolve(c,i);break}j=null,g.getDefaultSetting("pdfBug")&&k.default.FontInspector&&k.default["FontInspector"].enabled&&(j={registerFont:function(a,b){k.default["FontInspector"].fontAdded(a,b)}}),l=new h.FontFaceObject(e,{isEvalSuported:g.getDefaultSetting("isEvalSupported"),disableFontFace:g.getDefaultSetting("disableFontFace"),fontRegistry:j}),m=function(){b.commonObjs.resolve(c,l)},this.fontLoader.bind([l],m);break;case"FontPath":this.commonObjs.resolve(c,a[2]);break;default:throw new Error("Got unknown common object type "+d)}},this),a.on("obj",function(a){var b,c,d,e,g,h;if(!this.destroyed&&(b=a[0],c=a[1],d=a[2],e=this.pageCache[c],!e.objs.hasData(b)))switch(d){case"JpegStream":g=a[3],f.loadJpegStream(b,g,e.objs);break;case"Image":g=a[3],e.objs.resolve(b,g),h=8e6,g&&"data"in g&&g.data.length>h&&(e.cleanupAfterRender=!0);break;default:throw new Error("Got unknown object type "+d)}},this),a.on("DocProgress",function(a){if(!this.destroyed){var b=this.loadingTask;b.onProgress&&b.onProgress({loaded:a.loaded,total:a.total})}},this),a.on("PageError",function(a){var b,c,d;if(!this.destroyed){if(b=this.pageCache[a.pageNum-1],c=b.intentStates[a.intent],!c.displayReadyCapability)throw new Error(a.error);if(c.displayReadyCapability.reject(a.error),c.operatorList)for(c.operatorList.lastChunk=!0,d=0;d<c.renderTasks.length;d++)c.renderTasks[d].operatorListChanged()}},this),a.on("UnsupportedFeature",function(a){var b,c;this.destroyed||(b=a.featureId,c=this.loadingTask,c.onUnsupportedFeature&&c.onUnsupportedFeature(b),L.notify(b))},this),a.on("JpegDecode",function(a){var b,c;return this.destroyed?Promise.reject(new Error("Worker was destroyed")):"undefined"==typeof document?Promise.reject(new Error('"document" is not defined.')):(b=a[0],c=a[1],3!==c&&1!==c?Promise.reject(new Error("Only 3 components or 1 component can be returned")):new Promise(function(a,d){var e=new Image;e.onload=function(){var j,k,l,m,b=e.width,d=e.height,f=b*d,g=4*f,h=new Uint8Array(f*c),i=document.createElement("canvas");if(i.width=b,i.height=d,j=i.getContext("2d"),j.drawImage(e,0,0),k=j.getImageData(0,0,b,d).data,3===c)for(l=0,m=0;g>l;l+=4,m+=3)h[m]=k[l],h[m+1]=k[l+1],h[m+2]=k[l+2];else if(1===c)for(l=0,m=0;g>l;l+=4,m++)h[m]=k[l];a({data:h,width:b,height:d})},e.onerror=function(){d(new Error("JpegDecode failed to load image"))},e.src=b}))},this),a.on("FetchBuiltInCMap",function(a){return this.destroyed?Promise.reject(new Error("Worker was destroyed")):this.CMapReaderFactory.fetch({name:a.name})},this)},getData:function(){return this.messageHandler.sendWithPromise("GetData",null)},getPage:function(a){var d,e,c=this;return!Number.isInteger(a)||0>=a||a>this.numPages?Promise.reject(new Error("Invalid page request")):(d=a-1,d in this.pagePromises?this.pagePromises[d]:(e=this.messageHandler.sendWithPromise("GetPage",{pageIndex:d}).then(function(a){if(c.destroyed)throw new Error("Transport destroyed");var b=new E(d,a,c);return c.pageCache[d]=b,b}),this.pagePromises[d]=e,e))},getPageIndex:function(a){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:a}).catch(function(a){return Promise.reject(new Error(a))})},getAnnotations:function(a,b){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:a,intent:b})},getDestinations:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)
},getDestination:function(a){return this.messageHandler.sendWithPromise("GetDestination",{id:a})},getPageLabels:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)},getPageMode:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)},getAttachments:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)},getJavaScript:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)},getOutline:function(){return this.messageHandler.sendWithPromise("GetOutline",null)},getMetadata:function(){return this.messageHandler.sendWithPromise("GetMetadata",null).then(function(a){return{info:a[0],metadata:a[1]?new l.Metadata(a[1]):null}})},getStats:function(){return this.messageHandler.sendWithPromise("GetStats",null)},startCleanup:function(){var a=this;this.messageHandler.sendWithPromise("Cleanup",null).then(function(){var b,c,d;for(b=0,c=a.pageCache.length;c>b;b++)d=a.pageCache[b],d&&d.cleanup();a.commonObjs.clear(),a.fontLoader.clear()})}},a}(),I=function(){function a(){this.objs=Object.create(null)}return a.prototype={ensureObj:function(a){if(this.objs[a])return this.objs[a];var b={capability:f.createPromiseCapability(),data:null,resolved:!1};return this.objs[a]=b,b},get:function(a,b){if(b)return this.ensureObj(a).capability.promise.then(b),null;var c=this.objs[a];if(!c||!c.resolved)throw new Error("Requesting object that isn't resolved yet "+a);return c.data},resolve:function(a,b){var c=this.ensureObj(a);c.resolved=!0,c.data=b,c.capability.resolve(b)},isResolved:function(a){var b=this.objs;return b[a]?b[a].resolved:!1},hasData:function(a){return this.isResolved(a)},getData:function(a){var b=this.objs;return b[a]&&b[a].resolved?b[a].data:null},clear:function(){this.objs=Object.create(null)}},a}(),J=function(){function a(a){this._internalRenderTask=a,this.onContinue=null}return a.prototype={get promise(){return this._internalRenderTask.capability.promise},cancel:function(){this._internalRenderTask.cancel()},then:function(){return this.promise.then.apply(this.promise,arguments)}},a}(),K=function(){function b(a,b,c,d,e,g,h){this.callback=a,this.params=b,this.objs=c,this.commonObjs=d,this.operatorListIdx=null,this.operatorList=e,this.pageNumber=g,this.canvasFactory=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this.useRequestAnimationFrame=!1,this.cancelled=!1,this.capability=f.createPromiseCapability(),this.task=new J(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=b.canvasContext.canvas}var a=new WeakMap;return b.prototype={initializeGraphics:function(b){if(this._canvas){if(a.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");a.set(this._canvas,this)}if(!this.cancelled){g.getDefaultSetting("pdfBug")&&k.default.StepperManager&&k.default.StepperManager.enabled&&(this.stepper=k.default.StepperManager.create(this.pageNumber-1),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var c=this.params;this.gfx=new i.CanvasGraphics(c.canvasContext,this.commonObjs,this.objs,this.canvasFactory,c.imageLayer),this.gfx.beginDrawing({transform:c.transform,viewport:c.viewport,transparency:b,background:c.background}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}},cancel:function(){this.running=!1,this.cancelled=!0,this._canvas&&a.delete(this._canvas),g.getDefaultSetting("pdfjsNext")?this.callback(new g.RenderingCancelledException("Rendering cancelled, page "+this.pageNumber,"canvas")):this.callback("cancelled")},operatorListChanged:function(){return this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue(),void 0):(this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound),void 0)},_continue:function(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())},_scheduleNext:function(){this.useRequestAnimationFrame&&"undefined"!=typeof window?window.requestAnimationFrame(this._nextBound):Promise.resolve(void 0).then(this._nextBound)},_next:function(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&a.delete(this._canvas),this.callback())))}},b}(),L=function(){var a=[];return{listen:function(b){f.deprecated("Global UnsupportedManager.listen is used:  use PDFDocumentLoadingTask.onUnsupportedFeature instead"),a.push(b)},notify:function(b){for(var c=0,d=a.length;d>c;c++)a[c](b)}}}(),b.version=M="1.9.564",b.build=N="d0d70461",b.getDocument=z,b.LoopbackPort=F,b.PDFDataRangeTransport=C,b.PDFWorker=G,b.PDFDocumentProxy=D,b.PDFPageProxy=E,b.setPDFNetworkStreamClass=y,b._UnsupportedManager=L,b.version=M,b.build=N},function(a,b,c){"use strict";var d,e,f;Object.defineProperty(b,"__esModule",{value:!0}),b.WebGLUtils=void 0,d=c(7),e=c(0),f=function(){function a(a,b,c){var e,f,d=a.createShader(c);if(a.shaderSource(d,b),a.compileShader(d),e=a.getShaderParameter(d,a.COMPILE_STATUS),!e)throw f=a.getShaderInfoLog(d),new Error("Error during shader compilation: "+f);return d}function b(b,c){return a(b,c,b.VERTEX_SHADER)}function c(b,c){return a(b,c,b.FRAGMENT_SHADER)}function f(a,b){var d,e,f,g,c=a.createProgram();for(d=0,e=b.length;e>d;++d)a.attachShader(c,b[d]);if(a.linkProgram(c),f=a.getProgramParameter(c,a.LINK_STATUS),!f)throw g=a.getProgramInfoLog(c),new Error("Error during program linking: "+g);return c}function g(a,b,c){a.activeTexture(c);var d=a.createTexture();return a.bindTexture(a.TEXTURE_2D,d),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,b),d}function j(){h||(i=document.createElement("canvas"),h=i.getContext("webgl",{premultipliedalpha:!1}))}function n(){var a,d,e,g,n,o,p,q,r,s;j(),a=i,i=null,d=h,h=null,e=b(d,k),g=c(d,l),n=f(d,[e,g]),d.useProgram(n),o={},o.gl=d,o.canvas=a,o.resolutionLocation=d.getUniformLocation(n,"u_resolution"),o.positionLocation=d.getAttribLocation(n,"a_position"),o.backdropLocation=d.getUniformLocation(n,"u_backdrop"),o.subtypeLocation=d.getUniformLocation(n,"u_subtype"),p=d.getAttribLocation(n,"a_texCoord"),q=d.getUniformLocation(n,"u_image"),r=d.getUniformLocation(n,"u_mask"),s=d.createBuffer(),d.bindBuffer(d.ARRAY_BUFFER,s),d.bufferData(d.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),d.STATIC_DRAW),d.enableVertexAttribArray(p),d.vertexAttribPointer(p,2,d.FLOAT,!1,0,0),d.uniform1i(q,0),d.uniform1i(r,1),m=o}function o(a,b,c){var f,h,i,j,k,l,d=a.width,e=a.height;return m||n(),f=m,h=f.canvas,i=f.gl,h.width=d,h.height=e,i.viewport(0,0,i.drawingBufferWidth,i.drawingBufferHeight),i.uniform2f(f.resolutionLocation,d,e),c.backdrop?i.uniform4f(f.resolutionLocation,c.backdrop[0],c.backdrop[1],c.backdrop[2],1):i.uniform4f(f.resolutionLocation,0,0,0,0),i.uniform1i(f.subtypeLocation,"Luminosity"===c.subtype?1:0),j=g(i,a,i.TEXTURE0),k=g(i,b,i.TEXTURE1),l=i.createBuffer(),i.bindBuffer(i.ARRAY_BUFFER,l),i.bufferData(i.ARRAY_BUFFER,new Float32Array([0,0,d,0,0,e,0,e,d,0,d,e]),i.STATIC_DRAW),i.enableVertexAttribArray(f.positionLocation),i.vertexAttribPointer(f.positionLocation,2,i.FLOAT,!1,0,0),i.clearColor(0,0,0,0),i.enable(i.BLEND),i.blendFunc(i.ONE,i.ONE_MINUS_SRC_ALPHA),i.clear(i.COLOR_BUFFER_BIT),i.drawArrays(i.TRIANGLES,0,6),i.flush(),i.deleteTexture(j),i.deleteTexture(k),i.deleteBuffer(l),h}function s(){var a,d,e,g,k,l;j(),a=i,i=null,d=h,h=null,e=b(d,p),g=c(d,q),k=f(d,[e,g]),d.useProgram(k),l={},l.gl=d,l.canvas=a,l.resolutionLocation=d.getUniformLocation(k,"u_resolution"),l.scaleLocation=d.getUniformLocation(k,"u_scale"),l.offsetLocation=d.getUniformLocation(k,"u_offset"),l.positionLocation=d.getAttribLocation(k,"a_position"),l.colorLocation=d.getAttribLocation(k,"a_color"),r=l}function t(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,t,u,v,w,x,y,z,A,B,C,D,E;for(r||s(),f=r,g=f.canvas,h=f.gl,g.width=a,g.height=b,h.viewport(0,0,h.drawingBufferWidth,h.drawingBufferHeight),h.uniform2f(f.resolutionLocation,a,b),i=0,j=0,k=d.length;k>j;j++)switch(d[j].type){case"lattice":l=0|d[j].coords.length/d[j].verticesPerRow,i+=6*(l-1)*(d[j].verticesPerRow-1);break;case"triangles":i+=d[j].coords.length}for(m=new Float32Array(2*i),n=new Uint8Array(3*i),o=e.coords,p=e.colors,q=0,t=0,j=0,k=d.length;k>j;j++)switch(u=d[j],v=u.coords,w=u.colors,u.type){case"lattice":for(x=u.verticesPerRow,l=0|v.length/x,y=1;l>y;y++)for(z=y*x+1,A=1;x>A;A++,z++)m[q]=o[v[z-x-1]],m[q+1]=o[v[z-x-1]+1],m[q+2]=o[v[z-x]],m[q+3]=o[v[z-x]+1],m[q+4]=o[v[z-1]],m[q+5]=o[v[z-1]+1],n[t]=p[w[z-x-1]],n[t+1]=p[w[z-x-1]+1],n[t+2]=p[w[z-x-1]+2],n[t+3]=p[w[z-x]],n[t+4]=p[w[z-x]+1],n[t+5]=p[w[z-x]+2],n[t+6]=p[w[z-1]],n[t+7]=p[w[z-1]+1],n[t+8]=p[w[z-1]+2],m[q+6]=m[q+2],m[q+7]=m[q+3],m[q+8]=m[q+4],m[q+9]=m[q+5],m[q+10]=o[v[z]],m[q+11]=o[v[z]+1],n[t+9]=n[t+3],n[t+10]=n[t+4],n[t+11]=n[t+5],n[t+12]=n[t+6],n[t+13]=n[t+7],n[t+14]=n[t+8],n[t+15]=p[w[z]],n[t+16]=p[w[z]+1],n[t+17]=p[w[z]+2],q+=12,t+=18;break;case"triangles":for(B=0,C=v.length;C>B;B++)m[q]=o[v[B]],m[q+1]=o[v[B]+1],n[t]=p[w[B]],n[t+1]=p[w[B]+1],n[t+2]=p[w[B]+2],q+=2,t+=3}return c?h.clearColor(c[0]/255,c[1]/255,c[2]/255,1):h.clearColor(0,0,0,0),h.clear(h.COLOR_BUFFER_BIT),D=h.createBuffer(),h.bindBuffer(h.ARRAY_BUFFER,D),h.bufferData(h.ARRAY_BUFFER,m,h.STATIC_DRAW),h.enableVertexAttribArray(f.positionLocation),h.vertexAttribPointer(f.positionLocation,2,h.FLOAT,!1,0,0),E=h.createBuffer(),h.bindBuffer(h.ARRAY_BUFFER,E),h.bufferData(h.ARRAY_BUFFER,n,h.STATIC_DRAW),h.enableVertexAttribArray(f.colorLocation),h.vertexAttribPointer(f.colorLocation,3,h.UNSIGNED_BYTE,!1,0,0),h.uniform2f(f.scaleLocation,e.scaleX,e.scaleY),h.uniform2f(f.offsetLocation,e.offsetX,e.offsetY),h.drawArrays(h.TRIANGLES,0,i),h.flush(),h.deleteBuffer(D),h.deleteBuffer(E),g}function u(){m&&m.canvas&&(m.canvas.width=0,m.canvas.height=0),r&&r.canvas&&(r.canvas.width=0,r.canvas.height=0),m=null,r=null}var h,i,k="  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             ",l="  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ",m=null,p="  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             ",q="  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ",r=null;return{get isEnabled(){if(d.getDefaultSetting("disableWebGL"))return!1;var a=!1;try{j(),a=!!h}catch(b){}return e.shadow(this,"isEnabled",a)},composeSMask:o,drawFigures:t,clear:u}}(),b.WebGLUtils=f},function(a,b){"use strict";function d(a){return a.replace(/>\\376\\377([^<]+)/g,function(a,b){var e,f,c=b.replace(/\\([0-3])([0-7])([0-7])/g,function(a,b,c,d){return String.fromCharCode(64*b+8*c+1*d)}),d="";for(e=0;e<c.length;e+=2)f=256*c.charCodeAt(e)+c.charCodeAt(e+1),d+=f>=32&&127>f&&60!==f&&62!==f&&38!==f?String.fromCharCode(f):"&#x"+(65536+f).toString(16).substring(1)+";";return">"+d})}function e(a){if("string"==typeof a){a=d(a);var b=new DOMParser;a=b.parseFromString(a,"application/xml")}else if(!(a instanceof Document))throw new Error("Metadata: Invalid metadata object");this.metaDocument=a,this.metadata=Object.create(null),this.parse()}Object.defineProperty(b,"__esModule",{value:!0}),e.prototype={parse:function(){var c,e,f,g,h,i,j,k,d,a=this.metaDocument,b=a.documentElement;if("rdf:rdf"!==b.nodeName.toLowerCase())for(b=b.firstChild;b&&"rdf:rdf"!==b.nodeName.toLowerCase();)b=b.nextSibling;if(c=b?b.nodeName.toLowerCase():null,b&&"rdf:rdf"===c&&b.hasChildNodes())for(d=b.childNodes,h=0,j=d.length;j>h;h++)if(e=d[h],"rdf:description"===e.nodeName.toLowerCase())for(i=0,k=e.childNodes.length;k>i;i++)"#text"!==e.childNodes[i].nodeName.toLowerCase()&&(f=e.childNodes[i],g=f.nodeName.toLowerCase(),this.metadata[g]=f.textContent.trim())},get:function(a){return this.metadata[a]||null},has:function(a){return"undefined"!=typeof this.metadata[a]}},b.Metadata=e},function(a,b,c){"use strict";function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function i(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d,e,f,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C;Object.defineProperty(b,"__esModule",{value:!0}),b.AnnotationLayer=void 0,d=function(){function a(a,b){var c,d;for(c=0;c<b.length;c++)d=b[c],d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(7),f=c(0),j=function(){function a(){i(this,a)}return d(a,null,[{key:"create",value:function(a){var c,b=a.data.annotationType;switch(b){case f.AnnotationType.LINK:return new l(a);case f.AnnotationType.TEXT:return new m(a);case f.AnnotationType.WIDGET:switch(c=a.data.fieldType){case"Tx":return new o(a);case"Btn":if(a.data.radioButton)return new q(a);if(a.data.checkBox)return new p(a);f.warn("Unimplemented button widget annotation: pushbutton");break;case"Ch":return new r(a)}return new n(a);case f.AnnotationType.POPUP:return new s(a);case f.AnnotationType.LINE:return new u(a);case f.AnnotationType.SQUARE:return new v(a);case f.AnnotationType.CIRCLE:return new w(a);case f.AnnotationType.HIGHLIGHT:return new x(a);case f.AnnotationType.UNDERLINE:return new y(a);case f.AnnotationType.SQUIGGLY:return new z(a);case f.AnnotationType.STRIKEOUT:return new A(a);case f.AnnotationType.FILEATTACHMENT:return new B(a);default:return new k(a)}}}]),a}(),k=function(){function a(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:!1,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!1;i(this,a),this.isRenderable=c,this.data=b.data,this.layer=b.layer,this.page=b.page,this.viewport=b.viewport,this.linkService=b.linkService,this.downloadManager=b.downloadManager,this.imageResourcesPath=b.imageResourcesPath,this.renderInteractiveForms=b.renderInteractiveForms,this.svgFactory=b.svgFactory,c&&(this.container=this._createContainer(d))}return d(a,[{key:"_createContainer",value:function(){var j,k,l,m,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!1,b=this.data,c=this.page,d=this.viewport,g=document.createElement("section"),h=b.rect[2]-b.rect[0],i=b.rect[3]-b.rect[1];if(g.setAttribute("data-annotation-id",b.id),j=f.Util.normalizeRect([b.rect[0],c.view[3]-b.rect[1]+c.view[1],b.rect[2],c.view[3]-b.rect[3]+c.view[1]]),e.CustomStyle.setProp("transform",g,"matrix("+d.transform.join(",")+")"),e.CustomStyle.setProp("transformOrigin",g,-j[0]+"px "+-j[1]+"px"),!a&&b.borderStyle.width>0){switch(g.style.borderWidth=b.borderStyle.width+"px",b.borderStyle.style!==f.AnnotationBorderStyleType.UNDERLINE&&(h-=2*b.borderStyle.width,i-=2*b.borderStyle.width),k=b.borderStyle.horizontalCornerRadius,l=b.borderStyle.verticalCornerRadius,(k>0||l>0)&&(m=k+"px / "+l+"px",e.CustomStyle.setProp("borderRadius",g,m)),b.borderStyle.style){case f.AnnotationBorderStyleType.SOLID:g.style.borderStyle="solid";break;case f.AnnotationBorderStyleType.DASHED:g.style.borderStyle="dashed";break;case f.AnnotationBorderStyleType.BEVELED:f.warn("Unimplemented border style: beveled");break;case f.AnnotationBorderStyleType.INSET:f.warn("Unimplemented border style: inset");break;case f.AnnotationBorderStyleType.UNDERLINE:g.style.borderBottomStyle="solid"}b.color?g.style.borderColor=f.Util.makeCssRgb(0|b.color[0],0|b.color[1],0|b.color[2]):g.style.borderWidth=0}return g.style.left=j[0]+"px",g.style.top=j[1]+"px",g.style.width=h+"px",g.style.height=i+"px",g}},{key:"_createPopup",value:function(a,b,c){var d,e;b||(b=document.createElement("div"),b.style.height=a.style.height,b.style.width=a.style.width,a.appendChild(b)),d=new t({container:a,trigger:b,color:c.color,title:c.title,contents:c.contents,hideWrapper:!0}),e=d.render(),e.style.left=a.style.width,a.appendChild(e)}},{key:"render",value:function(){throw new Error("Abstract method `AnnotationElement.render` called")}}]),a}(),l=function(a){function b(a){i(this,b);var c=!!(a.data.url||a.data.dest||a.data.action);return g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c))}return h(b,a),d(b,[{key:"render",value:function(){this.container.className="linkAnnotation";var a=document.createElement("a");return e.addLinkAttributes(a,{url:this.data.url,target:this.data.newWindow?e.LinkTarget.BLANK:void 0}),this.data.url||(this.data.action?this._bindNamedAction(a,this.data.action):this._bindLink(a,this.data.dest)),this.container.appendChild(a),this.container}},{key:"_bindLink",value:function(a,b){var c=this;a.href=this.linkService.getDestinationHash(b),a.onclick=function(){return b&&c.linkService.navigateTo(b),!1},b&&(a.className="internalLink")}},{key:"_bindNamedAction",value:function(a,b){var c=this;a.href=this.linkService.getAnchorUrl(""),a.onclick=function(){return c.linkService.executeNamedAction(b),!1},a.className="internalLink"}}]),b}(k),m=function(a){function b(a){i(this,b);var c=!!(a.data.hasPopup||a.data.title||a.data.contents);return g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c))}return h(b,a),d(b,[{key:"render",value:function(){this.container.className="textAnnotation";var a=document.createElement("img");return a.style.height=this.container.style.height,a.style.width=this.container.style.width,a.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",a.alt="[{{type}} Annotation]",a.dataset.l10nId="text_annotation_type",a.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(this.container,a,this.data),this.container.appendChild(a),this.container}}]),b}(k),n=function(a){function b(){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return h(b,a),d(b,[{key:"render",value:function(){return this.container}}]),b}(k),o=function(a){function b(a){i(this,b);var c=a.renderInteractiveForms||!a.data.hasAppearance&&!!a.data.fieldValue;return g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c))}return h(b,a),d(b,[{key:"render",value:function(){var b,c,d,e,a=["left","center","right"];return this.container.className="textWidgetAnnotation",b=null,this.renderInteractiveForms?(this.data.multiLine?(b=document.createElement("textarea"),b.textContent=this.data.fieldValue):(b=document.createElement("input"),b.type="text",b.setAttribute("value",this.data.fieldValue)),b.disabled=this.data.readOnly,null!==this.data.maxLen&&(b.maxLength=this.data.maxLen),this.data.comb&&(c=this.data.rect[2]-this.data.rect[0],d=c/this.data.maxLen,b.classList.add("comb"),b.style.letterSpacing="calc("+d+"px - 1ch)")):(b=document.createElement("div"),b.textContent=this.data.fieldValue,b.style.verticalAlign="middle",b.style.display="table-cell",e=null,this.data.fontRefName&&(e=this.page.commonObjs.getData(this.data.fontRefName)),this._setTextStyle(b,e)),null!==this.data.textAlignment&&(b.style.textAlign=a[this.data.textAlignment]),this.container.appendChild(b),this.container}},{key:"_setTextStyle",value:function(a,b){var d,e,c=a.style;c.fontSize=this.data.fontSize+"px",c.direction=this.data.fontDirection<0?"rtl":"ltr",b&&(c.fontWeight=b.black?b.bold?"900":"bold":b.bold?"bold":"normal",c.fontStyle=b.italic?"italic":"normal",d=b.loadedName?'"'+b.loadedName+'", ':"",e=b.fallbackName||"Helvetica, sans-serif",c.fontFamily=d+e)}}]),b}(n),p=function(a){function b(a){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,a.renderInteractiveForms))}return h(b,a),d(b,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation checkBox";var a=document.createElement("input");return a.disabled=this.data.readOnly,a.type="checkbox",this.data.fieldValue&&"Off"!==this.data.fieldValue&&a.setAttribute("checked",!0),this.container.appendChild(a),this.container}}]),b}(n),q=function(a){function b(a){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,a.renderInteractiveForms))}return h(b,a),d(b,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation radioButton";var a=document.createElement("input");return a.disabled=this.data.readOnly,a.type="radio",a.name=this.data.fieldName,this.data.fieldValue===this.data.buttonValue&&a.setAttribute("checked",!0),this.container.appendChild(a),this.container}}]),b}(n),r=function(a){function b(a){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,a.renderInteractiveForms))}return h(b,a),d(b,[{key:"render",value:function(){var a,b,c,d,e;for(this.container.className="choiceWidgetAnnotation",a=document.createElement("select"),a.disabled=this.data.readOnly,this.data.combo||(a.size=this.data.options.length,this.data.multiSelect&&(a.multiple=!0)),b=0,c=this.data.options.length;c>b;b++)d=this.data.options[b],e=document.createElement("option"),e.textContent=d.displayValue,e.value=d.exportValue,this.data.fieldValue.indexOf(d.displayValue)>=0&&e.setAttribute("selected",!0),a.appendChild(e);return this.container.appendChild(a),this.container}}]),b}(n),s=function(a){function b(a){i(this,b);var c=!(!a.data.title&&!a.data.contents);return g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c))}return h(b,a),d(b,[{key:"render",value:function(){var b,c,d,f,g,a=["Line","Square","Circle"];return this.container.className="popupAnnotation",a.indexOf(this.data.parentType)>=0?this.container:(b='[data-annotation-id="'+this.data.parentId+'"]',(c=this.layer.querySelector(b))?(d=new t({container:this.container,trigger:c,color:this.data.color,title:this.data.title,contents:this.data.contents}),f=parseFloat(c.style.left),g=parseFloat(c.style.width),e.CustomStyle.setProp("transformOrigin",this.container,-(f+g)+"px -"+c.style.top),this.container.style.left=f+g+"px",this.container.appendChild(d.render()),this.container):this.container)}}]),b}(k),t=function(){function a(b){i(this,a),this.container=b.container,this.trigger=b.trigger,this.color=b.color,this.title=b.title,this.contents=b.contents,this.hideWrapper=b.hideWrapper||!1,this.pinned=!1}return d(a,[{key:"render",value:function(){var c,d,e,g,h,i,j,a=.7,b=document.createElement("div");return b.className="popupWrapper",this.hideElement=this.hideWrapper?b:this.container,this.hideElement.setAttribute("hidden",!0),c=document.createElement("div"),c.className="popup",d=this.color,d&&(e=a*(255-d[0])+d[0],g=a*(255-d[1])+d[1],h=a*(255-d[2])+d[2],c.style.backgroundColor=f.Util.makeCssRgb(0|e,0|g,0|h)),i=this._formatContents(this.contents),j=document.createElement("h1"),j.textContent=this.title,this.trigger.addEventListener("click",this._toggle.bind(this)),this.trigger.addEventListener("mouseover",this._show.bind(this,!1)),this.trigger.addEventListener("mouseout",this._hide.bind(this,!1)),c.addEventListener("click",this._hide.bind(this,!0)),c.appendChild(j),c.appendChild(i),b.appendChild(c),b}},{key:"_formatContents",value:function(a){var d,e,f,b=document.createElement("p"),c=a.split(/(?:\r\n?|\n)/);for(d=0,e=c.length;e>d;++d)f=c[d],b.appendChild(document.createTextNode(f)),e-1>d&&b.appendChild(document.createElement("br"));return b}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!1;a&&(this.pinned=!0),this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)}},{key:"_hide",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!0;a&&(this.pinned=!1),this.hideElement.hasAttribute("hidden")||this.pinned||(this.hideElement.setAttribute("hidden",!0),this.container.style.zIndex-=1)}}]),a}(),u=function(a){function b(a){i(this,b);var c=!!(a.data.hasPopup||a.data.title||a.data.contents);return g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,!0))}return h(b,a),d(b,[{key:"render",value:function(){var a,b,c,d,e;return this.container.className="lineAnnotation",a=this.data,b=a.rect[2]-a.rect[0],c=a.rect[3]-a.rect[1],d=this.svgFactory.create(b,c),e=this.svgFactory.createElement("svg:line"),e.setAttribute("x1",a.rect[2]-a.lineCoordinates[0]),e.setAttribute("y1",a.rect[3]-a.lineCoordinates[1]),e.setAttribute("x2",a.rect[2]-a.lineCoordinates[2]),e.setAttribute("y2",a.rect[3]-a.lineCoordinates[3]),e.setAttribute("stroke-width",a.borderStyle.width),e.setAttribute("stroke","transparent"),d.appendChild(e),this.container.append(d),this._createPopup(this.container,e,a),this.container}}]),b}(k),v=function(a){function b(a){i(this,b);var c=!!(a.data.hasPopup||a.data.title||a.data.contents);return g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,!0))}return h(b,a),d(b,[{key:"render",value:function(){var a,b,c,d,e,f;return this.container.className="squareAnnotation",a=this.data,b=a.rect[2]-a.rect[0],c=a.rect[3]-a.rect[1],d=this.svgFactory.create(b,c),e=a.borderStyle.width,f=this.svgFactory.createElement("svg:rect"),f.setAttribute("x",e/2),f.setAttribute("y",e/2),f.setAttribute("width",b-e),f.setAttribute("height",c-e),f.setAttribute("stroke-width",e),f.setAttribute("stroke","transparent"),f.setAttribute("fill","none"),d.appendChild(f),this.container.append(d),this._createPopup(this.container,f,a),this.container}}]),b}(k),w=function(a){function b(a){i(this,b);var c=!!(a.data.hasPopup||a.data.title||a.data.contents);return g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,!0))}return h(b,a),d(b,[{key:"render",value:function(){var a,b,c,d,e,f;return this.container.className="circleAnnotation",a=this.data,b=a.rect[2]-a.rect[0],c=a.rect[3]-a.rect[1],d=this.svgFactory.create(b,c),e=a.borderStyle.width,f=this.svgFactory.createElement("svg:ellipse"),f.setAttribute("cx",b/2),f.setAttribute("cy",c/2),f.setAttribute("rx",b/2-e/2),f.setAttribute("ry",c/2-e/2),f.setAttribute("stroke-width",e),f.setAttribute("stroke","transparent"),f.setAttribute("fill","none"),d.appendChild(f),this.container.append(d),this._createPopup(this.container,f,a),this.container}}]),b}(k),x=function(a){function b(a){i(this,b);var c=!!(a.data.hasPopup||a.data.title||a.data.contents);return g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,!0))}return h(b,a),d(b,[{key:"render",value:function(){return this.container.className="highlightAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),b}(k),y=function(a){function b(a){i(this,b);var c=!!(a.data.hasPopup||a.data.title||a.data.contents);return g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,!0))}return h(b,a),d(b,[{key:"render",value:function(){return this.container.className="underlineAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),b}(k),z=function(a){function b(a){i(this,b);var c=!!(a.data.hasPopup||a.data.title||a.data.contents);return g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,!0))}return h(b,a),d(b,[{key:"render",value:function(){return this.container.className="squigglyAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),b}(k),A=function(a){function b(a){i(this,b);var c=!!(a.data.hasPopup||a.data.title||a.data.contents);return g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,!0))}return h(b,a),d(b,[{key:"render",value:function(){return this.container.className="strikeoutAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),b}(k),B=function(a){function b(a){var c,d;return i(this,b),c=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,!0)),d=c.data.file,c.filename=e.getFilenameFromUrl(d.filename),c.content=d.content,c.linkService.onFileAttachmentAnnotation({id:f.stringToPDFString(d.filename),filename:d.filename,content:d.content}),c
}return h(b,a),d(b,[{key:"render",value:function(){this.container.className="fileAttachmentAnnotation";var a=document.createElement("div");return a.style.height=this.container.style.height,a.style.width=this.container.style.width,a.addEventListener("dblclick",this._download.bind(this)),this.data.hasPopup||!this.data.title&&!this.data.contents||this._createPopup(this.container,a,this.data),this.container.appendChild(a),this.container}},{key:"_download",value:function(){return this.downloadManager?(this.downloadManager.downloadData(this.content,this.filename,""),void 0):(f.warn("Download cannot be started due to unavailable download manager"),void 0)}}]),b}(k),C=function(){function a(){i(this,a)}return d(a,null,[{key:"render",value:function(a){var b,c,d,f;for(b=0,c=a.annotations.length;c>b;b++)d=a.annotations[b],d&&(f=j.create({data:d,layer:a.div,page:a.page,viewport:a.viewport,linkService:a.linkService,downloadManager:a.downloadManager,imageResourcesPath:a.imageResourcesPath||e.getDefaultSetting("imageResourcesPath"),renderInteractiveForms:a.renderInteractiveForms||!1,svgFactory:new e.DOMSVGFactory}),f.isRenderable&&a.div.appendChild(f.render()))}},{key:"update",value:function(a){var b,c,d,f;for(b=0,c=a.annotations.length;c>b;b++)d=a.annotations[b],f=a.div.querySelector('[data-annotation-id="'+d.id+'"]'),f&&e.CustomStyle.setProp("transform",f,"matrix("+a.viewport.transform.join(",")+")");a.div.removeAttribute("hidden")}}]),a}(),b.AnnotationLayer=C},function(a,b,c){"use strict";var d,e,f;Object.defineProperty(b,"__esModule",{value:!0}),b.renderTextLayer=void 0,d=c(0),e=c(7),f=function(){function c(a){return!b.test(a)}function g(a,b,g){var j,k,l,m,n,o,p,q,r,s,t,u,v,h=document.createElement("div"),i={style:null,angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};return a._textDivs.push(h),c(b.str)?(i.isWhitespace=!0,a._textDivProperties.set(h,i),void 0):(j=d.Util.transform(a._viewport.transform,b.transform),k=Math.atan2(j[1],j[0]),l=g[b.fontName],l.vertical&&(k+=Math.PI/2),m=Math.sqrt(j[2]*j[2]+j[3]*j[3]),n=m,l.ascent?n=l.ascent*n:l.descent&&(n=(1+l.descent)*n),0===k?(o=j[4],p=j[5]-n):(o=j[4]+n*Math.sin(k),p=j[5]-n*Math.cos(k)),f[1]=o,f[3]=p,f[5]=m,f[7]=l.fontFamily,i.style=f.join(""),h.setAttribute("style",i.style),h.textContent=b.str,e.getDefaultSetting("pdfBug")&&(h.dataset.fontName=b.fontName),0!==k&&(i.angle=k*(180/Math.PI)),b.str.length>1&&(i.canvasWidth=l.vertical?b.height*a._viewport.scale:b.width*a._viewport.scale),a._textDivProperties.set(h,i),a._textContentStream&&a._layoutText(h),a._enhanceTextSelection&&(q=1,r=0,0!==k&&(q=Math.cos(k),r=Math.sin(k)),s=(l.vertical?b.height:b.width)*a._viewport.scale,t=m,0!==k?(u=[q,r,-r,q,o,p],v=d.Util.getAxialAlignedBoundingBox([0,0,s,t],u)):v=[o,p,o+s,p+t],a._bounds.push({left:v[0],top:v[1],right:v[2],bottom:v[3],div:h,size:[s,t],m:u})),void 0)}function h(b){var c,d,e,f;if(!b._canceled){if(c=b._textDivs,d=b._capability,e=c.length,e>a)return b._renderingDone=!0,d.resolve(),void 0;if(!b._textContentStream)for(f=0;e>f;f++)b._layoutText(c[f]);b._renderingDone=!0,d.resolve()}}function i(a){var f,g,h,i,k,l,m,n,o,p,q,r,b=a._bounds,c=a._viewport,e=j(c.width,c.height,b);for(f=0;f<e.length;f++)g=b[f].div,h=a._textDivProperties.get(g),0!==h.angle?(i=e[f],k=b[f],l=k.m,m=l[0],n=l[1],o=[[0,0],[0,k.size[1]],[k.size[0],0],k.size],p=new Float64Array(64),o.forEach(function(a,b){var c=d.Util.applyTransform(a,l);p[b+0]=m&&(i.left-c[0])/m,p[b+4]=n&&(i.top-c[1])/n,p[b+8]=m&&(i.right-c[0])/m,p[b+12]=n&&(i.bottom-c[1])/n,p[b+16]=n&&(i.left-c[0])/-n,p[b+20]=m&&(i.top-c[1])/m,p[b+24]=n&&(i.right-c[0])/-n,p[b+28]=m&&(i.bottom-c[1])/m,p[b+32]=m&&(i.left-c[0])/-m,p[b+36]=n&&(i.top-c[1])/-n,p[b+40]=m&&(i.right-c[0])/-m,p[b+44]=n&&(i.bottom-c[1])/-n,p[b+48]=n&&(i.left-c[0])/n,p[b+52]=m&&(i.top-c[1])/-m,p[b+56]=n&&(i.right-c[0])/n,p[b+60]=m&&(i.bottom-c[1])/-m}),q=function(a,b,c){var e,f,d=0;for(e=0;c>e;e++)f=a[b++],f>0&&(d=d?Math.min(f,d):f);return d},r=1+Math.min(Math.abs(m),Math.abs(n)),h.paddingLeft=q(p,32,16)/r,h.paddingTop=q(p,48,16)/r,h.paddingRight=q(p,0,16)/r,h.paddingBottom=q(p,16,16)/r,a._textDivProperties.set(g,h)):(h.paddingLeft=b[f].left-e[f].left,h.paddingTop=b[f].top-e[f].top,h.paddingRight=e[f].right-b[f].right,h.paddingBottom=e[f].bottom-b[f].bottom,a._textDivProperties.set(g,h))}function j(a,b,c){var e,d=c.map(function(a,b){return{x1:a.left,y1:a.top,x2:a.right,y2:a.bottom,index:b,x1New:void 0,x2New:void 0}});return k(a,d),e=new Array(c.length),d.forEach(function(a){var b=a.index;e[b]={left:a.x1New,top:0,right:a.x2New,bottom:0}}),c.map(function(b,c){var f=e[c],g=d[c];g.x1=b.top,g.y1=a-f.right,g.x2=b.bottom,g.y2=a-f.left,g.index=c,g.x1New=void 0,g.x2New=void 0}),k(b,d),d.forEach(function(a){var b=a.index;e[b].top=a.x1New,e[b].bottom=a.x2New}),e}function k(a,b){var c,d;b.sort(function(a,b){return a.x1-b.x1||a.index-b.index}),c={x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0},d=[{start:-1/0,end:1/0,boundary:c}],b.forEach(function(a){for(var c,e,f,g,h,i,j,k,l,m,n,b=0;b<d.length&&d[b].end<=a.y1;)b++;for(c=d.length-1;c>=0&&d[c].start>=a.y2;)c--;for(i=-1/0,g=b;c>=g;g++)e=d[g],f=e.boundary,j=f.x2>a.x1?f.index>a.index?f.x1New:a.x1:void 0===f.x2New?(f.x2+a.x1)/2:f.x2New,j>i&&(i=j);for(a.x1New=i,g=b;c>=g;g++)e=d[g],f=e.boundary,void 0===f.x2New?f.x2>a.x1?f.index>a.index&&(f.x2New=f.x2):f.x2New=i:f.x2New>i&&(f.x2New=Math.max(i,f.x2));for(k=[],l=null,g=b;c>=g;g++)e=d[g],f=e.boundary,m=f.x2>a.x2?f:a,l===m?k[k.length-1].end=e.end:(k.push({start:e.start,end:e.end,boundary:m}),l=m);for(d[b].start<a.y1&&(k[0].start=a.y1,k.unshift({start:d[b].start,end:a.y1,boundary:d[b].boundary})),a.y2<d[c].end&&(k[k.length-1].end=a.y2,k.push({start:a.y2,end:d[c].end,boundary:d[c].boundary})),g=b;c>=g;g++)if(e=d[g],f=e.boundary,void 0===f.x2New){for(n=!1,h=b-1;!n&&h>=0&&d[h].start>=f.y1;h--)n=d[h].boundary===f;for(h=c+1;!n&&h<d.length&&d[h].end<=f.y2;h++)n=d[h].boundary===f;for(h=0;!n&&h<k.length;h++)n=k[h].boundary===f;n||(f.x2New=i)}Array.prototype.splice.apply(d,[b,c-b+1].concat(k))}),d.forEach(function(b){var c=b.boundary;void 0===c.x2New&&(c.x2New=Math.max(a,c.x2))})}function l(a){var b=a.textContent,c=a.textContentStream,e=a.container,f=a.viewport,g=a.textDivs,h=a.textContentItemsStr,i=a.enhanceTextSelection;this._textContent=b,this._textContentStream=c,this._container=e,this._viewport=f,this._textDivs=g||[],this._textContentItemsStr=h||[],this._enhanceTextSelection=!!i,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=d.createPromiseCapability(),this._renderTimer=null,this._bounds=[]}function m(a){var b=new l({textContent:a.textContent,textContentStream:a.textContentStream,container:a.container,viewport:a.viewport,textDivs:a.textDivs,textContentItemsStr:a.textContentItemsStr,enhanceTextSelection:a.enhanceTextSelection});return b._render(a.timeout),b}var a=1e5,b=/\S/,f=["left: ",0,"px; top: ",0,"px; font-size: ",0,"px; font-family: ","",";"];return l.prototype={get promise(){return this._capability.promise},cancel:function(){this._reader&&(this._reader.cancel(new d.AbortException("text layer task cancelled")),this._reader=null),this._canceled=!0,null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject("canceled")},_processItems:function(a,b){for(var c=0,d=a.length;d>c;c++)this._textContentItemsStr.push(a[c].str),g(this,a[c],b)},_layoutText:function(a){var d,f,g,h,b=this._container,c=this._textDivProperties.get(a);c.isWhitespace||(d=a.style.fontSize,f=a.style.fontFamily,(d!==this._layoutTextLastFontSize||f!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=d+" "+f,this._lastFontSize=d,this._lastFontFamily=f),g=this._layoutTextCtx.measureText(a.textContent).width,h="",0!==c.canvasWidth&&g>0&&(c.scale=c.canvasWidth/g,h="scaleX("+c.scale+")"),0!==c.angle&&(h="rotate("+c.angle+"deg) "+h),""!==h&&(c.originalTransform=h,e.CustomStyle.setProp("transform",a,h)),this._textDivProperties.set(a,c),b.appendChild(a))},_render:function(a){var g,i,j,b=this,c=d.createPromiseCapability(),e=Object.create(null),f=document.createElement("canvas");if(f.mozOpaque=!0,this._layoutTextCtx=f.getContext("2d",{alpha:!1}),this._textContent)g=this._textContent.items,i=this._textContent.styles,this._processItems(g,i),c.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');j=function k(){b._reader.read().then(function(a){var f=a.value,g=a.done;return g?(c.resolve(),void 0):(d.Util.extendObj(e,f.styles),b._processItems(f.items,e),k(),void 0)},c.reject)},this._reader=this._textContentStream.getReader(),j()}c.promise.then(function(){e=null,a?b._renderTimer=setTimeout(function(){h(b),b._renderTimer=null},a):h(b)},this._capability.reject)},expandTextDivs:function(a){var b,c,d,f,g,h;if(this._enhanceTextSelection&&this._renderingDone)for(null!==this._bounds&&(i(this),this._bounds=null),b=0,c=this._textDivs.length;c>b;b++)d=this._textDivs[b],f=this._textDivProperties.get(d),f.isWhitespace||(a?(g="",h="",1!==f.scale&&(g="scaleX("+f.scale+")"),0!==f.angle&&(g="rotate("+f.angle+"deg) "+g),0!==f.paddingLeft&&(h+=" padding-left: "+f.paddingLeft/f.scale+"px;",g+=" translateX("+-f.paddingLeft/f.scale+"px)"),0!==f.paddingTop&&(h+=" padding-top: "+f.paddingTop+"px;",g+=" translateY("+-f.paddingTop+"px)"),0!==f.paddingRight&&(h+=" padding-right: "+f.paddingRight/f.scale+"px;"),0!==f.paddingBottom&&(h+=" padding-bottom: "+f.paddingBottom+"px;"),""!==h&&d.setAttribute("style",f.style+h),""!==g&&e.CustomStyle.setProp("transform",d,g)):(d.style.padding=0,e.CustomStyle.setProp("transform",d,f.originalTransform||"")))}},m}(),b.renderTextLayer=f},function(a,b,c){"use strict";var d,e,f,g,h,i;Object.defineProperty(b,"__esModule",{value:!0}),b.SVGGraphics=void 0,d=c(0),e=c(7),f=function(){throw new Error("Not implemented: SVGGraphics")},g={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},h=function(){function h(a,b,d){var f,g,h,e=-1;for(f=b;d>f;f++)g=255&(e^a[f]),h=c[g],e=e>>>8^h;return-1^e}function i(a,b,c,d){var g,e=d,f=b.length;c[e]=255&f>>24,c[e+1]=255&f>>16,c[e+2]=255&f>>8,c[e+3]=255&f,e+=4,c[e]=255&a.charCodeAt(0),c[e+1]=255&a.charCodeAt(1),c[e+2]=255&a.charCodeAt(2),c[e+3]=255&a.charCodeAt(3),e+=4,c.set(b,e),e+=b.length,g=h(c,d+4,e),c[e]=255&g>>24,c[e+1]=255&g>>16,c[e+2]=255&g>>8,c[e+3]=255&g}function j(a,b,c){var f,d=1,e=0;for(f=b;c>f;++f)d=(d+(255&a[f]))%65521,e=(e+d)%65521;return e<<16|d}function k(a){var b,c;if(!d.isNodeJS())return l(a);try{return b=parseInt(process.versions.node)>=8?a:new Buffer(a),c=require("zlib").deflateSync(b,{level:9}),c instanceof Uint8Array?c:new Uint8Array(c)}catch(e){d.warn("Not compressing PNG because zlib.deflateSync is unavailable: "+e)}return l(a)}function l(a){var g,h,b=a.length,c=65535,d=Math.ceil(b/c),e=new Uint8Array(2+b+5*d+4),f=0;for(e[f++]=120,e[f++]=156,g=0;b>c;)e[f++]=0,e[f++]=255,e[f++]=255,e[f++]=0,e[f++]=0,e.set(a.subarray(g,g+c),f),f+=c,g+=c,b-=c;return e[f++]=1,e[f++]=255&b,e[f++]=255&b>>8,e[f++]=255&(65535&~b),e[f++]=255&(65535&~b)>>8,e.set(a.subarray(g),f),f+=a.length-g,h=j(a,0,a.length),e[f++]=255&h>>24,e[f++]=255&h>>16,e[f++]=255&h>>8,e[f++]=255&h,e}function m(c,e,f){var j,l,m,o,p,q,r,s,t,u,v,w,x,g=c.width,h=c.height,n=c.data;switch(e){case d.ImageKind.GRAYSCALE_1BPP:l=0,j=1,m=g+7>>3;break;case d.ImageKind.RGB_24BPP:l=2,j=8,m=3*g;break;case d.ImageKind.RGBA_32BPP:l=6,j=8,m=4*g;break;default:throw new Error("invalid format")}for(o=new Uint8Array((1+m)*h),p=0,q=0,r=0;h>r;++r)o[p++]=0,o.set(n.subarray(q,q+m),p),q+=m,p+=m;if(e===d.ImageKind.GRAYSCALE_1BPP)for(p=0,r=0;h>r;r++)for(p++,s=0;m>s;s++)o[p++]^=255;return t=new Uint8Array([255&g>>24,255&g>>16,255&g>>8,255&g,255&h>>24,255&h>>16,255&h>>8,255&h,j,l,0,0,0]),u=k(o),v=a.length+3*b+t.length+u.length,w=new Uint8Array(v),x=0,w.set(a,x),x+=a.length,i("IHDR",t,w,x),x+=b+t.length,i("IDATA",u,w,x),x+=b+u.length,i("IEND",new Uint8Array(0),w,x),d.createObjectURL(w,"image/png",f)}var e,f,g,a=new Uint8Array([137,80,78,71,13,10,26,10]),b=12,c=new Int32Array(256);for(e=0;256>e;e++){for(f=e,g=0;8>g;g++)f=1&f?3988292384^2147483647&f>>1:2147483647&f>>1;c[e]=f}return function(a,b){var c=void 0===a.kind?d.ImageKind.GRAYSCALE_1BPP:a.kind;return m(a,c,b)}}(),i=function(){function a(){this.fontSizeScale=1,this.fontWeight=g.fontWeight,this.fontSize=0,this.textMatrix=d.IDENTITY_MATRIX,this.fontMatrix=d.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=g.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return a.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(a,b){this.x=a,this.y=b}},a}(),b.SVGGraphics=f=function(){function a(a){var e,b=[],c=[],d=a.length;for(e=0;d>e;e++)"save"!==a[e].fn?"restore"===a[e].fn?b=c.pop():b.push(a[e]):(b.push({fnId:92,fn:"group",items:[]}),c.push(b),b=b[b.length-1].items);return b}function b(a){var b,c;if(Number.isInteger(a))return a.toString();if(b=a.toFixed(10),c=b.length-1,"0"!==b[c])return b;do c--;while("0"===b[c]);return b.substr(0,"."===b[c]?c:c+1)}function c(a){if(0===a[4]&&0===a[5]){if(0===a[1]&&0===a[2])return 1===a[0]&&1===a[3]?"":"scale("+b(a[0])+" "+b(a[3])+")";if(a[0]===a[3]&&a[1]===-a[2]){var c=180*Math.acos(a[0])/Math.PI;return"rotate("+b(c)+")"}}else if(1===a[0]&&0===a[1]&&0===a[2]&&1===a[3])return"translate("+b(a[4])+" "+b(a[5])+")";return"matrix("+b(a[0])+" "+b(a[1])+" "+b(a[2])+" "+b(a[3])+" "+b(a[4])+" "+b(a[5])+")"}function f(a,b,c){this.svgFactory=new e.DOMSVGFactory,this.current=new i,this.transformMatrix=d.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=a,this.objs=b,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!c}var j="http://www.w3.org/XML/1998/namespace",k="http://www.w3.org/1999/xlink",l=["butt","round","square"],m=["miter","round","bevel"],n=0,o=0;return f.prototype={save:function(){this.transformStack.push(this.transformMatrix);var a=this.current;this.extraStack.push(a),this.current=a.clone()},restore:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null},group:function(a){this.save(),this.executeOpTree(a),this.restore()},loadDependencies:function(a){var g,h,i,j,k,l,m,b=this,c=a.fnArray,e=c.length,f=a.argsArray;for(g=0;e>g;g++)if(d.OPS.dependency===c[g])for(h=f[g],i=0,j=h.length;j>i;i++)k=h[i],l="g_"===k.substring(0,2),m=l?new Promise(function(a){b.commonObjs.get(k,a)}):new Promise(function(a){b.objs.get(k,a)}),this.current.dependencies.push(m);return Promise.all(this.current.dependencies)},transform:function(a,b,c,e,f,g){var h=[a,b,c,e,f,g];this.transformMatrix=d.Util.transform(this.transformMatrix,h),this.tgrp=null},getSVG:function(a,b){var e,c=this;return this.viewport=b,e=this._initialize(b),this.loadDependencies(a).then(function(){c.transformMatrix=d.IDENTITY_MATRIX;var b=c.convertOpList(a);return c.executeOpTree(b),e})},convertOpList:function(b){var i,j,k,c=b.argsArray,e=b.fnArray,f=e.length,g=[],h=[];for(i in d.OPS)g[d.OPS[i]]=i;for(j=0;f>j;j++)k=e[j],h.push({fnId:k,fn:g[k],args:c[j]});return a(h)},executeOpTree:function(a){var c,e,f,g,b=a.length;for(c=0;b>c;c++)switch(e=a[c].fn,f=a[c].fnId,g=a[c].args,0|f){case d.OPS.beginText:this.beginText();break;case d.OPS.setLeading:this.setLeading(g);break;case d.OPS.setLeadingMoveText:this.setLeadingMoveText(g[0],g[1]);break;case d.OPS.setFont:this.setFont(g);break;case d.OPS.showText:this.showText(g[0]);break;case d.OPS.showSpacedText:this.showText(g[0]);break;case d.OPS.endText:this.endText();break;case d.OPS.moveText:this.moveText(g[0],g[1]);break;case d.OPS.setCharSpacing:this.setCharSpacing(g[0]);break;case d.OPS.setWordSpacing:this.setWordSpacing(g[0]);break;case d.OPS.setHScale:this.setHScale(g[0]);break;case d.OPS.setTextMatrix:this.setTextMatrix(g[0],g[1],g[2],g[3],g[4],g[5]);break;case d.OPS.setTextRise:this.setTextRise(g[0]);break;case d.OPS.setLineWidth:this.setLineWidth(g[0]);break;case d.OPS.setLineJoin:this.setLineJoin(g[0]);break;case d.OPS.setLineCap:this.setLineCap(g[0]);break;case d.OPS.setMiterLimit:this.setMiterLimit(g[0]);break;case d.OPS.setFillRGBColor:this.setFillRGBColor(g[0],g[1],g[2]);break;case d.OPS.setStrokeRGBColor:this.setStrokeRGBColor(g[0],g[1],g[2]);break;case d.OPS.setDash:this.setDash(g[0],g[1]);break;case d.OPS.setGState:this.setGState(g[0]);break;case d.OPS.fill:this.fill();break;case d.OPS.eoFill:this.eoFill();break;case d.OPS.stroke:this.stroke();break;case d.OPS.fillStroke:this.fillStroke();break;case d.OPS.eoFillStroke:this.eoFillStroke();break;case d.OPS.clip:this.clip("nonzero");break;case d.OPS.eoClip:this.clip("evenodd");break;case d.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case d.OPS.paintJpegXObject:this.paintJpegXObject(g[0],g[1],g[2]);break;case d.OPS.paintImageXObject:this.paintImageXObject(g[0]);break;case d.OPS.paintInlineImageXObject:this.paintInlineImageXObject(g[0]);break;case d.OPS.paintImageMaskXObject:this.paintImageMaskXObject(g[0]);break;case d.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(g[0],g[1]);break;case d.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case d.OPS.closePath:this.closePath();break;case d.OPS.closeStroke:this.closeStroke();break;case d.OPS.closeFillStroke:this.closeFillStroke();break;case d.OPS.nextLine:this.nextLine();break;case d.OPS.transform:this.transform(g[0],g[1],g[2],g[3],g[4],g[5]);break;case d.OPS.constructPath:this.constructPath(g[0],g[1]);break;case d.OPS.endPath:this.endPath();break;case 92:this.group(a[c].items);break;default:d.warn("Unimplemented operator "+e)}},setWordSpacing:function(a){this.current.wordSpacing=a},setCharSpacing:function(a){this.current.charSpacing=a},nextLine:function(){this.moveText(0,this.current.leading)},setTextMatrix:function(a,c,d,e,f,g){var h=this.current;this.current.textMatrix=this.current.lineMatrix=[a,c,d,e,f,g],this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,h.xcoords=[],h.tspan=this.svgFactory.createElement("svg:tspan"),h.tspan.setAttributeNS(null,"font-family",h.fontFamily),h.tspan.setAttributeNS(null,"font-size",b(h.fontSize)+"px"),h.tspan.setAttributeNS(null,"y",b(-h.y)),h.txtElement=this.svgFactory.createElement("svg:text"),h.txtElement.appendChild(h.tspan)},beginText:function(){this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.current.textMatrix=d.IDENTITY_MATRIX,this.current.lineMatrix=d.IDENTITY_MATRIX,this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.txtElement=this.svgFactory.createElement("svg:text"),this.current.txtgrp=this.svgFactory.createElement("svg:g"),this.current.xcoords=[]},moveText:function(a,c){var d=this.current;this.current.x=this.current.lineX+=a,this.current.y=this.current.lineY+=c,d.xcoords=[],d.tspan=this.svgFactory.createElement("svg:tspan"),d.tspan.setAttributeNS(null,"font-family",d.fontFamily),d.tspan.setAttributeNS(null,"font-size",b(d.fontSize)+"px"),d.tspan.setAttributeNS(null,"y",b(-d.y))},showText:function(a){var i,k,l,m,n,o,p,r,q,s,t,u,v,w,x,e=this.current,f=e.font,h=e.fontSize;if(0!==h){for(i=e.charSpacing,k=e.wordSpacing,l=e.fontDirection,m=e.textHScale*l,n=a.length,o=f.vertical,p=h*e.fontMatrix[0],q=0,r=0;n>r;++r)s=a[r],null!==s?d.isNum(s)?q+=.001*-s*h:(t=s.width,u=s.fontChar,v=(s.isSpace?k:0)+i,w=t*p+v*l,s.isInFont||f.missingFile?(e.xcoords.push(e.x+q*m),e.tspan.textContent+=u,q+=w):q+=w):q+=l*k;o?e.y-=q*m:e.x+=q*m,e.tspan.setAttributeNS(null,"x",e.xcoords.map(b).join(" ")),e.tspan.setAttributeNS(null,"y",b(-e.y)),e.tspan.setAttributeNS(null,"font-family",e.fontFamily),e.tspan.setAttributeNS(null,"font-size",b(e.fontSize)+"px"),e.fontStyle!==g.fontStyle&&e.tspan.setAttributeNS(null,"font-style",e.fontStyle),e.fontWeight!==g.fontWeight&&e.tspan.setAttributeNS(null,"font-weight",e.fontWeight),e.fillColor!==g.fillColor&&e.tspan.setAttributeNS(null,"fill",e.fillColor),x=e.textMatrix,0!==e.textRise&&(x=x.slice(),x[5]+=e.textRise),e.txtElement.setAttributeNS(null,"transform",c(x)+" scale(1, -1)"),e.txtElement.setAttributeNS(j,"xml:space","preserve"),e.txtElement.appendChild(e.tspan),e.txtgrp.appendChild(e.txtElement),this._ensureTransformGroup().appendChild(e.txtElement)}},setLeadingMoveText:function(a,b){this.setLeading(-b),this.moveText(a,b)},addFontStyle:function(a){this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var b=d.createObjectURL(a.data,a.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'+a.loadedName+'";'+" src: url("+b+"); }\n"},setFont:function(a){var g,h,c=this.current,e=this.commonObjs.get(a[0]),f=a[1];this.current.font=e,this.embedFonts&&e.data&&!this.embeddedFonts[e.loadedName]&&(this.addFontStyle(e),this.embeddedFonts[e.loadedName]=e),c.fontMatrix=e.fontMatrix?e.fontMatrix:d.FONT_IDENTITY_MATRIX,g=e.black?e.bold?"bolder":"bold":e.bold?"bold":"normal",h=e.italic?"italic":"normal",0>f?(f=-f,c.fontDirection=-1):c.fontDirection=1,c.fontSize=f,c.fontFamily=e.loadedName,c.fontWeight=g,c.fontStyle=h,c.tspan=this.svgFactory.createElement("svg:tspan"),c.tspan.setAttributeNS(null,"y",b(-c.y)),c.xcoords=[]},endText:function(){},setLineWidth:function(a){this.current.lineWidth=a},setLineCap:function(a){this.current.lineCap=l[a]},setLineJoin:function(a){this.current.lineJoin=m[a]},setMiterLimit:function(a){this.current.miterLimit=a},setStrokeAlpha:function(a){this.current.strokeAlpha=a},setStrokeRGBColor:function(a,b,c){var e=d.Util.makeCssRgb(a,b,c);this.current.strokeColor=e},setFillAlpha:function(a){this.current.fillAlpha=a},setFillRGBColor:function(a,b,c){var e=d.Util.makeCssRgb(a,b,c);this.current.fillColor=e,this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[]},setDash:function(a,b){this.current.dashArray=a,this.current.dashPhase=b},constructPath:function(a,c){var h,i,j,k,l,m,n,o,e=this.current,f=e.x,g=e.y;for(e.path=this.svgFactory.createElement("svg:path"),h=[],i=a.length,j=0,k=0;i>j;j++)switch(0|a[j]){case d.OPS.rectangle:f=c[k++],g=c[k++],l=c[k++],m=c[k++],n=f+l,o=g+m,h.push("M",b(f),b(g),"L",b(n),b(g),"L",b(n),b(o),"L",b(f),b(o),"Z");break;case d.OPS.moveTo:f=c[k++],g=c[k++],h.push("M",b(f),b(g));break;case d.OPS.lineTo:f=c[k++],g=c[k++],h.push("L",b(f),b(g));break;case d.OPS.curveTo:f=c[k+4],g=c[k+5],h.push("C",b(c[k]),b(c[k+1]),b(c[k+2]),b(c[k+3]),b(f),b(g)),k+=6;break;case d.OPS.curveTo2:f=c[k+2],g=c[k+3],h.push("C",b(f),b(g),b(c[k]),b(c[k+1]),b(c[k+2]),b(c[k+3])),k+=4;break;case d.OPS.curveTo3:f=c[k+2],g=c[k+3],h.push("C",b(c[k]),b(c[k+1]),b(f),b(g),b(f),b(g)),k+=4;break;case d.OPS.closePath:h.push("Z")}e.path.setAttributeNS(null,"d",h.join(" ")),e.path.setAttributeNS(null,"fill","none"),this._ensureTransformGroup().appendChild(e.path),e.element=e.path,e.setCurrentPoint(f,g)},endPath:function(){var a,b,d,e;this.pendingClip&&(a=this.current,b="clippath"+n,n++,d=this.svgFactory.createElement("svg:clipPath"),d.setAttributeNS(null,"id",b),d.setAttributeNS(null,"transform",c(this.transformMatrix)),e=a.element.cloneNode(),"evenodd"===this.pendingClip?e.setAttributeNS(null,"clip-rule","evenodd"):e.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,d.appendChild(e),this.defs.appendChild(d),a.activeClipUrl&&(a.clipGroup=null,this.extraStack.forEach(function(a){a.clipGroup=null})),a.activeClipUrl="url(#"+b+")",this.tgrp=null)},clip:function(a){this.pendingClip=a},closePath:function(){var a=this.current,b=a.path.getAttributeNS(null,"d");b+="Z",a.path.setAttributeNS(null,"d",b)},setLeading:function(a){this.current.leading=-a},setTextRise:function(a){this.current.textRise=a},setHScale:function(a){this.current.textHScale=a/100},setGState:function(a){var b,c,e,f,g;for(b=0,c=a.length;c>b;b++)switch(e=a[b],f=e[0],g=e[1],f){case"LW":this.setLineWidth(g);break;case"LC":this.setLineCap(g);break;case"LJ":this.setLineJoin(g);break;case"ML":this.setMiterLimit(g);break;case"D":this.setDash(g[0],g[1]);break;case"Font":this.setFont(g);break;case"CA":this.setStrokeAlpha(g);break;case"ca":this.setFillAlpha(g);break;default:d.warn("Unimplemented graphic state "+f)}},fill:function(){var a=this.current;a.element.setAttributeNS(null,"fill",a.fillColor),a.element.setAttributeNS(null,"fill-opacity",a.fillAlpha)},stroke:function(){var a=this.current;a.element.setAttributeNS(null,"stroke",a.strokeColor),a.element.setAttributeNS(null,"stroke-opacity",a.strokeAlpha),a.element.setAttributeNS(null,"stroke-miterlimit",b(a.miterLimit)),a.element.setAttributeNS(null,"stroke-linecap",a.lineCap),a.element.setAttributeNS(null,"stroke-linejoin",a.lineJoin),a.element.setAttributeNS(null,"stroke-width",b(a.lineWidth)+"px"),a.element.setAttributeNS(null,"stroke-dasharray",a.dashArray.map(b).join(" ")),a.element.setAttributeNS(null,"stroke-dashoffset",b(a.dashPhase)+"px"),a.element.setAttributeNS(null,"fill","none")},eoFill:function(){this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()},fillStroke:function(){this.stroke(),this.fill()},eoFillStroke:function(){this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()},closeStroke:function(){this.closePath(),this.stroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},paintSolidColorImageMask:function(){var a=this.current,b=this.svgFactory.createElement("svg:rect");b.setAttributeNS(null,"x","0"),b.setAttributeNS(null,"y","0"),b.setAttributeNS(null,"width","1px"),b.setAttributeNS(null,"height","1px"),b.setAttributeNS(null,"fill",a.fillColor),this._ensureTransformGroup().appendChild(b)},paintJpegXObject:function(a,c,d){var e=this.objs.get(a),f=this.svgFactory.createElement("svg:image");f.setAttributeNS(k,"xlink:href",e.src),f.setAttributeNS(null,"width",b(c)),f.setAttributeNS(null,"height",b(d)),f.setAttributeNS(null,"x","0"),f.setAttributeNS(null,"y",b(-d)),f.setAttributeNS(null,"transform","scale("+b(1/c)+" "+b(-1/d)+")"),this._ensureTransformGroup().appendChild(f)},paintImageXObject:function(a){var b=this.objs.get(a);return b?(this.paintInlineImageXObject(b),void 0):(d.warn("Dependent image isn't ready yet"),void 0)},paintInlineImageXObject:function(a,c){var i,d=a.width,e=a.height,f=h(a,this.forceDataSchema),g=this.svgFactory.createElement("svg:rect");g.setAttributeNS(null,"x","0"),g.setAttributeNS(null,"y","0"),g.setAttributeNS(null,"width",b(d)),g.setAttributeNS(null,"height",b(e)),this.current.element=g,this.clip("nonzero"),i=this.svgFactory.createElement("svg:image"),i.setAttributeNS(k,"xlink:href",f),i.setAttributeNS(null,"x","0"),i.setAttributeNS(null,"y",b(-e)),i.setAttributeNS(null,"width",b(d)+"px"),i.setAttributeNS(null,"height",b(e)+"px"),i.setAttributeNS(null,"transform","scale("+b(1/d)+" "+b(-1/e)+")"),c?c.appendChild(i):this._ensureTransformGroup().appendChild(i)},paintImageMaskXObject:function(a){var g,h,c=this.current,d=a.width,e=a.height,f=c.fillColor;c.maskId="mask"+o++,g=this.svgFactory.createElement("svg:mask"),g.setAttributeNS(null,"id",c.maskId),h=this.svgFactory.createElement("svg:rect"),h.setAttributeNS(null,"x","0"),h.setAttributeNS(null,"y","0"),h.setAttributeNS(null,"width",b(d)),h.setAttributeNS(null,"height",b(e)),h.setAttributeNS(null,"fill",f),h.setAttributeNS(null,"mask","url(#"+c.maskId+")"),this.defs.appendChild(g),this._ensureTransformGroup().appendChild(h),this.paintInlineImageXObject(a,g)},paintFormXObjectBegin:function(a,c){var d,e,f;Array.isArray(a)&&6===a.length&&this.transform(a[0],a[1],a[2],a[3],a[4],a[5]),Array.isArray(c)&&4===c.length&&(d=c[2]-c[0],e=c[3]-c[1],f=this.svgFactory.createElement("svg:rect"),f.setAttributeNS(null,"x",c[0]),f.setAttributeNS(null,"y",c[1]),f.setAttributeNS(null,"width",b(d)),f.setAttributeNS(null,"height",b(e)),this.current.element=f,this.clip("nonzero"),this.endPath())},paintFormXObjectEnd:function(){},_initialize:function(a){var e,b=this.svgFactory.create(a.width,a.height),d=this.svgFactory.createElement("svg:defs");return b.appendChild(d),this.defs=d,e=this.svgFactory.createElement("svg:g"),e.setAttributeNS(null,"transform",c(a.transform)),b.appendChild(e),this.svg=e,b},_ensureClipGroup:function(){if(!this.current.clipGroup){var a=this.svgFactory.createElement("svg:g");a.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(a),this.current.clipGroup=a}return this.current.clipGroup},_ensureTransformGroup:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",c(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}},f}(),b.SVGGraphics=f},function(a,b,c){"use strict";var m,n,o,f=c(0),g=c(82),h=c(48),i=c(52),j=c(51),k=c(7),l=c(53);f.isNodeJS()?(m=c(87).PDFNodeStream,h.setPDFNetworkStreamClass(m)):"undefined"!=typeof Response&&"body"in Response.prototype&&"undefined"!=typeof ReadableStream?(n=c(88).PDFFetchStream,h.setPDFNetworkStreamClass(n)):(o=c(89).PDFNetworkStream,h.setPDFNetworkStreamClass(o)),b.PDFJS=g.PDFJS,b.build=h.build,b.version=h.version,b.getDocument=h.getDocument,b.LoopbackPort=h.LoopbackPort,b.PDFDataRangeTransport=h.PDFDataRangeTransport,b.PDFWorker=h.PDFWorker,b.renderTextLayer=i.renderTextLayer,b.AnnotationLayer=j.AnnotationLayer,b.CustomStyle=k.CustomStyle,b.createPromiseCapability=f.createPromiseCapability,b.PasswordResponses=f.PasswordResponses,b.InvalidPDFException=f.InvalidPDFException,b.MissingPDFException=f.MissingPDFException,b.SVGGraphics=l.SVGGraphics,b.NativeImageDecoding=f.NativeImageDecoding,b.UnexpectedResponseException=f.UnexpectedResponseException,b.OPS=f.OPS,b.UNSUPPORTED_FEATURES=f.UNSUPPORTED_FEATURES,b.isValidUrl=k.isValidUrl,b.createValidAbsoluteUrl=f.createValidAbsoluteUrl,b.createObjectURL=f.createObjectURL,b.removeNullCharacters=f.removeNullCharacters,b.shadow=f.shadow,b.createBlob=f.createBlob,b.RenderingCancelledException=k.RenderingCancelledException,b.getFilenameFromUrl=k.getFilenameFromUrl,b.addLinkAttributes=k.addLinkAttributes,b.StatTimer=f.StatTimer},function(a,b,c){"use strict";var e,f,g,h,i,j,k,l,m,n,o,p,q,d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};"undefined"!=typeof PDFJS&&PDFJS.compatibilityChecked||(e=c(9),f="undefined"!=typeof navigator&&navigator.userAgent||"",g=/Android/.test(f),h=/Android\s[0-2][^\d]/.test(f),i=/Android\s[0-4][^\d]/.test(f),j=f.indexOf("Chrom")>=0,k=/Chrome\/(39|40)\./.test(f),l=f.indexOf("CriOS")>=0,m=f.indexOf("Trident")>=0,n=/\b(iPad|iPhone|iPod)(?=;)/.test(f),o=f.indexOf("Opera")>=0,p=/Safari\//.test(f)&&!/(Chrome\/|Android\s)/.test(f),q="object"===("undefined"==typeof window?"undefined":d(window))&&"object"===("undefined"==typeof document?"undefined":d(document)),"undefined"==typeof PDFJS&&(e.PDFJS={}),PDFJS.compatibilityChecked=!0,function(){function a(a,b){return new j(this.slice(a,b))}function b(a,b){arguments.length<2&&(b=0);for(var c=0,d=a.length;d>c;++c,++b)this[b]=255&a[c]}function f(a,b){this.buffer=a,this.byteLength=a.length,this.length=b,i(this.length)}function h(a){return{get:function(){var b=this.buffer,c=a<<2;return(b[c]|b[c+1]<<8|b[c+2]<<16|b[c+3]<<24)>>>0},set:function(b){var c=this.buffer,d=a<<2;c[d]=255&b,c[d+1]=255&b>>8,c[d+2]=255&b>>16,c[d+3]=255&b>>>24}}}function i(a){for(;a>g;)Object.defineProperty(f.prototype,g,h(g)),g++}function j(c){var e,f,g;if("number"==typeof c)for(e=[],f=0;c>f;++f)e[f]=0;
else if("slice"in c)e=c.slice(0);else for(e=[],f=0,g=c.length;g>f;++f)e[f]=c[f];return e.subarray=a,e.buffer=e,e.byteLength=e.length,e.set=b,"object"===("undefined"==typeof c?"undefined":d(c))&&c.buffer&&(e.buffer=c.buffer),e}if("undefined"==typeof Uint8ClampedArray&&(e.Uint8ClampedArray=c(56)),"undefined"!=typeof Uint8Array)return"undefined"==typeof Uint8Array.prototype.subarray&&(Uint8Array.prototype.subarray=function(a,b){return new Uint8Array(this.slice(a,b))},Float32Array.prototype.subarray=function(a,b){return new Float32Array(this.slice(a,b))}),"undefined"==typeof Float64Array&&(e.Float64Array=Float32Array),void 0;f.prototype=Object.create(null);var g=0;e.Uint8Array=j,e.Int8Array=j,e.Int32Array=j,e.Uint16Array=j,e.Float32Array=j,e.Float64Array=j,e.Uint32Array=function(){if(3===arguments.length){if(0!==arguments[1])throw new Error("offset !== 0 is not supported");return new f(arguments[0],arguments[2])}return j.apply(this,arguments)}}(),function(){if(q&&window.CanvasPixelArray){var a=window.CanvasPixelArray.prototype;"buffer"in a||(Object.defineProperty(a,"buffer",{get:function(){return this},enumerable:!1,configurable:!0}),Object.defineProperty(a,"byteLength",{get:function(){return this.length},enumerable:!1,configurable:!0}))}}(),function(){e.URL||(e.URL=e.webkitURL)}(),function(){var a,b;if("undefined"!=typeof Object.defineProperty){a=!0;try{q&&Object.defineProperty(new Image,"id",{value:"test"}),b=function(){},b.prototype={get id(){}},Object.defineProperty(new b,"id",{value:"",configurable:!0,enumerable:!0,writable:!1})}catch(c){a=!1}if(a)return}Object.defineProperty=function(a,b,c){delete a[b],"get"in c&&a.__defineGetter__(b,c["get"]),"set"in c&&a.__defineSetter__(b,c["set"]),"value"in c&&(a.__defineSetter__(b,function(a){return this.__defineGetter__(b,function(){return a}),a}),a[b]=c.value)}}(),function(){var a,b;if("undefined"!=typeof XMLHttpRequest&&(a=XMLHttpRequest.prototype,b=new XMLHttpRequest,"overrideMimeType"in b||Object.defineProperty(a,"overrideMimeType",{value:function(){}}),!("responseType"in b)))return Object.defineProperty(a,"responseType",{get:function(){return this._responseType||"text"},set:function(a){("text"===a||"arraybuffer"===a)&&(this._responseType=a,"arraybuffer"===a&&"function"==typeof this.overrideMimeType&&this.overrideMimeType("text/plain; charset=x-user-defined"))}}),"undefined"!=typeof VBArray?(Object.defineProperty(a,"response",{get:function(){return"arraybuffer"===this.responseType?new Uint8Array(new VBArray(this.responseBody).toArray()):this.responseText}}),void 0):(Object.defineProperty(a,"response",{get:function(){var a,b,c,d;if("arraybuffer"!==this.responseType)return this.responseText;for(a=this.responseText,c=a.length,d=new Uint8Array(c),b=0;c>b;++b)d[b]=255&a.charCodeAt(b);return d.buffer}}),void 0)}(),function(){if(!("btoa"in e)){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.btoa=function(b){var d,e,f,g,h,i,j,k,l,c="";for(d=0,e=b.length;e>d;d+=3)f=255&b.charCodeAt(d),g=255&b.charCodeAt(d+1),h=255&b.charCodeAt(d+2),i=f>>2,j=(3&f)<<4|g>>4,k=e>d+1?(15&g)<<2|h>>6:64,l=e>d+2?63&h:64,c+=a.charAt(i)+a.charAt(j)+a.charAt(k)+a.charAt(l);return c}}}(),function(){if(!("atob"in e)){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.atob=function(b){if(b=b.replace(/=+$/,""),1===b.length%4)throw new Error("bad atob input");for(var d,e,c=0,f=0,g="";e=b.charAt(f++);~e&&(d=c%4?64*d+e:e,c++%4)?g+=String.fromCharCode(255&d>>(6&-2*c)):0)e=a.indexOf(e);return g}}}(),function(){"undefined"==typeof Function.prototype.bind&&(Function.prototype.bind=function(a){var b=this,c=Array.prototype.slice.call(arguments,1),d=function(){var d=c.concat(Array.prototype.slice.call(arguments));return b.apply(a,d)};return d})}(),function(){if(q){var a=document.createElement("div");"dataset"in a||Object.defineProperty(HTMLElement.prototype,"dataset",{get:function(){var a,b,c,d,e;if(this._dataset)return this._dataset;for(a={},b=0,c=this.attributes.length;c>b;b++)d=this.attributes[b],"data-"===d.name.substring(0,5)&&(e=d.name.substring(5).replace(/\-([a-z])/g,function(a,b){return b.toUpperCase()}),a[e]=d.value);return Object.defineProperty(this,"_dataset",{value:a,writable:!1,enumerable:!1}),a},enumerable:!0})}}(),function(){function a(a,b,c,d){var g,e=a.className||"",f=e.split(/\s+/g);return""===f[0]&&f.shift(),g=f.indexOf(b),0>g&&c&&f.push(b),g>=0&&d&&f.splice(g,1),a.className=f.join(" "),g>=0}var b,c;q&&(b=document.createElement("div"),"classList"in b||(c={add:function(b){a(this.element,b,!0,!1)},contains:function(b){return a(this.element,b,!1,!1)},remove:function(b){a(this.element,b,!1,!0)},toggle:function(b){a(this.element,b,!0,!0)}},Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){if(this._classList)return this._classList;var a=Object.create(c,{element:{value:this,writable:!1,enumerable:!0}});return Object.defineProperty(this,"_classList",{value:a,writable:!1,enumerable:!1}),a},enumerable:!0})))}(),function(){var a,b;"undefined"==typeof importScripts||"console"in e||(a={},b={log:function(){var a=Array.prototype.slice.call(arguments);e.postMessage({targetName:"main",action:"console_log",data:a})},error:function(){var a=Array.prototype.slice.call(arguments);e.postMessage({targetName:"main",action:"console_error",data:a})},time:function(b){a[b]=Date.now()},timeEnd:function(b){var c=a[b];if(!c)throw new Error("Unknown timer name "+b);this.log("Timer:",b,Date.now()-c)}},e.console=b)}(),function(){return q?"console"in window?"bind"in console.log?void 0:(console.log=function(a){return function(b){return a(b)}}(console.log),console.error=function(a){return function(b){return a(b)}}(console.error),console.warn=function(a){return function(b){return a(b)}}(console.warn),void 0):(window.console={log:function(){},error:function(){},warn:function(){}},void 0):void 0}(),function(){function a(a){b(a.target)&&a.stopPropagation()}function b(a){return a.disabled||a.parentNode&&b(a.parentNode)}o&&document.addEventListener("click",a,!0)}(),function(){(m||l)&&(PDFJS.disableCreateObjectURL=!0)}(),function(){"undefined"!=typeof navigator&&("language"in navigator||(PDFJS.locale=navigator.userLanguage||"en-US"))}(),function(){(p||h||k||n)&&(PDFJS.disableRange=!0,PDFJS.disableStream=!0)}(),function(){q&&(!history.pushState||h)&&(PDFJS.disableHistory=!0)}(),function(){var b,a,c,d;q&&(window.CanvasPixelArray?"function"!=typeof window.CanvasPixelArray.prototype.set&&(window.CanvasPixelArray.prototype.set=function(a){for(var b=0,c=this.length;c>b;b++)this[b]=a[b]}):(a=!1,j?(b=f.match(/Chrom(e|ium)\/([0-9]+)\./),a=b&&parseInt(b[2])<21):g?a=i:p&&(b=f.match(/Version\/([0-9]+)\.([0-9]+)\.([0-9]+) Safari\//),a=b&&parseInt(b[1])<6),a&&(c=window.CanvasRenderingContext2D.prototype,d=c.createImageData,c.createImageData=function(a,b){var c=d.call(this,a,b);return c.data.set=function(a){for(var b=0,c=this.length;c>b;b++)this[b]=a[b]},c},c=null)))}(),function(){function a(){window.requestAnimationFrame=function(a){return window.setTimeout(a,20)},window.cancelAnimationFrame=function(a){window.clearTimeout(a)}}if(q)return n?(a(),void 0):("requestAnimationFrame"in window||(window.requestAnimationFrame=window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame,window.requestAnimationFrame||a()),void 0)}(),function(){(n||g)&&(PDFJS.maxCanvasPixels=5242880)}(),function(){q&&m&&window.parent!==window&&(PDFJS.disableFullscreen=!0)}(),function(){q&&("currentScript"in document||Object.defineProperty(document,"currentScript",{get:function(){var a=document.getElementsByTagName("script");return a[a.length-1]},enumerable:!0,configurable:!0}))}(),function(){var a,c,d;if(q){a=document.createElement("input");try{a.type="number"}catch(b){c=a.constructor.prototype,d=Object.getOwnPropertyDescriptor(c,"type"),Object.defineProperty(c,"type",{get:function(){return d.get.call(this)},set:function(a){d.set.call(this,"number"===a?"text":a)},enumerable:!0,configurable:!0})}}}(),function(){var a,b;q&&document.attachEvent&&(a=document.constructor.prototype,b=Object.getOwnPropertyDescriptor(a,"readyState"),Object.defineProperty(a,"readyState",{get:function(){var a=b.get.call(this);return"interactive"===a?"loading":a},set:function(a){b.set.call(this,a)},enumerable:!0,configurable:!0}))}(),function(){q&&"undefined"==typeof Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)})}(),function(){Number.isNaN||(Number.isNaN=function(a){return"number"==typeof a&&isNaN(a)})}(),function(){Number.isInteger||(Number.isInteger=function(a){return"number"==typeof a&&isFinite(a)&&Math.floor(a)===a})}(),function(){var a,b,c,d,f,g;return e.Promise?("function"!=typeof e.Promise.all&&(e.Promise.all=function(a){var d,f,b=0,c=[],g=new e.Promise(function(a,b){d=a,f=b});return a.forEach(function(a,e){b++,a.then(function(a){c[e]=a,b--,0===b&&d(c)},f)}),0===b&&d(c),g}),"function"!=typeof e.Promise.resolve&&(e.Promise.resolve=function(a){return new e.Promise(function(b){b(a)})}),"function"!=typeof e.Promise.reject&&(e.Promise.reject=function(a){return new e.Promise(function(b,c){c(a)})}),"function"!=typeof e.Promise.prototype.catch&&(e.Promise.prototype.catch=function(a){return e.Promise.prototype.then(void 0,a)}),void 0):(a=0,b=1,c=2,d=500,f={handlers:[],running:!1,unhandledRejections:[],pendingRejectionCheck:!1,scheduleHandlers:function(b){b._status!==a&&(this.handlers=this.handlers.concat(b._handlers),b._handlers=[],this.running||(this.running=!0,setTimeout(this.runHandlers.bind(this),0)))},runHandlers:function(){for(var e,f,g,a=1,d=Date.now()+a;this.handlers.length>0;){e=this.handlers.shift(),f=e.thisPromise._status,g=e.thisPromise._value;try{f===b?"function"==typeof e.onResolve&&(g=e.onResolve(g)):"function"==typeof e.onReject&&(g=e.onReject(g),f=b,e.thisPromise._unhandledRejection&&this.removeUnhandeledRejection(e.thisPromise))}catch(h){f=c,g=h}if(e.nextPromise._updateStatus(f,g),Date.now()>=d)break}return this.handlers.length>0?(setTimeout(this.runHandlers.bind(this),0),void 0):(this.running=!1,void 0)},addUnhandledRejection:function(a){this.unhandledRejections.push({promise:a,time:Date.now()}),this.scheduleRejectionCheck()},removeUnhandeledRejection:function(a){a._unhandledRejection=!1;for(var b=0;b<this.unhandledRejections.length;b++)this.unhandledRejections[b].promise===a&&(this.unhandledRejections.splice(b),b--)},scheduleRejectionCheck:function(){var a=this;this.pendingRejectionCheck||(this.pendingRejectionCheck=!0,setTimeout(function(){var b,c,e,f;for(a.pendingRejectionCheck=!1,b=Date.now(),c=0;c<a.unhandledRejections.length;c++)if(b-a.unhandledRejections[c].time>d){e=a.unhandledRejections[c].promise._value,f="Unhandled rejection: "+e,e.stack&&(f+="\n"+e.stack);try{throw new Error(f)}catch(g){console.warn(f)}a.unhandledRejections.splice(c),c--}a.unhandledRejections.length&&a.scheduleRejectionCheck()},d))}},g=function(b){this._status=a,this._handlers=[];try{b.call(this,this._resolve.bind(this),this._reject.bind(this))}catch(c){this._reject(c)}},g.all=function(a){function i(a){e._status!==c&&(h=[],d(a))}var b,d,j,k,l,m,e=new g(function(a,c){b=a,d=c}),f=a.length,h=[];if(0===f)return b(h),e;for(j=0,k=a.length;k>j;++j)l=a[j],m=function(a){return function(d){e._status!==c&&(h[a]=d,f--,0===f&&b(h))}}(j),g.isPromise(l)?l.then(m,i):m(l);return e},g.isPromise=function(a){return a&&"function"==typeof a.then},g.resolve=function(a){return new g(function(b){b(a)})},g.reject=function(a){return new g(function(b,c){c(a)})},g.prototype={_status:null,_value:null,_handlers:null,_unhandledRejection:null,_updateStatus:function(a,d){if(this._status!==b&&this._status!==c){if(a===b&&g.isPromise(d))return d.then(this._updateStatus.bind(this,b),this._updateStatus.bind(this,c)),void 0;this._status=a,this._value=d,a===c&&0===this._handlers.length&&(this._unhandledRejection=!0,f.addUnhandledRejection(this)),f.scheduleHandlers(this)}},_resolve:function(a){this._updateStatus(b,a)},_reject:function(a){this._updateStatus(c,a)},then:function(a,b){var c=new g(function(a,b){this.resolve=a,this.reject=b});return this._handlers.push({thisPromise:this,onResolve:a,onReject:b,nextPromise:c}),f.scheduleHandlers(this),c},"catch":function(a){return this.then(void 0,a)}},e.Promise=g,void 0)}(),function(){function b(){this.id="$weakmap"+a++}if(!e.WeakMap){var a=0;b.prototype={has:function(a){return"object"!==("undefined"==typeof a?"undefined":d(a))&&"function"!=typeof a||null===a?!1:!!Object.getOwnPropertyDescriptor(a,this.id)},get:function(a){return this.has(a)?a[this.id]:void 0},set:function(a,b){Object.defineProperty(a,this.id,{value:b,enumerable:!1,configurable:!0})},"delete":function(a){delete a[this.id]}},e.WeakMap=b}}(),function(){function h(a){return void 0!==f[a]}function i(){q.call(this),this._isInvalid=!0}function j(a){return""===a&&i.call(this),a.toLowerCase()}function k(a){var b=a.charCodeAt(0);return b>32&&127>b&&-1===[34,35,60,62,63,96].indexOf(b)?a:encodeURIComponent(a)}function l(a){var b=a.charCodeAt(0);return b>32&&127>b&&-1===[34,35,60,62,96].indexOf(b)?a:encodeURIComponent(a)}function p(a,b,c){function d(a){t.push(a)}var u,v,w,x,y,z,A,B,e=b||"scheme start",p=0,q="",r=!1,s=!1,t=[];a:for(;(a[p-1]!==m||0===p)&&!this._isInvalid;){switch(u=a[p],e){case"scheme start":if(!u||!n.test(u)){if(b){d("Invalid scheme.");break a}q="",e="no scheme";continue}q+=u.toLowerCase(),e="scheme";break;case"scheme":if(u&&o.test(u))q+=u.toLowerCase();else{if(":"!==u){if(b){if(u===m)break a;d("Code point not allowed in scheme: "+u);break a}q="",p=0,e="no scheme";continue}if(this._scheme=q,q="",b)break a;h(this._scheme)&&(this._isRelative=!0),e="file"===this._scheme?"relative":this._isRelative&&c&&c._scheme===this._scheme?"relative or authority":this._isRelative?"authority first slash":"scheme data"}break;case"scheme data":"?"===u?(this._query="?",e="query"):"#"===u?(this._fragment="#",e="fragment"):u!==m&&"	"!==u&&"\n"!==u&&"\r"!==u&&(this._schemeData+=k(u));break;case"no scheme":if(c&&h(c._scheme)){e="relative";continue}d("Missing scheme."),i.call(this);break;case"relative or authority":if("/"!==u||"/"!==a[p+1]){d("Expected /, got: "+u),e="relative";continue}e="authority ignore slashes";break;case"relative":if(this._isRelative=!0,"file"!==this._scheme&&(this._scheme=c._scheme),u===m){this._host=c._host,this._port=c._port,this._path=c._path.slice(),this._query=c._query,this._username=c._username,this._password=c._password;break a}if("/"===u||"\\"===u)"\\"===u&&d("\\ is an invalid code point."),e="relative slash";else if("?"===u)this._host=c._host,this._port=c._port,this._path=c._path.slice(),this._query="?",this._username=c._username,this._password=c._password,e="query";else{if("#"!==u){v=a[p+1],w=a[p+2],("file"!==this._scheme||!n.test(u)||":"!==v&&"|"!==v||w!==m&&"/"!==w&&"\\"!==w&&"?"!==w&&"#"!==w)&&(this._host=c._host,this._port=c._port,this._username=c._username,this._password=c._password,this._path=c._path.slice(),this._path.pop()),e="relative path";continue}this._host=c._host,this._port=c._port,this._path=c._path.slice(),this._query=c._query,this._fragment="#",this._username=c._username,this._password=c._password,e="fragment"}break;case"relative slash":if("/"!==u&&"\\"!==u){"file"!==this._scheme&&(this._host=c._host,this._port=c._port,this._username=c._username,this._password=c._password),e="relative path";continue}"\\"===u&&d("\\ is an invalid code point."),e="file"===this._scheme?"file host":"authority ignore slashes";break;case"authority first slash":if("/"!==u){d("Expected '/', got: "+u),e="authority ignore slashes";continue}e="authority second slash";break;case"authority second slash":if(e="authority ignore slashes","/"!==u){d("Expected '/', got: "+u);continue}break;case"authority ignore slashes":if("/"!==u&&"\\"!==u){e="authority";continue}d("Expected authority, got: "+u);break;case"authority":if("@"===u){for(r&&(d("@ already seen."),q+="%40"),r=!0,x=0;x<q.length;x++)y=q[x],"	"!==y&&"\n"!==y&&"\r"!==y?":"!==y||null!==this._password?(z=k(y),null!==this._password?this._password+=z:this._username+=z):this._password="":d("Invalid whitespace in authority.");q=""}else{if(u===m||"/"===u||"\\"===u||"?"===u||"#"===u){p-=q.length,q="",e="host";continue}q+=u}break;case"file host":if(u===m||"/"===u||"\\"===u||"?"===u||"#"===u){2!==q.length||!n.test(q[0])||":"!==q[1]&&"|"!==q[1]?0===q.length?e="relative path start":(this._host=j.call(this,q),q="",e="relative path start"):e="relative path";continue}"	"===u||"\n"===u||"\r"===u?d("Invalid whitespace in file host."):q+=u;break;case"host":case"hostname":if(":"!==u||s){if(u===m||"/"===u||"\\"===u||"?"===u||"#"===u){if(this._host=j.call(this,q),q="",e="relative path start",b)break a;continue}"	"!==u&&"\n"!==u&&"\r"!==u?("["===u?s=!0:"]"===u&&(s=!1),q+=u):d("Invalid code point in host/hostname: "+u)}else if(this._host=j.call(this,q),q="",e="port","hostname"===b)break a;break;case"port":if(/[0-9]/.test(u))q+=u;else{if(u===m||"/"===u||"\\"===u||"?"===u||"#"===u||b){if(""!==q&&(A=parseInt(q,10),A!==f[this._scheme]&&(this._port=A+""),q=""),b)break a;e="relative path start";continue}"	"===u||"\n"===u||"\r"===u?d("Invalid code point in port: "+u):i.call(this)}break;case"relative path start":if("\\"===u&&d("'\\' not allowed in path."),e="relative path","/"!==u&&"\\"!==u)continue;break;case"relative path":u!==m&&"/"!==u&&"\\"!==u&&(b||"?"!==u&&"#"!==u)?"	"!==u&&"\n"!==u&&"\r"!==u&&(q+=k(u)):("\\"===u&&d("\\ not allowed in relative path."),(B=g[q.toLowerCase()])&&(q=B),".."===q?(this._path.pop(),"/"!==u&&"\\"!==u&&this._path.push("")):"."===q&&"/"!==u&&"\\"!==u?this._path.push(""):"."!==q&&("file"===this._scheme&&0===this._path.length&&2===q.length&&n.test(q[0])&&"|"===q[1]&&(q=q[0]+":"),this._path.push(q)),q="","?"===u?(this._query="?",e="query"):"#"===u&&(this._fragment="#",e="fragment"));break;case"query":b||"#"!==u?u!==m&&"	"!==u&&"\n"!==u&&"\r"!==u&&(this._query+=l(u)):(this._fragment="#",e="fragment");break;case"fragment":u!==m&&"	"!==u&&"\n"!==u&&"\r"!==u&&(this._fragment+=u)}p++}}function q(){this._scheme="",this._schemeData="",this._username="",this._password=null,this._host="",this._port="",this._path=[],this._query="",this._fragment="",this._isInvalid=!1,this._isRelative=!1}function r(a,b){void 0===b||b instanceof r||(b=new r(String(b))),this._url=a,q.call(this);var c=a.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");p.call(this,c,null,b)}var b,f,g,m,n,o,s,a=!1;try{"function"==typeof URL&&"object"===d(URL.prototype)&&"origin"in URL.prototype&&(b=new URL("b","http://a"),b.pathname="c%20d",a="http://a/c%20d"===b.href)}catch(c){}a||(f=Object.create(null),f["ftp"]=21,f["file"]=0,f["gopher"]=70,f["http"]=80,f["https"]=443,f["ws"]=80,f["wss"]=443,g=Object.create(null),g["%2e"]=".",g[".%2e"]="..",g["%2e."]="..",g["%2e%2e"]="..",n=/[a-zA-Z]/,o=/[a-zA-Z0-9\+\-\.]/,r.prototype={toString:function(){return this.href},get href(){if(this._isInvalid)return this._url;var a="";return(""!==this._username||null!==this._password)&&(a=this._username+(null!==this._password?":"+this._password:"")+"@"),this.protocol+(this._isRelative?"//"+a+this.host:"")+this.pathname+this._query+this._fragment},set href(a){q.call(this),p.call(this,a)},get protocol(){return this._scheme+":"},set protocol(a){this._isInvalid||p.call(this,a+":","scheme start")},get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(a){!this._isInvalid&&this._isRelative&&p.call(this,a,"host")},get hostname(){return this._host},set hostname(a){!this._isInvalid&&this._isRelative&&p.call(this,a,"hostname")},get port(){return this._port},set port(a){!this._isInvalid&&this._isRelative&&p.call(this,a,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(a){!this._isInvalid&&this._isRelative&&(this._path=[],p.call(this,a,"relative path start"))},get search(){return this._isInvalid||!this._query||"?"===this._query?"":this._query},set search(a){!this._isInvalid&&this._isRelative&&(this._query="?","?"===a[0]&&(a=a.slice(1)),p.call(this,a,"query"))},get hash(){return this._isInvalid||!this._fragment||"#"===this._fragment?"":this._fragment},set hash(a){this._isInvalid||(this._fragment="#","#"===a[0]&&(a=a.slice(1)),p.call(this,a,"fragment"))},get origin(){var a;if(this._isInvalid||!this._scheme)return"";switch(this._scheme){case"data":case"file":case"javascript":case"mailto":return"null";case"blob":try{return new r(this._schemeData).origin||"null"}catch(b){}return"null"}return a=this.host,a?this._scheme+"://"+a:""}},s=e.URL,s&&(r.createObjectURL=function(){return s.createObjectURL.apply(s,arguments)},r.revokeObjectURL=function(a){s.revokeObjectURL(a)}),e.URL=r)}())},function(a,b,c){"use strict";c(57),a.exports=c(16).Uint8ClampedArray},function(a,b,c){"use strict";c(58)("Uint8",1,function(a){return function(b,c,d){return a(this,b,c,d)}},!0)},function(a,b,c){"use strict";var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};c(3)?(e=c(21),f=c(2),g=c(15),h=c(30),i=c(34),j=c(59),k=c(24),l=c(36),m=c(18),n=c(4),o=c(35),p=c(12),q=c(6),r=c(37),s=c(20),t=c(22),u=c(5),v=c(45),w=c(10),x=c(13),y=c(60),z=c(46),A=c(47),B=c(38).f,C=c(64),D=c(11),E=c(1),F=c(65),G=c(42),H=c(69),I=c(70),J=c(14),K=c(75),L=c(76),M=c(44),N=c(77),O=c(8),P=c(78),Q=O.f,R=P.f,S=f.RangeError,T=f.TypeError,U=f.Uint8Array,V="ArrayBuffer",W="Shared"+V,X="BYTES_PER_ELEMENT",Y="prototype",Z=Array[Y],$=j.ArrayBuffer,_=j.DataView,ab=F(0),bb=F(2),cb=F(3),db=F(4),eb=F(5),fb=F(6),gb=G(!0),hb=G(!1),ib=I.values,jb=I.keys,kb=I.entries,lb=Z.lastIndexOf,mb=Z.reduce,nb=Z.reduceRight,ob=Z.join,pb=Z.sort,qb=Z.slice,rb=Z.toString,sb=Z.toLocaleString,tb=E("iterator"),ub=E("toStringTag"),vb=D("typed_constructor"),wb=D("def_constructor"),xb=i.CONSTR,yb=i.TYPED,zb=i.VIEW,Ab="Wrong length!",Bb=F(1,function(a,b){return Gb(H(a,a[wb]),b)}),Cb=g(function(){return 1===new U(new Uint16Array([1]).buffer)[0]}),Db=!!U&&!!U[Y].set&&g(function(){new U(1).set({})}),Eb=function(a,b){var c=p(a);if(0>c||c%b)throw S("Wrong offset!");return c},Fb=function(a){if(w(a)&&yb in a)return a;throw T(a+" is not a typed array!")},Gb=function(a,b){if(!(w(a)&&vb in a))throw T("It is not a typed array constructor!");return new a(b)},Hb=function(a,b){return Ib(H(a,a[wb]),b)},Ib=function(a,b){for(var c=0,d=b.length,e=Gb(a,d);d>c;)e[c]=b[c++];return e},Jb=function(a,b,c){Q(a,b,{get:function(){return this._d[c]}})},Kb=function(a){var g,h,i,j,l,m,b=x(a),c=arguments.length,d=c>1?arguments[1]:void 0,e=void 0!==d,f=C(b);if(void 0!=f&&!y(f)){for(m=f.call(b),i=[],g=0;!(l=m.next()).done;g++)i.push(l.value);b=i}for(e&&c>2&&(d=k(d,arguments[2],2)),g=0,h=q(b.length),j=Gb(this,h);h>g;g++)j[g]=e?d(b[g],g):b[g];return j},Lb=function(){for(var a=0,b=arguments.length,c=Gb(this,b);b>a;)c[a]=arguments[a++];return c},Mb=!!U&&g(function(){sb.call(new U(1))}),Nb=function(){return sb.apply(Mb?qb.call(Fb(this)):Fb(this),arguments)},Ob={copyWithin:function(a,b){return N.call(Fb(this),a,b,arguments.length>2?arguments[2]:void 0)},every:function(a){return db(Fb(this),a,arguments.length>1?arguments[1]:void 0)},fill:function(){return M.apply(Fb(this),arguments)},filter:function(a){return Hb(this,bb(Fb(this),a,arguments.length>1?arguments[1]:void 0))},find:function(a){return eb(Fb(this),a,arguments.length>1?arguments[1]:void 0)},findIndex:function(a){return fb(Fb(this),a,arguments.length>1?arguments[1]:void 0)},forEach:function(a){ab(Fb(this),a,arguments.length>1?arguments[1]:void 0)},indexOf:function(a){return hb(Fb(this),a,arguments.length>1?arguments[1]:void 0)},includes:function(a){return gb(Fb(this),a,arguments.length>1?arguments[1]:void 0)},join:function(){return ob.apply(Fb(this),arguments)},lastIndexOf:function(){return lb.apply(Fb(this),arguments)},map:function(a){return Bb(Fb(this),a,arguments.length>1?arguments[1]:void 0)},reduce:function(){return mb.apply(Fb(this),arguments)},reduceRight:function(){return nb.apply(Fb(this),arguments)},reverse:function(){for(var e,a=this,b=Fb(a).length,c=Math.floor(b/2),d=0;c>d;)e=a[d],a[d++]=a[--b],a[b]=e;return a},some:function(a){return cb(Fb(this),a,arguments.length>1?arguments[1]:void 0)},sort:function(a){return pb.call(Fb(this),a)},subarray:function(a,b){var c=Fb(this),d=c.length,e=s(a,d);return new(H(c,c[wb]))(c.buffer,c.byteOffset+e*c.BYTES_PER_ELEMENT,q((void 0===b?d:s(b,d))-e))}},Pb=function(a,b){return Hb(this,qb.call(Fb(this),a,b))},Qb=function(a){var b,c,d,e,f;if(Fb(this),b=Eb(arguments[1],1),c=this.length,d=x(a),e=q(d.length),f=0,e+b>c)throw S(Ab);for(;e>f;)this[b+f]=d[f++]},Rb={entries:function(){return kb.call(Fb(this))},keys:function(){return jb.call(Fb(this))},values:function(){return ib.call(Fb(this))}},Sb=function(a,b){return w(a)&&a[yb]&&"symbol"!=("undefined"==typeof b?"undefined":d(b))&&b in a&&String(+b)==String(b)},Tb=function(a,b){return Sb(a,b=t(b,!0))?m(2,a[b]):R(a,b)},Ub=function(a,b,c){return!(Sb(a,b=t(b,!0))&&w(c)&&u(c,"value"))||u(c,"get")||u(c,"set")||c.configurable||u(c,"writable")&&!c.writable||u(c,"enumerable")&&!c.enumerable?Q(a,b,c):(a[b]=c.value,a)},xb||(P.f=Tb,O.f=Ub),h(h.S+h.F*!xb,"Object",{getOwnPropertyDescriptor:Tb,defineProperty:Ub}),g(function(){rb.call({})})&&(rb=sb=function(){return ob.call(this)}),Vb=o({},Ob),o(Vb,Rb),n(Vb,tb,Rb.values),o(Vb,{slice:Pb,set:Qb,constructor:function(){},toString:rb,toLocaleString:Nb}),Jb(Vb,"buffer","b"),Jb(Vb,"byteOffset","o"),Jb(Vb,"byteLength","l"),Jb(Vb,"length","e"),Q(Vb,ub,{get:function(){return this[yb]}}),a.exports=function(a,b,c,d){var j,k,m,o,p,s,t,u,x,y,C,D,E,F,G;d=!!d,j=a+(d?"Clamped":"")+"Array",k="get"+a,m="set"+a,o=f[j],p=o||{},s=o&&A(o),t=!o||!i.ABV,u={},x=o&&o[Y],y=function(a,c){var d=a._d;return d.v[k](c*b+d.o,Cb)},C=function(a,c,e){var f=a._d;d&&(e=(e=Math.round(e))<0?0:e>255?255:255&e),f.v[m](c*b+f.o,e,Cb)},D=function(a,b){Q(a,b,{get:function(){return y(this,b)},set:function(a){return C(this,b,a)},enumerable:!0})},t?(o=c(function(a,c,d,e){var f,g,h,i,k,m,p;if(l(a,o,j,"_d"),f=0,g=0,w(c)){if(!(c instanceof $||(m=v(c))==V||m==W))return yb in c?Ib(o,c):Kb.call(o,c);if(h=c,g=Eb(d,b),p=c.byteLength,void 0===e){if(p%b)throw S(Ab);if(i=p-g,0>i)throw S(Ab)}else if(i=q(e)*b,i+g>p)throw S(Ab);k=i/b}else k=r(c),i=k*b,h=new $(i);for(n(a,"_d",{b:h,o:g,l:i,e:k,v:new _(h)});k>f;)D(a,f++)}),x=o[Y]=z(Vb),n(x,"constructor",o)):g(function(){o(1)})&&g(function(){new o(-1)})&&K(function(a){new o,new o(null),new o(1.5),new o(a)},!0)||(o=c(function(a,c,d,e){l(a,o,j);var f;return w(c)?c instanceof $||(f=v(c))==V||f==W?void 0!==e?new p(c,Eb(d,b),e):void 0!==d?new p(c,Eb(d,b)):new p(c):yb in c?Ib(o,c):Kb.call(o,c):new p(r(c))}),ab(s!==Function.prototype?B(p).concat(B(s)):B(p),function(a){a in o||n(o,a,p[a])}),o[Y]=x,e||(x.constructor=o)),E=x[tb],F=!!E&&("values"==E.name||void 0==E.name),G=Rb.values,n(o,vb,!0),n(x,yb,j),n(x,zb,!0),n(x,wb,o),(d?new o(1)[ub]==j:ub in x)||Q(x,ub,{get:function(){return j}}),u[j]=o,h(h.G+h.W+h.F*(o!=p),u),h(h.S,j,{BYTES_PER_ELEMENT:b}),h(h.S+h.F*g(function(){p.of.call(o,1)}),j,{from:Kb,of:Lb}),X in x||n(x,X,b),h(h.P,j,Ob),L(j),h(h.P+h.F*Db,j,{set:Qb}),h(h.P+h.F*!F,j,Rb),e||x.toString==rb||(x.toString=rb),h(h.P+h.F*g(function(){new o(1).slice()}),j,{slice:Pb}),h(h.P+h.F*(g(function(){return[1,2].toLocaleString()!=new o([1,2]).toLocaleString()})||!g(function(){x.toLocaleString.call([1,2])})),j,{toLocaleString:Nb}),J[j]=F?E:G,e||F||n(x,tb,G)}):a.exports=function(){}},function(a,b,c){"use strict";function O(a,b,c){var k,l,m,d=Array(c),e=8*c-b-1,f=(1<<e)-1,g=f>>1,h=23===b?E(2,-24)-E(2,-77):0,i=0,j=0>a||0===a&&0>1/a?1:0;for(a=D(a),a!=a||a===B?(l=a!=a?1:0,k=f):(k=F(G(a)/H),a*(m=E(2,-k))<1&&(k--,m*=2),a+=k+g>=1?h/m:h*E(2,1-g),a*m>=2&&(k++,m/=2),k+g>=f?(l=0,k=f):k+g>=1?(l=(a*m-1)*E(2,b),k+=g):(l=a*E(2,g-1)*E(2,b),k=0));b>=8;d[i++]=255&l,l/=256,b-=8);for(k=k<<b|l,e+=b;e>0;d[i++]=255&k,k/=256,e-=8);return d[--i]|=128*j,d}function P(a,b,c){var k,d=8*c-b-1,e=(1<<d)-1,f=e>>1,g=d-7,h=c-1,i=a[h--],j=127&i;for(i>>=7;g>0;j=256*j+a[h],h--,g-=8);for(k=j&(1<<-g)-1,j>>=-g,g+=b;g>0;k=256*k+a[h],h--,g-=8);if(0===j)j=1-f;else{if(j===e)return k?0/0:i?-B:B;k+=E(2,b),j-=f}return(i?-1:1)*k*E(2,j-b)}function Q(a){return a[3]<<24|a[2]<<16|a[1]<<8|a[0]}function R(a){return[255&a]}function S(a){return[255&a,255&a>>8]}function T(a){return[255&a,255&a>>8,255&a>>16,255&a>>24]}function U(a){return O(a,52,8)}function V(a){return O(a,23,4)}function W(a,b,c){p(a[u],b,{get:function(){return this[c]}})}function X(a,b,c,d){var g,h,i,e=+c,f=n(e);if(f+b>a[M])throw A(w);return g=a[L]._b,h=f+a[N],i=g.slice(h,h+b),d?i:i.reverse()}function Y(a,b,c,d,e,f){var i,j,k,l,g=+c,h=n(g);if(h+b>a[M])throw A(w);for(i=a[L]._b,j=h+a[N],k=d(+e),l=0;b>l;l++)i[j+l]=k[f?l:b-l-1]}var Z,ab,$,_,bb,cb,d=c(2),e=c(3),f=c(21),g=c(34),h=c(4),i=c(35),j=c(15),k=c(36),l=c(12),m=c(6),n=c(37),o=c(38).f,p=c(8).f,q=c(44),r=c(28),s="ArrayBuffer",t="DataView",u="prototype",v="Wrong length!",w="Wrong index!",x=d[s],y=d[t],z=d.Math,A=d.RangeError,B=d.Infinity,C=x,D=z.abs,E=z.pow,F=z.floor,G=z.log,H=z.LN2,I="buffer",J="byteLength",K="byteOffset",L=e?"_b":I,M=e?"_l":J,N=e?"_o":K;if(g.ABV){if(!j(function(){x(1)})||!j(function(){new x(-1)})||j(function(){return new x,new x(1.5),new x(0/0),x.name!=s})){for(x=function(a){return k(this,x),new C(n(a))},Z=x[u]=C[u],$=o(C),_=0;$.length>_;)(ab=$[_++])in x||h(x,ab,C[ab]);f||(Z.constructor=x)}bb=new y(new x(2)),cb=y[u].setInt8,bb.setInt8(0,2147483648),bb.setInt8(1,2147483649),(bb.getInt8(0)||!bb.getInt8(1))&&i(y[u],{setInt8:function(a,b){cb.call(this,a,b<<24>>24)},setUint8:function(a,b){cb.call(this,a,b<<24>>24)}},!0)}else x=function(a){k(this,x,s);var b=n(a);this._b=q.call(Array(b),0),this[M]=b},y=function(a,b,c){var d,e;if(k(this,y,t),k(a,x,t),d=a[M],e=l(b),0>e||e>d)throw A("Wrong offset!");if(c=void 0===c?d-e:m(c),e+c>d)throw A(v);this[L]=a,this[N]=e,this[M]=c},e&&(W(x,J,"_l"),W(y,I,"_b"),W(y,J,"_l"),W(y,K,"_o")),i(y[u],{getInt8:function(a){return X(this,1,a)[0]<<24>>24},getUint8:function(a){return X(this,1,a)[0]},getInt16:function(a){var b=X(this,2,a,arguments[1]);return(b[1]<<8|b[0])<<16>>16},getUint16:function(a){var b=X(this,2,a,arguments[1]);return b[1]<<8|b[0]},getInt32:function(a){return Q(X(this,4,a,arguments[1]))},getUint32:function(a){return Q(X(this,4,a,arguments[1]))>>>0},getFloat32:function(a){return P(X(this,4,a,arguments[1]),23,4)},getFloat64:function(a){return P(X(this,8,a,arguments[1]),52,8)},setInt8:function(a,b){Y(this,1,a,R,b)},setUint8:function(a,b){Y(this,1,a,R,b)},setInt16:function(a,b){Y(this,2,a,S,b,arguments[2])},setUint16:function(a,b){Y(this,2,a,S,b,arguments[2])},setInt32:function(a,b){Y(this,4,a,T,b,arguments[2])},setUint32:function(a,b){Y(this,4,a,T,b,arguments[2])},setFloat32:function(a,b){Y(this,4,a,V,b,arguments[2])},setFloat64:function(a,b){Y(this,8,a,U,b,arguments[2])}});r(x,s),r(y,t),h(y[u],g.VIEW,!0),b[s]=x,b[t]=y},function(a,b,c){"use strict";var d=c(14),e=c(1)("iterator"),f=Array.prototype;a.exports=function(a){return void 0!==a&&(d.Array===a||f[e]===a)}},function(a,b,c){"use strict";var d=c(8),e=c(17),f=c(62);a.exports=c(3)?Object.defineProperties:function(a,b){var c,g,h,i;for(e(a),c=f(b),g=c.length,h=0;g>h;)d.f(a,i=c[h++],b[i]);return a}},function(a,b,c){"use strict";var d=c(39),e=c(27);a.exports=Object.keys||function(a){return d(a,e)}},function(a,b,c){"use strict";var d=c(2).document;a.exports=d&&d.documentElement},function(a,b,c){"use strict";var d=c(45),e=c(1)("iterator"),f=c(14);a.exports=c(16).getIteratorMethod=function(a){return void 0!=a?a[e]||a["@@iterator"]||f[d(a)]:void 0}},function(a,b,c){"use strict";var d=c(24),e=c(40),f=c(13),g=c(6),h=c(66);a.exports=function(a,b){var c=1==a,i=2==a,j=3==a,k=4==a,l=6==a,m=5==a||l,n=b||h;return function(b,h,o){for(var v,w,p=f(b),q=e(p),r=d(h,o,3),s=g(q.length),t=0,u=c?n(b,s):i?n(b,0):void 0;s>t;t++)if((m||t in q)&&(v=q[t],w=r(v,t,p),a))if(c)u[t]=w;
else if(w)switch(a){case 3:return!0;case 5:return v;case 6:return t;case 2:u.push(v)}else if(k)return!1;return l?-1:j||k?k:u}}},function(a,b,c){"use strict";var d=c(67);a.exports=function(a,b){return new(d(a))(b)}},function(a,b,c){"use strict";var d=c(10),e=c(68),f=c(1)("species");a.exports=function(a){var b;return e(a)&&(b=a.constructor,"function"!=typeof b||b!==Array&&!e(b.prototype)||(b=void 0),d(b)&&(b=b[f],null===b&&(b=void 0))),void 0===b?Array:b}},function(a,b,c){"use strict";var d=c(25);a.exports=Array.isArray||function(a){return"Array"==d(a)}},function(a,b,c){"use strict";var d=c(17),e=c(33),f=c(1)("species");a.exports=function(a,b){var g,c=d(a).constructor;return void 0===c||void 0==(g=d(c)[f])?b:e(g)}},function(a,b,c){"use strict";var d=c(71),e=c(72),f=c(14),g=c(19);a.exports=c(73)(Array,"Array",function(a,b){this._t=g(a),this._i=0,this._k=b},function(){var a=this._t,b=this._k,c=this._i++;return!a||c>=a.length?(this._t=void 0,e(1)):"keys"==b?e(0,c):"values"==b?e(0,a[c]):e(0,[c,a[c]])},"values"),f.Arguments=f.Array,d("keys"),d("values"),d("entries")},function(a,b,c){"use strict";var d=c(1)("unscopables"),e=Array.prototype;void 0==e[d]&&c(4)(e,d,{}),a.exports=function(a){e[d][a]=!0}},function(a){"use strict";a.exports=function(a,b){return{value:b,done:!!a}}},function(a,b,c){"use strict";var d=c(21),e=c(30),f=c(23),g=c(4),h=c(5),i=c(14),j=c(74),k=c(28),l=c(47),m=c(1)("iterator"),n=!([].keys&&"next"in[].keys()),o="@@iterator",p="keys",q="values",r=function(){return this};a.exports=function(a,b,c,s,t,u,v){var w,x,y,z,A,B,C,D,E,F,G,H;if(j(c,b,s),w=function(a){if(!n&&a in A)return A[a];switch(a){case p:return function(){return new c(this,a)};case q:return function(){return new c(this,a)}}return function(){return new c(this,a)}},x=b+" Iterator",y=t==q,z=!1,A=a.prototype,B=A[m]||A[o]||t&&A[t],C=B||w(t),D=t?y?w("entries"):C:void 0,E="Array"==b?A.entries||B:B,E&&(H=l(E.call(new a)),H!==Object.prototype&&H.next&&(k(H,x,!0),d||h(H,m)||g(H,m,r))),y&&B&&B.name!==q&&(z=!0,C=function(){return B.call(this)}),d&&!v||!n&&!z&&A[m]||g(A,m,C),i[b]=C,i[x]=r,t)if(F={values:y?C:w(q),keys:u?C:w(p),entries:D},v)for(G in F)G in A||f(A,G,F[G]);else e(e.P+e.F*(n||z),b,F);return F}},function(a,b,c){"use strict";var d=c(46),e=c(18),f=c(28),g={};c(4)(g,c(1)("iterator"),function(){return this}),a.exports=function(a,b,c){a.prototype=d(g,{next:e(1,c)}),f(a,b+" Iterator")}},function(a,b,c){"use strict";var f,d=c(1)("iterator"),e=!1;try{f=[7][d](),f["return"]=function(){e=!0},Array.from(f,function(){throw 2})}catch(g){}a.exports=function(a,b){var c,f,g;if(!b&&!e)return!1;c=!1;try{f=[7],g=f[d](),g.next=function(){return{done:c=!0}},f[d]=function(){return g},a(f)}catch(h){}return c}},function(a,b,c){"use strict";var d=c(2),e=c(8),f=c(3),g=c(1)("species");a.exports=function(a){var b=d[a];f&&b&&!b[g]&&e.f(b,g,{configurable:!0,get:function(){return this}})}},function(a,b,c){"use strict";var d=c(13),e=c(20),f=c(6);a.exports=[].copyWithin||function(a,b){var c=d(this),g=f(c.length),h=e(a,g),i=e(b,g),j=arguments.length>2?arguments[2]:void 0,k=Math.min((void 0===j?g:e(j,g))-i,g-h),l=1;for(h>i&&i+k>h&&(l=-1,i+=k-1,h+=k-1);k-->0;)i in c?c[h]=c[i]:delete c[h],h+=l,i+=l;return c}},function(a,b,c){"use strict";var d=c(79),e=c(18),f=c(19),g=c(22),h=c(5),i=c(31),j=Object.getOwnPropertyDescriptor;b.f=c(3)?j:function(a,b){if(a=f(a),b=g(b,!0),i)try{return j(a,b)}catch(c){}return h(a,b)?e(!d.f.call(a,b),a[b]):void 0}},function(a,b){"use strict";b.f={}.propertyIsEnumerable},function(a,b,c){"use strict";var d=!1;if("undefined"!=typeof ReadableStream)try{new ReadableStream({start:function(a){a.close()}}),d=!0}catch(e){}b.ReadableStream=d?ReadableStream:c(81).ReadableStream},function(a,b){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(a,b){for(var c in b)a[c]=b[c]}(b,function(a){function c(d){if(b[d])return b[d].exports;var e=b[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,c),e.l=!0,e.exports}var b={};return c.m=a,c.c=b,c.i=function(a){return a},c.d=function(a,b,d){c.o(a,b)||Object.defineProperty(a,b,{configurable:!1,enumerable:!0,get:d})},c.n=function(a){var b=a&&a.__esModule?function(){return a["default"]}:function(){return a};return c.d(b,"a",b),b},c.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},c.p="",c(c.s=7)}([function(a,b,c){function h(a){return"string"==typeof a||"symbol"===("undefined"==typeof a?"undefined":e(a))}function i(a,b,c){if("function"!=typeof a)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(a,b,c)}var e="function"==typeof Symbol&&"symbol"===d(Symbol.iterator)?function(a){return"undefined"==typeof a?"undefined":d(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"==typeof a?"undefined":d(a)},f=c(1),g=f.assert;b.typeIsObject=function(a){return"object"===("undefined"==typeof a?"undefined":e(a))&&null!==a||"function"==typeof a},b.createDataProperty=function(a,c,d){g(b.typeIsObject(a)),Object.defineProperty(a,c,{value:d,writable:!0,enumerable:!0,configurable:!0})},b.createArrayFromList=function(a){return a.slice()},b.ArrayBufferCopy=function(a,b,c,d,e){new Uint8Array(a).set(new Uint8Array(c,d,e),b)},b.CreateIterResultObject=function(a,b){g("boolean"==typeof b);var c={};return Object.defineProperty(c,"value",{value:a,enumerable:!0,writable:!0,configurable:!0}),Object.defineProperty(c,"done",{value:b,enumerable:!0,writable:!0,configurable:!0}),c},b.IsFiniteNonNegativeNumber=function(a){return Number.isNaN(a)?!1:1/0===a?!1:0>a?!1:!0},b.InvokeOrNoop=function(a,b,c){g(void 0!==a),g(h(b)),g(Array.isArray(c));var d=a[b];return void 0===d?void 0:i(d,a,c)},b.PromiseInvokeOrNoop=function(a,c,d){g(void 0!==a),g(h(c)),g(Array.isArray(d));try{return Promise.resolve(b.InvokeOrNoop(a,c,d))}catch(e){return Promise.reject(e)}},b.PromiseInvokeOrPerformFallback=function(a,b,c,d,e){g(void 0!==a),g(h(b)),g(Array.isArray(c)),g(Array.isArray(e));var f=void 0;try{f=a[b]}catch(j){return Promise.reject(j)}if(void 0===f)return d.apply(null,e);try{return Promise.resolve(i(f,a,c))}catch(k){return Promise.reject(k)}},b.TransferArrayBuffer=function(a){return a.slice()},b.ValidateAndNormalizeHighWaterMark=function(a){if(a=Number(a),Number.isNaN(a)||0>a)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return a},b.ValidateAndNormalizeQueuingStrategy=function(a,c){if(void 0!==a&&"function"!=typeof a)throw new TypeError("size property of a queuing strategy must be a function");return c=b.ValidateAndNormalizeHighWaterMark(c),{size:a,highWaterMark:c}}},function(a){function d(a){a&&a.constructor===e&&setTimeout(function(){throw a},0)}function e(a){this.name="AssertionError",this.message=a||"",this.stack=(new Error).stack}function f(a,b){if(!a)throw new e(b)}e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,a.exports={rethrowAssertionErrorRejection:d,AssertionError:e,assert:f}},function(a,b,c){function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function t(a){return new L(a)}function u(a){return j(a)?Object.prototype.hasOwnProperty.call(a,"_writableStreamController")?!0:!1:!1}function v(a){return l(u(a)===!0,"IsWritableStreamLocked should only be used on known writable streams"),void 0===a._writer?!1:!0}function w(a,b){var d,e,f,c=a._state;return"closed"===c?Promise.resolve(void 0):"errored"===c?Promise.reject(a._storedError):(d=new TypeError("Requested to abort"),void 0!==a._pendingAbortRequest?Promise.reject(d):(l("writable"===c||"erroring"===c,"state must be writable or erroring"),e=!1,"erroring"===c&&(e=!0,b=void 0),f=new Promise(function(c,d){a._pendingAbortRequest={_resolve:c,_reject:d,_reason:b,_wasAlreadyErroring:e}}),e===!1&&z(a,d),f))}function x(a){l(v(a)===!0),l("writable"===a._state);var b=new Promise(function(b,c){var d={_resolve:b,_reject:c};a._writeRequests.push(d)});return b}function y(a,b){var c=a._state;return"writable"===c?(z(a,b),void 0):(l("erroring"===c),A(a),void 0)}function z(a,b){var c,d;l(void 0===a._storedError,"stream._storedError === undefined"),l("writable"===a._state,"state must be writable"),c=a._writableStreamController,l(void 0!==c,"controller must not be undefined"),a._state="erroring",a._storedError=b,d=a._writer,void 0!==d&&R(d,b),G(a)===!1&&c._started===!0&&A(a)}function A(a){var b,c,d,e,f;for(l("erroring"===a._state,"stream._state === erroring"),l(G(a)===!1,"WritableStreamHasOperationMarkedInFlight(stream) === false"),a._state="errored",a._writableStreamController.__errorSteps(),b=a._storedError,c=0;c<a._writeRequests.length;c++)d=a._writeRequests[c],d._reject(b);return a._writeRequests=[],void 0===a._pendingAbortRequest?(J(a),void 0):(e=a._pendingAbortRequest,a._pendingAbortRequest=void 0,e._wasAlreadyErroring===!0?(e._reject(b),J(a),void 0):(f=a._writableStreamController.__abortSteps(e._reason),f.then(function(){e._resolve(),J(a)},function(b){e._reject(b),J(a)}),void 0))}function B(a){l(void 0!==a._inFlightWriteRequest),a._inFlightWriteRequest._resolve(void 0),a._inFlightWriteRequest=void 0}function C(a,b){l(void 0!==a._inFlightWriteRequest),a._inFlightWriteRequest._reject(b),a._inFlightWriteRequest=void 0,l("writable"===a._state||"erroring"===a._state),y(a,b)}function D(a){var b,c;l(void 0!==a._inFlightCloseRequest),a._inFlightCloseRequest._resolve(void 0),a._inFlightCloseRequest=void 0,b=a._state,l("writable"===b||"erroring"===b),"erroring"===b&&(a._storedError=void 0,void 0!==a._pendingAbortRequest&&(a._pendingAbortRequest._resolve(),a._pendingAbortRequest=void 0)),a._state="closed",c=a._writer,void 0!==c&&nb(c),l(void 0===a._pendingAbortRequest,"stream._pendingAbortRequest === undefined"),l(void 0===a._storedError,"stream._storedError === undefined")}function E(a,b){l(void 0!==a._inFlightCloseRequest),a._inFlightCloseRequest._reject(b),a._inFlightCloseRequest=void 0,l("writable"===a._state||"erroring"===a._state),void 0!==a._pendingAbortRequest&&(a._pendingAbortRequest._reject(b),a._pendingAbortRequest=void 0),y(a,b)}function F(a){return void 0===a._closeRequest&&void 0===a._inFlightCloseRequest?!1:!0}function G(a){return void 0===a._inFlightWriteRequest&&void 0===a._inFlightCloseRequest?!1:!0}function H(a){l(void 0===a._inFlightCloseRequest),l(void 0!==a._closeRequest),a._inFlightCloseRequest=a._closeRequest,a._closeRequest=void 0}function I(a){l(void 0===a._inFlightWriteRequest,"there must be no pending write request"),l(0!==a._writeRequests.length,"writeRequests must not be empty"),a._inFlightWriteRequest=a._writeRequests.shift()}function J(a){l("errored"===a._state,'_stream_.[[state]] is `"errored"`'),void 0!==a._closeRequest&&(l(void 0===a._inFlightCloseRequest),a._closeRequest._reject(a._storedError),a._closeRequest=void 0);var b=a._writer;void 0!==b&&(lb(b,a._storedError),b._closedPromise.catch(function(){}))}function K(a,b){l("writable"===a._state),l(F(a)===!1);var c=a._writer;void 0!==c&&b!==a._backpressure&&(b===!0?sb(c):(l(b===!1),ub(c))),a._backpressure=b}function M(a){return j(a)?Object.prototype.hasOwnProperty.call(a,"_ownerWritableStream")?!0:!1:!1}function N(a,b){var c=a._ownerWritableStream;return l(void 0!==c),w(c,b)}function O(a){var c,d,b=a._ownerWritableStream;return l(void 0!==b),c=b._state,"closed"===c||"errored"===c?Promise.reject(new TypeError("The stream (in "+c+" state) is not in the writable state and cannot be closed")):(l("writable"===c||"erroring"===c),l(F(b)===!1),d=new Promise(function(a,c){var d={_resolve:a,_reject:c};b._closeRequest=d}),b._backpressure===!0&&"writable"===c&&ub(a),W(b._writableStreamController),d)}function P(a){var c,b=a._ownerWritableStream;return l(void 0!==b),c=b._state,F(b)===!0||"closed"===c?Promise.resolve():"errored"===c?Promise.reject(b._storedError):(l("writable"===c||"erroring"===c),O(a))}function Q(a,b){"pending"===a._closedPromiseState?lb(a,b):mb(a,b),a._closedPromise.catch(function(){})}function R(a,b){"pending"===a._readyPromiseState?rb(a,b):tb(a,b),a._readyPromise.catch(function(){})}function S(a){var b=a._ownerWritableStream,c=b._state;return"errored"===c||"erroring"===c?null:"closed"===c?0:Y(b._writableStreamController)}function T(a){var c,b=a._ownerWritableStream;l(void 0!==b),l(b._writer===a),c=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness"),R(a,c),Q(a,c),b._writer=void 0,a._ownerWritableStream=void 0}function U(a,b){var d,e,f,g,c=a._ownerWritableStream;return l(void 0!==c),d=c._writableStreamController,e=X(d,b),c!==a._ownerWritableStream?Promise.reject(hb("write to")):(f=c._state,"errored"===f?Promise.reject(c._storedError):F(c)===!0||"closed"===f?Promise.reject(new TypeError("The stream is closing or closed and cannot be written to")):"erroring"===f?Promise.reject(c._storedError):(l("writable"===f),g=x(c),Z(d,b,e),g))}function W(a){p(a,"close",0),_(a)}function X(a,b){var c=a._strategySize;if(void 0===c)return 1;try{return c(b)}catch(d){return ab(a,d),1}}function Y(a){return a._strategyHWM-a._queueTotalSize}function Z(a,b,c){var f,g,d={chunk:b};try{p(a,d,c)}catch(e){return ab(a,e),void 0}f=a._controlledWritableStream,F(f)===!1&&"writable"===f._state&&(g=db(a),K(f,g)),_(a)}function $(a){return j(a)?Object.prototype.hasOwnProperty.call(a,"_underlyingSink")?!0:!1:!1}function _(a){var c,d,b=a._controlledWritableStream;if(a._started!==!1&&void 0===b._inFlightWriteRequest&&(c=b._state,"closed"!==c&&"errored"!==c))return"erroring"===c?(A(b),void 0):(0!==a._queue.length&&(d=q(a),"close"===d?bb(a):cb(a,d.chunk)),void 0)}function ab(a,b){"writable"===a._controlledWritableStream._state&&eb(a,b)}function bb(a){var c,b=a._controlledWritableStream;H(b),o(a),l(0===a._queue.length,"queue must be empty once the final write record is dequeued"),c=h(a._underlyingSink,"close",[]),c.then(function(){D(b)},function(a){E(b,a)}).catch(m)}function cb(a,b){var d,c=a._controlledWritableStream;I(c),d=h(a._underlyingSink,"write",[b,a]),d.then(function(){var b,d;B(c),b=c._state,l("writable"===b||"erroring"===b),o(a),F(c)===!1&&"writable"===b&&(d=db(a),K(c,d)),_(a)},function(a){C(c,a)}).catch(m)}function db(a){var b=Y(a);return 0>=b}function eb(a,b){var c=a._controlledWritableStream;l("writable"===c._state),z(c,b)}function fb(a){return new TypeError("WritableStream.prototype."+a+" can only be used on a WritableStream")}function gb(a){return new TypeError("WritableStreamDefaultWriter.prototype."+a+" can only be used on a WritableStreamDefaultWriter")}function hb(a){return new TypeError("Cannot "+a+" a stream using a released writer")}function ib(a){a._closedPromise=new Promise(function(b,c){a._closedPromise_resolve=b,a._closedPromise_reject=c,a._closedPromiseState="pending"})}function jb(a,b){a._closedPromise=Promise.reject(b),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0,a._closedPromiseState="rejected"}function kb(a){a._closedPromise=Promise.resolve(void 0),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0,a._closedPromiseState="resolved"}function lb(a,b){l(void 0!==a._closedPromise_resolve,"writer._closedPromise_resolve !== undefined"),l(void 0!==a._closedPromise_reject,"writer._closedPromise_reject !== undefined"),l("pending"===a._closedPromiseState,"writer._closedPromiseState is pending"),a._closedPromise_reject(b),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0,a._closedPromiseState="rejected"}function mb(a,b){l(void 0===a._closedPromise_resolve,"writer._closedPromise_resolve === undefined"),l(void 0===a._closedPromise_reject,"writer._closedPromise_reject === undefined"),l("pending"!==a._closedPromiseState,"writer._closedPromiseState is not pending"),a._closedPromise=Promise.reject(b),a._closedPromiseState="rejected"}function nb(a){l(void 0!==a._closedPromise_resolve,"writer._closedPromise_resolve !== undefined"),l(void 0!==a._closedPromise_reject,"writer._closedPromise_reject !== undefined"),l("pending"===a._closedPromiseState,"writer._closedPromiseState is pending"),a._closedPromise_resolve(void 0),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0,a._closedPromiseState="resolved"}function ob(a){a._readyPromise=new Promise(function(b,c){a._readyPromise_resolve=b,a._readyPromise_reject=c}),a._readyPromiseState="pending"}function pb(a,b){a._readyPromise=Promise.reject(b),a._readyPromise_resolve=void 0,a._readyPromise_reject=void 0,a._readyPromiseState="rejected"}function qb(a){a._readyPromise=Promise.resolve(void 0),a._readyPromise_resolve=void 0,a._readyPromise_reject=void 0,a._readyPromiseState="fulfilled"}function rb(a,b){l(void 0!==a._readyPromise_resolve,"writer._readyPromise_resolve !== undefined"),l(void 0!==a._readyPromise_reject,"writer._readyPromise_reject !== undefined"),a._readyPromise_reject(b),a._readyPromise_resolve=void 0,a._readyPromise_reject=void 0,a._readyPromiseState="rejected"}function sb(a){l(void 0===a._readyPromise_resolve,"writer._readyPromise_resolve === undefined"),l(void 0===a._readyPromise_reject,"writer._readyPromise_reject === undefined"),a._readyPromise=new Promise(function(b,c){a._readyPromise_resolve=b,a._readyPromise_reject=c}),a._readyPromiseState="pending"}function tb(a,b){l(void 0===a._readyPromise_resolve,"writer._readyPromise_resolve === undefined"),l(void 0===a._readyPromise_reject,"writer._readyPromise_reject === undefined"),a._readyPromise=Promise.reject(b),a._readyPromiseState="rejected"}function ub(a){l(void 0!==a._readyPromise_resolve,"writer._readyPromise_resolve !== undefined"),l(void 0!==a._readyPromise_reject,"writer._readyPromise_reject !== undefined"),a._readyPromise_resolve(void 0),a._readyPromise_resolve=void 0,a._readyPromise_reject=void 0,a._readyPromiseState="fulfilled"}var L,V,d=function(){function a(a,b){var c,d;for(c=0;c<b.length;c++)d=b[c],d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(0),g=f.InvokeOrNoop,h=f.PromiseInvokeOrNoop,i=f.ValidateAndNormalizeQueuingStrategy,j=f.typeIsObject,k=c(1),l=k.assert,m=k.rethrowAssertionErrorRejection,n=c(3),o=n.DequeueValue,p=n.EnqueueValueWithSize,q=n.PeekQueueValue,r=n.ResetQueue,s=function(){function a(){var h,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=c.size,f=c.highWaterMark,g=void 0===f?1:f;if(e(this,a),this._state="writable",this._storedError=void 0,this._writer=void 0,this._writableStreamController=void 0,this._writeRequests=[],this._inFlightWriteRequest=void 0,this._closeRequest=void 0,this._inFlightCloseRequest=void 0,this._pendingAbortRequest=void 0,this._backpressure=!1,h=b.type,void 0!==h)throw new RangeError("Invalid type is specified");this._writableStreamController=new V(this,b,d,g),this._writableStreamController.__startSteps()}return d(a,[{key:"abort",value:function(a){return u(this)===!1?Promise.reject(fb("abort")):v(this)===!0?Promise.reject(new TypeError("Cannot abort a stream that already has a writer")):w(this,a)}},{key:"getWriter",value:function(){if(u(this)===!1)throw fb("getWriter");return t(this)}},{key:"locked",get:function(){if(u(this)===!1)throw fb("locked");return v(this)}}]),a}();a.exports={AcquireWritableStreamDefaultWriter:t,IsWritableStream:u,IsWritableStreamLocked:v,WritableStream:s,WritableStreamAbort:w,WritableStreamDefaultControllerError:eb,WritableStreamDefaultWriterCloseWithErrorPropagation:P,WritableStreamDefaultWriterRelease:T,WritableStreamDefaultWriterWrite:U,WritableStreamCloseQueuedOrInFlight:F},L=function(){function a(b){var c,d;if(e(this,a),u(b)===!1)throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(v(b)===!0)throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=b,b._writer=this,c=b._state,"writable"===c?(F(b)===!1&&b._backpressure===!0?ob(this):qb(this),ib(this)):"erroring"===c?(pb(this,b._storedError),this._readyPromise.catch(function(){}),ib(this)):"closed"===c?(qb(this),kb(this)):(l("errored"===c,"state must be errored"),d=b._storedError,pb(this,d),this._readyPromise.catch(function(){}),jb(this,d),this._closedPromise.catch(function(){}))}return d(a,[{key:"abort",value:function(a){return M(this)===!1?Promise.reject(gb("abort")):void 0===this._ownerWritableStream?Promise.reject(hb("abort")):N(this,a)}},{key:"close",value:function(){if(M(this)===!1)return Promise.reject(gb("close"));var a=this._ownerWritableStream;return void 0===a?Promise.reject(hb("close")):F(a)===!0?Promise.reject(new TypeError("cannot close an already-closing stream")):O(this)}},{key:"releaseLock",value:function(){if(M(this)===!1)throw gb("releaseLock");var a=this._ownerWritableStream;void 0!==a&&(l(void 0!==a._writer),T(this))}},{key:"write",value:function(a){return M(this)===!1?Promise.reject(gb("write")):void 0===this._ownerWritableStream?Promise.reject(hb("write to")):U(this,a)}},{key:"closed",get:function(){return M(this)===!1?Promise.reject(gb("closed")):this._closedPromise}},{key:"desiredSize",get:function(){if(M(this)===!1)throw gb("desiredSize");if(void 0===this._ownerWritableStream)throw hb("desiredSize");return S(this)}},{key:"ready",get:function(){return M(this)===!1?Promise.reject(gb("ready")):this._readyPromise}}]),a}(),V=function(){function a(b,c,d,f){var g,h;if(e(this,a),u(b)===!1)throw new TypeError("WritableStreamDefaultController can only be constructed with a WritableStream instance");if(void 0!==b._writableStreamController)throw new TypeError("WritableStreamDefaultController instances can only be created by the WritableStream constructor");this._controlledWritableStream=b,this._underlyingSink=c,this._queue=void 0,this._queueTotalSize=void 0,r(this),this._started=!1,g=i(d,f),this._strategySize=g.size,this._strategyHWM=g.highWaterMark,h=db(this),K(b,h)}return d(a,[{key:"error",value:function(a){if($(this)===!1)throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");var b=this._controlledWritableStream._state;"writable"===b&&eb(this,a)}},{key:"__abortSteps",value:function(a){return h(this._underlyingSink,"abort",[a])}},{key:"__errorSteps",value:function(){r(this)}},{key:"__startSteps",value:function(){var a=this,b=g(this._underlyingSink,"start",[this]),c=this._controlledWritableStream;Promise.resolve(b).then(function(){l("writable"===c._state||"erroring"===c._state),a._started=!0,_(a)},function(b){l("writable"===c._state||"erroring"===c._state),a._started=!0,y(c,b)}).catch(m)}}]),a}()},function(a,b,c){var d=c(0),e=d.IsFiniteNonNegativeNumber,f=c(1),g=f.assert;b.DequeueValue=function(a){g("_queue"in a&&"_queueTotalSize"in a,"Spec-level failure: DequeueValue should only be used on containers with [[queue]] and [[queueTotalSize]]."),g(a._queue.length>0,"Spec-level failure: should never dequeue from an empty queue.");var b=a._queue.shift();return a._queueTotalSize-=b.size,a._queueTotalSize<0&&(a._queueTotalSize=0),b.value},b.EnqueueValueWithSize=function(a,b,c){if(g("_queue"in a&&"_queueTotalSize"in a,"Spec-level failure: EnqueueValueWithSize should only be used on containers with [[queue]] and [[queueTotalSize]]."),c=Number(c),!e(c))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");a._queue.push({value:b,size:c}),a._queueTotalSize+=c},b.PeekQueueValue=function(a){g("_queue"in a&&"_queueTotalSize"in a,"Spec-level failure: PeekQueueValue should only be used on containers with [[queue]] and [[queueTotalSize]]."),g(a._queue.length>0,"Spec-level failure: should never peek at an empty queue.");var b=a._queue[0];return b.value},b.ResetQueue=function(a){g("_queue"in a&&"_queueTotalSize"in a,"Spec-level failure: ResetQueue should only be used on containers with [[queue]] and [[queueTotalSize]]."),a._queue=[],a._queueTotalSize=0}},function(a,b,c){function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function J(a){return new cb(a)}function K(a){return new bb(a)}function L(a){return r(a)?Object.prototype.hasOwnProperty.call(a,"_readableStreamController")?!0:!1:!1}function M(a){return t(L(a)===!0,"IsReadableStreamDisturbed should only be used on known readable streams"),a._disturbed}function N(a){return t(L(a)===!0,"IsReadableStreamLocked should only be used on known readable streams"),void 0===a._reader?!1:!0}function O(a,b){var c,d,e,f,g,h,i,j,k;return t(L(a)===!0),t("boolean"==typeof b),c=K(a),d={closedOrErrored:!1,canceled1:!1,canceled2:!1,reason1:void 0,reason2:void 0},d.promise=new Promise(function(a){d._resolve=a}),e=P(),e._reader=c,e._teeState=d,e._cloneForBranch2=b,f=Q(),f._stream=a,f._teeState=d,g=R(),g._stream=a,g._teeState=d,h=Object.create(Object.prototype),q(h,"pull",e),q(h,"cancel",f),i=new I(h),j=Object.create(Object.prototype),q(j,"pull",e),q(j,"cancel",g),k=new I(j),e._branch1=i._readableStreamController,e._branch2=k._readableStreamController,c._closedPromise.catch(function(a){d.closedOrErrored!==!0&&(qb(e._branch1,a),qb(e._branch2,a),d.closedOrErrored=!0)}),[i,k]}function P(){function a(){var b=a._reader,c=a._branch1,d=a._branch2,e=a._teeState;return jb(b).then(function(a){var b,f,g,h;t(r(a)),b=a.value,f=a.done,t("boolean"==typeof f),f===!0&&e.closedOrErrored===!1&&(e.canceled1===!1&&ob(c),e.canceled2===!1&&ob(d),e.closedOrErrored=!0),e.closedOrErrored!==!0&&(g=b,h=b,e.canceled1===!1&&pb(c,g),e.canceled2===!1&&pb(d,h))})}return a}function Q(){function a(b){var e,f,c=a._stream,d=a._teeState;return d.canceled1=!0,d.reason1=b,d.canceled2===!0&&(e=p([d.reason1,d.reason2]),f=U(c,e),d._resolve(f)),d.promise}return a}function R(){function a(b){var e,f,c=a._stream,d=a._teeState;return d.canceled2=!0,d.reason2=b,d.canceled1===!0&&(e=p([d.reason1,d.reason2]),f=U(c,e),d._resolve(f)),d.promise}return a}function S(a){t(db(a._reader)===!0),t("readable"===a._state||"closed"===a._state);var b=new Promise(function(b,c){var d={_resolve:b,_reject:c};a._reader._readIntoRequests.push(d)});return b}function T(a){t(eb(a._reader)===!0),t("readable"===a._state);var b=new Promise(function(b,c){var d={_resolve:b,_reject:c};a._reader._readRequests.push(d)});return b}function U(a,b){if(a._disturbed=!0,"closed"===a._state)return Promise.resolve(void 0);if("errored"===a._state)return Promise.reject(a._storedError);V(a);var c=a._readableStreamController.__cancelSteps(b);return c.then(function(){return void 0})}function V(a){var b,c,d;if(t("readable"===a._state),a._state="closed",b=a._reader,void 0===b)return void 0;if(eb(b)===!0){for(c=0;c<b._readRequests.length;c++)d=b._readRequests[c]._resolve,d(h(void 0,!0));b._readRequests=[]}return _b(b),void 0}function W(a,b){var c,d,e,f,g;if(t(L(a)===!0,"stream must be ReadableStream"),t("readable"===a._state,"state must be readable"),a._state="errored",a._storedError=b,c=a._reader,void 0===c)return void 0;if(eb(c)===!0){for(d=0;d<c._readRequests.length;d++)e=c._readRequests[d],e._reject(b);c._readRequests=[]}else{for(t(db(c),"reader must be ReadableStreamBYOBReader"),f=0;f<c._readIntoRequests.length;f++)g=c._readIntoRequests[f],g._reject(b);c._readIntoRequests=[]}Zb(c,b),c._closedPromise.catch(function(){})}function X(a,b,c){var e,d=a._reader;t(d._readIntoRequests.length>0),e=d._readIntoRequests.shift(),e._resolve(h(b,c))}function Y(a,b,c){var e,d=a._reader;t(d._readRequests.length>0),e=d._readRequests.shift(),e._resolve(h(b,c))}function Z(a){return a._reader._readIntoRequests.length}function $(a){return a._reader._readRequests.length}function _(a){var b=a._reader;return void 0===b?!1:db(b)===!1?!1:!0}function ab(a){var b=a._reader;return void 0===b?!1:eb(b)===!1?!1:!0}function db(a){return r(a)?Object.prototype.hasOwnProperty.call(a,"_readIntoRequests")?!0:!1:!1}function eb(a){return r(a)?Object.prototype.hasOwnProperty.call(a,"_readRequests")?!0:!1:!1}function fb(a,b){a._ownerReadableStream=b,b._reader=a,"readable"===b._state?Wb(a):"closed"===b._state?Yb(a):(t("errored"===b._state,"state must be errored"),Xb(a,b._storedError),a._closedPromise.catch(function(){}))}function gb(a,b){var c=a._ownerReadableStream;return t(void 0!==c),U(c,b)}function hb(a){t(void 0!==a._ownerReadableStream),t(a._ownerReadableStream._reader===a),"readable"===a._ownerReadableStream._state?Zb(a,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):$b(a,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),a._closedPromise.catch(function(){}),a._ownerReadableStream._reader=void 0,a._ownerReadableStream=void 0}function ib(a,b){var c=a._ownerReadableStream;return t(void 0!==c),c._disturbed=!0,"errored"===c._state?Promise.reject(c._storedError):Hb(c._readableStreamController,b)}function jb(a){var b=a._ownerReadableStream;return t(void 0!==b),b._disturbed=!0,"closed"===b._state?Promise.resolve(h(void 0,!0)):"errored"===b._state?Promise.reject(b._storedError):(t("readable"===b._state),b._readableStreamController.__pullSteps())}function lb(a){return r(a)?Object.prototype.hasOwnProperty.call(a,"_underlyingSource")?!0:!1:!1}function mb(a){var c,b=nb(a);return b===!1?void 0:a._pulling===!0?(a._pullAgain=!0,void 0):(t(a._pullAgain===!1),a._pulling=!0,c=k(a._underlyingSource,"pull",[a]),c.then(function(){return a._pulling=!1,a._pullAgain===!0?(a._pullAgain=!1,mb(a)):void 0},function(b){rb(a,b)}).catch(u),void 0)}function nb(a){var c,b=a._controlledReadableStream;return"closed"===b._state||"errored"===b._state?!1:a._closeRequested===!0?!1:a._started===!1?!1:N(b)===!0&&$(b)>0?!0:(c=sb(a),c>0?!0:!1)}function ob(a){var b=a._controlledReadableStream;t(a._closeRequested===!1),t("readable"===b._state),a._closeRequested=!0,0===a._queue.length&&V(b)}function pb(a,b){var d,e,c=a._controlledReadableStream;if(t(a._closeRequested===!1),t("readable"===c._state),N(c)===!0&&$(c)>0)Y(c,b,!1);else{if(d=1,void 0!==a._strategySize){e=a._strategySize;try{d=e(b)}catch(f){throw rb(a,f),f}}try{x(a,b,d)}catch(g){throw rb(a,g),g}}return mb(a),void 0}function qb(a,b){var c=a._controlledReadableStream;t("readable"===c._state),y(a),W(c,b)}function rb(a,b){"readable"===a._controlledReadableStream._state&&qb(a,b)}function sb(a){var b=a._controlledReadableStream,c=b._state;return"errored"===c?null:"closed"===c?0:a._strategyHWM-a._queueTotalSize}function vb(a){return r(a)?Object.prototype.hasOwnProperty.call(a,"_underlyingByteSource")?!0:!1:!1}function wb(a){return r(a)?Object.prototype.hasOwnProperty.call(a,"_associatedReadableByteStreamController")?!0:!1:!1}function xb(a){var c,b=Mb(a);return b===!1?void 0:a._pulling===!0?(a._pullAgain=!0,void 0):(t(a._pullAgain===!1),a._pulling=!0,c=k(a._underlyingByteSource,"pull",[a]),c.then(function(){a._pulling=!1,a._pullAgain===!0&&(a._pullAgain=!1,xb(a))},function(b){"readable"===a._controlledReadableStream._state&&Pb(a,b)}).catch(u),void 0)}function yb(a){Fb(a),a._pendingPullIntos=[]}function zb(a,b){var c,d;t("errored"!==a._state,"state must not be errored"),c=!1,"closed"===a._state&&(t(0===b.bytesFilled),c=!0),d=Ab(b),"default"===b.readerType?Y(a,d,c):(t("byob"===b.readerType),X(a,d,c))}function Ab(a){var b=a.bytesFilled,c=a.elementSize;return t(b<=a.byteLength),t(0===b%c),new a.ctor(a.buffer,a.byteOffset,b/c)}function Bb(a,b,c,d){a._queue.push({buffer:b,byteOffset:c,byteLength:d}),a._queueTotalSize+=d}function Cb(a,b){var k,l,m,n,c=b.elementSize,d=b.bytesFilled-b.bytesFilled%c,e=Math.min(a._queueTotalSize,b.byteLength-b.bytesFilled),f=b.bytesFilled+e,h=f-f%c,i=e,j=!1;for(h>d&&(i=h-b.bytesFilled,j=!0),k=a._queue;i>0;)l=k[0],m=Math.min(i,l.byteLength),n=b.byteOffset+b.bytesFilled,g(b.buffer,n,l.buffer,l.byteOffset,m),l.byteLength===m?k.shift():(l.byteOffset+=m,l.byteLength-=m),a._queueTotalSize-=m,Db(a,m,b),i-=m;return j===!1&&(t(0===a._queueTotalSize,"queue must be empty"),t(b.bytesFilled>0),t(b.bytesFilled<b.elementSize)),j}function Db(a,b,c){t(0===a._pendingPullIntos.length||a._pendingPullIntos[0]===c),Fb(a),c.bytesFilled+=b
}function Eb(a){t("readable"===a._controlledReadableStream._state),0===a._queueTotalSize&&a._closeRequested===!0?V(a._controlledReadableStream):xb(a)}function Fb(a){void 0!==a._byobRequest&&(a._byobRequest._associatedReadableByteStreamController=void 0,a._byobRequest._view=void 0,a._byobRequest=void 0)}function Gb(a){for(t(a._closeRequested===!1);a._pendingPullIntos.length>0;){if(0===a._queueTotalSize)return;var b=a._pendingPullIntos[0];Cb(a,b)===!0&&(Lb(a),zb(a._controlledReadableStream,b))}}function Hb(a,b){var e,f,g,i,j,k,c=a._controlledReadableStream,d=1;if(b.constructor!==DataView&&(d=b.constructor.BYTES_PER_ELEMENT),e=b.constructor,f={buffer:b.buffer,byteOffset:b.byteOffset,byteLength:b.byteLength,bytesFilled:0,elementSize:d,ctor:e,readerType:"byob"},a._pendingPullIntos.length>0)return f.buffer=l(f.buffer),a._pendingPullIntos.push(f),S(c);if("closed"===c._state)return g=new b.constructor(f.buffer,f.byteOffset,0),Promise.resolve(h(g,!0));if(a._queueTotalSize>0){if(Cb(a,f)===!0)return i=Ab(f),Eb(a),Promise.resolve(h(i,!1));if(a._closeRequested===!0)return j=new TypeError("Insufficient bytes to fill elements in the given buffer"),Pb(a,j),Promise.reject(j)}return f.buffer=l(f.buffer),a._pendingPullIntos.push(f),k=S(c),xb(a),k}function Ib(a,b){var c,d;if(b.buffer=l(b.buffer),t(0===b.bytesFilled,"bytesFilled must be 0"),c=a._controlledReadableStream,_(c)===!0)for(;Z(c)>0;)d=Lb(a),zb(c,d)}function Jb(a,b,c){var d,e,f;if(c.bytesFilled+b>c.byteLength)throw new RangeError("bytesWritten out of range");Db(a,b,c),c.bytesFilled<c.elementSize||(Lb(a),d=c.bytesFilled%c.elementSize,d>0&&(e=c.byteOffset+c.bytesFilled,f=c.buffer.slice(e-d,e),Bb(a,f,0,f.byteLength)),c.buffer=l(c.buffer),c.bytesFilled-=d,zb(a._controlledReadableStream,c),Gb(a))}function Kb(a,b){var c=a._pendingPullIntos[0],d=a._controlledReadableStream;if("closed"===d._state){if(0!==b)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");Ib(a,c)}else t("readable"===d._state),Jb(a,b,c)}function Lb(a){var b=a._pendingPullIntos.shift();return Fb(a),b}function Mb(a){var b=a._controlledReadableStream;return"readable"!==b._state?!1:a._closeRequested===!0?!1:a._started===!1?!1:ab(b)===!0&&$(b)>0?!0:_(b)===!0&&Z(b)>0?!0:Qb(a)>0?!0:!1}function Nb(a){var c,d,b=a._controlledReadableStream;if(t(a._closeRequested===!1),t("readable"===b._state),a._queueTotalSize>0)return a._closeRequested=!0,void 0;if(a._pendingPullIntos.length>0&&(c=a._pendingPullIntos[0],c.bytesFilled>0))throw d=new TypeError("Insufficient bytes to fill elements in the given buffer"),Pb(a,d),d;V(b)}function Ob(a,b){var d,e,f,g,h,c=a._controlledReadableStream;t(a._closeRequested===!1),t("readable"===c._state),d=b.buffer,e=b.byteOffset,f=b.byteLength,g=l(d),ab(c)===!0?0===$(c)?Bb(a,g,e,f):(t(0===a._queue.length),h=new Uint8Array(g,e,f),Y(c,h,!1)):_(c)===!0?(Bb(a,g,e,f),Gb(a)):(t(N(c)===!1,"stream must not be locked"),Bb(a,g,e,f))}function Pb(a,b){var c=a._controlledReadableStream;t("readable"===c._state),yb(a),y(a),W(c,b)}function Qb(a){var b=a._controlledReadableStream,c=b._state;return"errored"===c?null:"closed"===c?0:a._strategyHWM-a._queueTotalSize}function Rb(a,b){if(b=Number(b),i(b)===!1)throw new RangeError("bytesWritten must be a finite");t(a._pendingPullIntos.length>0),Kb(a,b)}function Sb(a,b){t(a._pendingPullIntos.length>0);var c=a._pendingPullIntos[0];if(c.byteOffset+c.bytesFilled!==b.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(c.byteLength!==b.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");c.buffer=b.buffer,Kb(a,b.byteLength)}function Tb(a){return new TypeError("ReadableStream.prototype."+a+" can only be used on a ReadableStream")}function Ub(a){return new TypeError("Cannot "+a+" a stream using a released reader")}function Vb(a){return new TypeError("ReadableStreamDefaultReader.prototype."+a+" can only be used on a ReadableStreamDefaultReader")}function Wb(a){a._closedPromise=new Promise(function(b,c){a._closedPromise_resolve=b,a._closedPromise_reject=c})}function Xb(a,b){a._closedPromise=Promise.reject(b),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0}function Yb(a){a._closedPromise=Promise.resolve(void 0),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0}function Zb(a,b){t(void 0!==a._closedPromise_resolve),t(void 0!==a._closedPromise_reject),a._closedPromise_reject(b),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0}function $b(a,b){t(void 0===a._closedPromise_resolve),t(void 0===a._closedPromise_reject),a._closedPromise=Promise.reject(b)}function _b(a){t(void 0!==a._closedPromise_resolve),t(void 0!==a._closedPromise_reject),a._closedPromise_resolve(void 0),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0}function ac(a){return new TypeError("ReadableStreamBYOBReader.prototype."+a+" can only be used on a ReadableStreamBYOBReader")}function bc(a){return new TypeError("ReadableStreamDefaultController.prototype."+a+" can only be used on a ReadableStreamDefaultController")}function cc(a){return new TypeError("ReadableStreamBYOBRequest.prototype."+a+" can only be used on a ReadableStreamBYOBRequest")}function dc(a){return new TypeError("ReadableByteStreamController.prototype."+a+" can only be used on a ReadableByteStreamController")}function ec(a){try{Promise.prototype.then.call(a,void 0,function(){})}catch(b){}}var bb,cb,kb,tb,ub,d=function(){function a(a,b){var c,d;for(c=0;c<b.length;c++)d=b[c],d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(0),g=f.ArrayBufferCopy,h=f.CreateIterResultObject,i=f.IsFiniteNonNegativeNumber,j=f.InvokeOrNoop,k=f.PromiseInvokeOrNoop,l=f.TransferArrayBuffer,m=f.ValidateAndNormalizeQueuingStrategy,n=f.ValidateAndNormalizeHighWaterMark,o=c(0),p=o.createArrayFromList,q=o.createDataProperty,r=o.typeIsObject,s=c(1),t=s.assert,u=s.rethrowAssertionErrorRejection,v=c(3),w=v.DequeueValue,x=v.EnqueueValueWithSize,y=v.ResetQueue,z=c(2),A=z.AcquireWritableStreamDefaultWriter,B=z.IsWritableStream,C=z.IsWritableStreamLocked,D=z.WritableStreamAbort,E=z.WritableStreamDefaultWriterCloseWithErrorPropagation,F=z.WritableStreamDefaultWriterRelease,G=z.WritableStreamDefaultWriterWrite,H=z.WritableStreamCloseQueuedOrInFlight,I=function(){function a(){var g,h,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=c.size,f=c.highWaterMark;if(e(this,a),this._state="readable",this._reader=void 0,this._storedError=void 0,this._disturbed=!1,this._readableStreamController=void 0,g=b.type,h=String(g),"bytes"===h)void 0===f&&(f=0),this._readableStreamController=new ub(this,b,f);else{if(void 0!==g)throw new RangeError("Invalid type is specified");void 0===f&&(f=1),this._readableStreamController=new kb(this,b,d,f)}}return d(a,[{key:"cancel",value:function(a){return L(this)===!1?Promise.reject(Tb("cancel")):N(this)===!0?Promise.reject(new TypeError("Cannot cancel a stream that already has a reader")):U(this,a)}},{key:"getReader",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=a.mode;if(L(this)===!1)throw Tb("getReader");if(void 0===b)return K(this);if(b=String(b),"byob"===b)return J(this);throw new RangeError("Invalid mode is specified")}},{key:"pipeThrough",value:function(a,b){var c=a.writable,d=a.readable,e=this.pipeTo(c,b);return ec(e),d}},{key:"pipeTo",value:function(a){var g,h,i,j,b=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=c.preventClose,e=c.preventAbort,f=c.preventCancel;return L(this)===!1?Promise.reject(Tb("pipeTo")):B(a)===!1?Promise.reject(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(d=Boolean(d),e=Boolean(e),f=Boolean(f),N(this)===!0?Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):C(a)===!0?Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):(g=K(this),h=A(a),i=!1,j=Promise.resolve(),new Promise(function(c,k){function l(){return j=Promise.resolve(),i===!0?Promise.resolve():h._readyPromise.then(function(){return jb(g).then(function(a){var b=a.value,c=a.done;c!==!0&&(j=G(h,b).catch(function(){}))})}).then(l)}function n(){var a=j;return j.then(function(){return a!==j?n():void 0})}function o(a,b,c){"errored"===a._state?c(a._storedError):b.catch(c).catch(u)}function p(a,b,c){"closed"===a._state?c():b.then(c).catch(u)}function q(b,c,d){function e(){b().then(function(){return s(c,d)},function(a){return s(!0,a)}).catch(u)}i!==!0&&(i=!0,"writable"===a._state&&H(a)===!1?n().then(e):e())}function r(b,c){i!==!0&&(i=!0,"writable"===a._state&&H(a)===!1?n().then(function(){return s(b,c)}).catch(u):s(b,c))}function s(a,b){F(h),hb(g),a?k(b):c(void 0)}if(o(b,g._closedPromise,function(b){e===!1?q(function(){return D(a,b)},!0,b):r(!0,b)}),o(a,h._closedPromise,function(a){f===!1?q(function(){return U(b,a)},!0,a):r(!0,a)}),p(b,g._closedPromise,function(){d===!1?q(function(){return E(h)}):r()}),H(a)===!0||"closed"===a._state){var m=new TypeError("the destination writable stream closed before all data could be piped to it");f===!1?q(function(){return U(b,m)},!0,m):r(!0,m)}l().catch(function(a){j=Promise.resolve(),u(a)})})))}},{key:"tee",value:function(){if(L(this)===!1)throw Tb("tee");var a=O(this,!1);return p(a)}},{key:"locked",get:function(){if(L(this)===!1)throw Tb("locked");return N(this)}}]),a}();a.exports={ReadableStream:I,IsReadableStreamDisturbed:M,ReadableStreamDefaultControllerClose:ob,ReadableStreamDefaultControllerEnqueue:pb,ReadableStreamDefaultControllerError:qb,ReadableStreamDefaultControllerGetDesiredSize:sb},bb=function(){function a(b){if(e(this,a),L(b)===!1)throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(N(b)===!0)throw new TypeError("This stream has already been locked for exclusive reading by another reader");fb(this,b),this._readRequests=[]}return d(a,[{key:"cancel",value:function(a){return eb(this)===!1?Promise.reject(Vb("cancel")):void 0===this._ownerReadableStream?Promise.reject(Ub("cancel")):gb(this,a)}},{key:"read",value:function(){return eb(this)===!1?Promise.reject(Vb("read")):void 0===this._ownerReadableStream?Promise.reject(Ub("read from")):jb(this)}},{key:"releaseLock",value:function(){if(eb(this)===!1)throw Vb("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");hb(this)}}},{key:"closed",get:function(){return eb(this)===!1?Promise.reject(Vb("closed")):this._closedPromise}}]),a}(),cb=function(){function a(b){if(e(this,a),!L(b))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(vb(b._readableStreamController)===!1)throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(N(b))throw new TypeError("This stream has already been locked for exclusive reading by another reader");fb(this,b),this._readIntoRequests=[]}return d(a,[{key:"cancel",value:function(a){return db(this)?void 0===this._ownerReadableStream?Promise.reject(Ub("cancel")):gb(this,a):Promise.reject(ac("cancel"))}},{key:"read",value:function(a){return db(this)?void 0===this._ownerReadableStream?Promise.reject(Ub("read from")):ArrayBuffer.isView(a)?0===a.byteLength?Promise.reject(new TypeError("view must have non-zero byteLength")):ib(this,a):Promise.reject(new TypeError("view must be an array buffer view")):Promise.reject(ac("read"))}},{key:"releaseLock",value:function(){if(!db(this))throw ac("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");hb(this)}}},{key:"closed",get:function(){return db(this)?this._closedPromise:Promise.reject(ac("closed"))}}]),a}(),kb=function(){function a(b,c,d,f){var g,h,i;if(e(this,a),L(b)===!1)throw new TypeError("ReadableStreamDefaultController can only be constructed with a ReadableStream instance");if(void 0!==b._readableStreamController)throw new TypeError("ReadableStreamDefaultController instances can only be created by the ReadableStream constructor");this._controlledReadableStream=b,this._underlyingSource=c,this._queue=void 0,this._queueTotalSize=void 0,y(this),this._started=!1,this._closeRequested=!1,this._pullAgain=!1,this._pulling=!1,g=m(d,f),this._strategySize=g.size,this._strategyHWM=g.highWaterMark,h=this,i=j(c,"start",[this]),Promise.resolve(i).then(function(){h._started=!0,t(h._pulling===!1),t(h._pullAgain===!1),mb(h)},function(a){rb(h,a)}).catch(u)}return d(a,[{key:"close",value:function(){if(lb(this)===!1)throw bc("close");if(this._closeRequested===!0)throw new TypeError("The stream has already been closed; do not close it again!");var a=this._controlledReadableStream._state;if("readable"!==a)throw new TypeError("The stream (in "+a+" state) is not in the readable state and cannot be closed");ob(this)}},{key:"enqueue",value:function(a){if(lb(this)===!1)throw bc("enqueue");if(this._closeRequested===!0)throw new TypeError("stream is closed or draining");var b=this._controlledReadableStream._state;if("readable"!==b)throw new TypeError("The stream (in "+b+" state) is not in the readable state and cannot be enqueued to");return pb(this,a)}},{key:"error",value:function(a){if(lb(this)===!1)throw bc("error");var b=this._controlledReadableStream;if("readable"!==b._state)throw new TypeError("The stream is "+b._state+" and so cannot be errored");qb(this,a)}},{key:"__cancelSteps",value:function(a){return y(this),k(this._underlyingSource,"cancel",[a])}},{key:"__pullSteps",value:function(){var b,c,a=this._controlledReadableStream;return this._queue.length>0?(b=w(this),this._closeRequested===!0&&0===this._queue.length?V(a):mb(this),Promise.resolve(h(b,!1))):(c=T(a),mb(this),c)}},{key:"desiredSize",get:function(){if(lb(this)===!1)throw bc("desiredSize");return sb(this)}}]),a}(),tb=function(){function a(b,c){e(this,a),this._associatedReadableByteStreamController=b,this._view=c}return d(a,[{key:"respond",value:function(a){if(wb(this)===!1)throw cc("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");Rb(this._associatedReadableByteStreamController,a)}},{key:"respondWithNewView",value:function(a){if(wb(this)===!1)throw cc("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(a))throw new TypeError("You can only respond with array buffer views");Sb(this._associatedReadableByteStreamController,a)}},{key:"view",get:function(){return this._view}}]),a}(),ub=function(){function a(b,c,d){var f,g,h;if(e(this,a),L(b)===!1)throw new TypeError("ReadableByteStreamController can only be constructed with a ReadableStream instance given a byte source");if(void 0!==b._readableStreamController)throw new TypeError("ReadableByteStreamController instances can only be created by the ReadableStream constructor given a byte source");if(this._controlledReadableStream=b,this._underlyingByteSource=c,this._pullAgain=!1,this._pulling=!1,yb(this),this._queue=this._queueTotalSize=void 0,y(this),this._closeRequested=!1,this._started=!1,this._strategyHWM=n(d),f=c.autoAllocateChunkSize,void 0!==f&&(Number.isInteger(f)===!1||0>=f))throw new RangeError("autoAllocateChunkSize must be a positive integer");this._autoAllocateChunkSize=f,this._pendingPullIntos=[],g=this,h=j(c,"start",[this]),Promise.resolve(h).then(function(){g._started=!0,t(g._pulling===!1),t(g._pullAgain===!1),xb(g)},function(a){"readable"===b._state&&Pb(g,a)}).catch(u)}return d(a,[{key:"close",value:function(){if(vb(this)===!1)throw dc("close");if(this._closeRequested===!0)throw new TypeError("The stream has already been closed; do not close it again!");var a=this._controlledReadableStream._state;if("readable"!==a)throw new TypeError("The stream (in "+a+" state) is not in the readable state and cannot be closed");Nb(this)}},{key:"enqueue",value:function(a){if(vb(this)===!1)throw dc("enqueue");if(this._closeRequested===!0)throw new TypeError("stream is closed or draining");var b=this._controlledReadableStream._state;if("readable"!==b)throw new TypeError("The stream (in "+b+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(a))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");Ob(this,a)}},{key:"error",value:function(a){if(vb(this)===!1)throw dc("error");var b=this._controlledReadableStream;if("readable"!==b._state)throw new TypeError("The stream is "+b._state+" and so cannot be errored");Pb(this,a)}},{key:"__cancelSteps",value:function(a){if(this._pendingPullIntos.length>0){var b=this._pendingPullIntos[0];b.bytesFilled=0}return y(this),k(this._underlyingByteSource,"cancel",[a])}},{key:"__pullSteps",value:function(){var b,c,e,f,i,j,a=this._controlledReadableStream;if(t(ab(a)===!0),this._queueTotalSize>0){t(0===$(a)),b=this._queue.shift(),this._queueTotalSize-=b.byteLength,Eb(this),c=void 0;try{c=new Uint8Array(b.buffer,b.byteOffset,b.byteLength)}catch(d){return Promise.reject(d)}return Promise.resolve(h(c,!1))}if(e=this._autoAllocateChunkSize,void 0!==e){f=void 0;try{f=new ArrayBuffer(e)}catch(g){return Promise.reject(g)}i={buffer:f,byteOffset:0,byteLength:e,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"},this._pendingPullIntos.push(i)}return j=T(a),xb(this),j}},{key:"byobRequest",get:function(){var a,b;if(vb(this)===!1)throw dc("byobRequest");return void 0===this._byobRequest&&this._pendingPullIntos.length>0&&(a=this._pendingPullIntos[0],b=new Uint8Array(a.buffer,a.byteOffset+a.bytesFilled,a.byteLength-a.bytesFilled),this._byobRequest=new tb(this,b)),this._byobRequest}},{key:"desiredSize",get:function(){if(vb(this)===!1)throw dc("desiredSize");return Qb(this)}}]),a}()},function(a,b,c){var d=c(6),e=c(4),f=c(2);b.TransformStream=d.TransformStream,b.ReadableStream=e.ReadableStream,b.IsReadableStreamDisturbed=e.IsReadableStreamDisturbed,b.ReadableStreamDefaultControllerClose=e.ReadableStreamDefaultControllerClose,b.ReadableStreamDefaultControllerEnqueue=e.ReadableStreamDefaultControllerEnqueue,b.ReadableStreamDefaultControllerError=e.ReadableStreamDefaultControllerError,b.ReadableStreamDefaultControllerGetDesiredSize=e.ReadableStreamDefaultControllerGetDesiredSize,b.AcquireWritableStreamDefaultWriter=f.AcquireWritableStreamDefaultWriter,b.IsWritableStream=f.IsWritableStream,b.IsWritableStreamLocked=f.IsWritableStreamLocked,b.WritableStream=f.WritableStream,b.WritableStreamAbort=f.WritableStreamAbort,b.WritableStreamDefaultControllerError=f.WritableStreamDefaultControllerError,b.WritableStreamDefaultWriterCloseWithErrorPropagation=f.WritableStreamDefaultWriterCloseWithErrorPropagation,b.WritableStreamDefaultWriterRelease=f.WritableStreamDefaultWriterRelease,b.WritableStreamDefaultWriterWrite=f.WritableStreamDefaultWriterWrite},function(a,b,c){function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function v(a){if(a._errored===!0)throw new TypeError("TransformStream is already errored");if(a._readableClosed===!0)throw new TypeError("Readable side is already closed");y(a)}function w(a,b){var c,e,f;if(a._errored===!0)throw new TypeError("TransformStream is already errored");if(a._readableClosed===!0)throw new TypeError("Readable side is already closed");c=a._readableController;try{p(c,b)}catch(d){throw a._readableClosed=!0,z(a,d),a._storedError}e=r(c),f=0>=e,f===!0&&a._backpressure===!1&&C(a,!0)}function x(a,b){if(a._errored===!0)throw new TypeError("TransformStream is already errored");A(a,b)}function y(a){g(a._errored===!1),g(a._readableClosed===!1);try{o(a._readableController)}catch(b){g(!1)}a._readableClosed=!0}function z(a,b){a._errored===!1&&A(a,b)}function A(a,b){g(a._errored===!1),a._errored=!0,a._storedError=b,a._writableDone===!1&&u(a._writableController,b),a._readableClosed===!1&&q(a._readableController,b)}function B(a){return g(void 0!==a._backpressureChangePromise,"_backpressureChangePromise should have been initialized"),a._backpressure===!1?Promise.resolve():(g(a._backpressure===!0,"_backpressure should have been initialized"),a._backpressureChangePromise)}function C(a,b){g(a._backpressure!==b,"TransformStreamSetBackpressure() should be called only when backpressure is changed"),void 0!==a._backpressureChangePromise&&a._backpressureChangePromise_resolve(b),a._backpressureChangePromise=new Promise(function(b){a._backpressureChangePromise_resolve=b}),a._backpressureChangePromise.then(function(a){g(a!==b,"_backpressureChangePromise should be fulfilled only when backpressure is changed")}),a._backpressure=b}function D(a,b){var c=b._controlledTransformStream;return w(c,a),Promise.resolve()}function E(a,b){var c,d,e;return g(a._errored===!1),g(a._transforming===!1),g(a._backpressure===!1),a._transforming=!0,c=a._transformer,d=a._transformStreamController,e=j(c,"transform",[b,d],D,[b,d]),e.then(function(){return a._transforming=!1,B(a)},function(b){return z(a,b),Promise.reject(b)})}function F(a){return l(a)?Object.prototype.hasOwnProperty.call(a,"_controlledTransformStream")?!0:!1:!1}function G(a){return l(a)?Object.prototype.hasOwnProperty.call(a,"_transformStreamController")?!0:!1:!1}function L(a){return new TypeError("TransformStreamDefaultController.prototype."+a+" can only be used on a TransformStreamDefaultController")}function M(a){return new TypeError("TransformStream.prototype."+a+" can only be used on a TransformStream")}var d=function(){function a(a,b){var c,d;for(c=0;c<b.length;c++)d=b[c],d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(1),g=f.assert,h=c(0),i=h.InvokeOrNoop,j=h.PromiseInvokeOrPerformFallback,k=h.PromiseInvokeOrNoop,l=h.typeIsObject,m=c(4),n=m.ReadableStream,o=m.ReadableStreamDefaultControllerClose,p=m.ReadableStreamDefaultControllerEnqueue,q=m.ReadableStreamDefaultControllerError,r=m.ReadableStreamDefaultControllerGetDesiredSize,s=c(2),t=s.WritableStream,u=s.WritableStreamDefaultControllerError,H=function(){function a(b,c){e(this,a),this._transformStream=b,this._startPromise=c}return d(a,[{key:"start",value:function(a){var b=this._transformStream;return b._writableController=a,this._startPromise.then(function(){return B(b)})}},{key:"write",value:function(a){var b=this._transformStream;return E(b,a)}},{key:"abort",value:function(){var a=this._transformStream;a._writableDone=!0,A(a,new TypeError("Writable side aborted"))}},{key:"close",value:function(){var b,a=this._transformStream;return g(a._transforming===!1),a._writableDone=!0,b=k(a._transformer,"flush",[a._transformStreamController]),b.then(function(){return a._errored===!0?Promise.reject(a._storedError):(a._readableClosed===!1&&y(a),Promise.resolve())}).catch(function(b){return z(a,b),Promise.reject(a._storedError)})}}]),a}(),I=function(){function a(b,c){e(this,a),this._transformStream=b,this._startPromise=c}return d(a,[{key:"start",value:function(a){var b=this._transformStream;return b._readableController=a,this._startPromise.then(function(){return g(void 0!==b._backpressureChangePromise,"_backpressureChangePromise should have been initialized"),b._backpressure===!0?Promise.resolve():(g(b._backpressure===!1,"_backpressure should have been initialized"),b._backpressureChangePromise)})}},{key:"pull",value:function(){var a=this._transformStream;return g(a._backpressure===!0,"pull() should be never called while _backpressure is false"),g(void 0!==a._backpressureChangePromise,"_backpressureChangePromise should have been initialized"),C(a,!1),a._backpressureChangePromise}},{key:"cancel",value:function(){var a=this._transformStream;a._readableClosed=!0,A(a,new TypeError("Readable side canceled"))}}]),a}(),J=function(){function a(b){if(e(this,a),G(b)===!1)throw new TypeError("TransformStreamDefaultController can only be constructed with a TransformStream instance");if(void 0!==b._transformStreamController)throw new TypeError("TransformStreamDefaultController instances can only be created by the TransformStream constructor");this._controlledTransformStream=b}return d(a,[{key:"enqueue",value:function(a){if(F(this)===!1)throw L("enqueue");w(this._controlledTransformStream,a)}},{key:"close",value:function(){if(F(this)===!1)throw L("close");v(this._controlledTransformStream)}},{key:"error",value:function(a){if(F(this)===!1)throw L("error");x(this._controlledTransformStream,a)}},{key:"desiredSize",get:function(){var a,b;if(F(this)===!1)throw L("desiredSize");return a=this._controlledTransformStream,b=a._readableController,r(b)}}]),a}(),K=function(){function a(){var c,d,f,h,j,k,l,m,o,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(this,a),this._transformer=b,c=b.readableStrategy,d=b.writableStrategy,this._transforming=!1,this._errored=!1,this._storedError=void 0,this._writableController=void 0,this._readableController=void 0,this._transformStreamController=void 0,this._writableDone=!1,this._readableClosed=!1,this._backpressure=void 0,this._backpressureChangePromise=void 0,this._backpressureChangePromise_resolve=void 0,this._transformStreamController=new J(this),f=void 0,h=new Promise(function(a){f=a}),j=new I(this,h),this._readable=new n(j,c),k=new H(this,h),this._writable=new t(k,d),g(void 0!==this._writableController),g(void 0!==this._readableController),l=r(this._readableController),C(this,0>=l),m=this,o=i(b,"start",[m._transformStreamController]),f(o),h.catch(function(a){m._errored===!1&&(m._errored=!0,m._storedError=a)})}return d(a,[{key:"readable",get:function(){if(G(this)===!1)throw M("readable");return this._readable}},{key:"writable",get:function(){if(G(this)===!1)throw M("writable");return this._writable}}]),a}();a.exports={TransformStream:K}},function(a,b,c){a.exports=c(5)}]))},function(a,b,c){"use strict";function m(a){return a&&a.__esModule?a:{"default":a}}var d,e,f,g,h,i,j,k,l,n,o,p;Object.defineProperty(b,"__esModule",{value:!0}),b.PDFJS=b.isWorker=b.globalScope=void 0,d=c(48),e=c(7),f=c(0),g=c(51),h=c(9),i=m(h),j=c(50),k=c(52),l=c(53),n="undefined"==typeof window,i.default.PDFJS||(i.default.PDFJS={}),o=i.default.PDFJS,o.version="1.9.564",o.build="d0d70461",o.pdfBug=!1,void 0!==o.verbosity&&f.setVerbosityLevel(o.verbosity),delete o.verbosity,Object.defineProperty(o,"verbosity",{get:function(){return f.getVerbosityLevel()},set:function(a){f.setVerbosityLevel(a)},enumerable:!0,configurable:!0}),o.VERBOSITY_LEVELS=f.VERBOSITY_LEVELS,o.OPS=f.OPS,o.UNSUPPORTED_FEATURES=f.UNSUPPORTED_FEATURES,o.isValidUrl=e.isValidUrl,o.shadow=f.shadow,o.createBlob=f.createBlob,o.createObjectURL=function(a,b){return f.createObjectURL(a,b,o.disableCreateObjectURL)},Object.defineProperty(o,"isLittleEndian",{configurable:!0,get:function(){return f.shadow(o,"isLittleEndian",f.isLittleEndian())}}),o.removeNullCharacters=f.removeNullCharacters,o.PasswordResponses=f.PasswordResponses,o.PasswordException=f.PasswordException,o.UnknownErrorException=f.UnknownErrorException,o.InvalidPDFException=f.InvalidPDFException,o.MissingPDFException=f.MissingPDFException,o.UnexpectedResponseException=f.UnexpectedResponseException,o.Util=f.Util,o.PageViewport=f.PageViewport,o.createPromiseCapability=f.createPromiseCapability,o.maxImageSize=void 0===o.maxImageSize?-1:o.maxImageSize,o.cMapUrl=void 0===o.cMapUrl?null:o.cMapUrl,o.cMapPacked=void 0===o.cMapPacked?!1:o.cMapPacked,o.disableFontFace=void 0===o.disableFontFace?!1:o.disableFontFace,o.imageResourcesPath=void 0===o.imageResourcesPath?"":o.imageResourcesPath,o.disableWorker=void 0===o.disableWorker?!1:o.disableWorker,o.workerSrc=void 0===o.workerSrc?null:o.workerSrc,o.workerPort=void 0===o.workerPort?null:o.workerPort,o.disableRange=void 0===o.disableRange?!1:o.disableRange,o.disableStream=void 0===o.disableStream?!1:o.disableStream,o.disableAutoFetch=void 0===o.disableAutoFetch?!1:o.disableAutoFetch,o.pdfBug=void 0===o.pdfBug?!1:o.pdfBug,o.postMessageTransfers=void 0===o.postMessageTransfers?!0:o.postMessageTransfers,o.disableCreateObjectURL=void 0===o.disableCreateObjectURL?!1:o.disableCreateObjectURL,o.disableWebGL=void 0===o.disableWebGL?!0:o.disableWebGL,o.externalLinkTarget=void 0===o.externalLinkTarget?e.LinkTarget.NONE:o.externalLinkTarget,o.externalLinkRel=void 0===o.externalLinkRel?e.DEFAULT_LINK_REL:o.externalLinkRel,o.isEvalSupported=void 0===o.isEvalSupported?!0:o.isEvalSupported,o.pdfjsNext=void 0===o.pdfjsNext?!1:o.pdfjsNext,p=o.openExternalLinksInNewWindow,delete o.openExternalLinksInNewWindow,Object.defineProperty(o,"openExternalLinksInNewWindow",{get:function(){return o.externalLinkTarget===e.LinkTarget.BLANK},set:function(a){return a&&f.deprecated('PDFJS.openExternalLinksInNewWindow, please use "PDFJS.externalLinkTarget = PDFJS.LinkTarget.BLANK" instead.'),o.externalLinkTarget!==e.LinkTarget.NONE?(f.warn("PDFJS.externalLinkTarget is already initialized"),void 0):(o.externalLinkTarget=a?e.LinkTarget.BLANK:e.LinkTarget.NONE,void 0)},enumerable:!0,configurable:!0}),p&&(o.openExternalLinksInNewWindow=p),o.getDocument=d.getDocument,o.LoopbackPort=d.LoopbackPort,o.PDFDataRangeTransport=d.PDFDataRangeTransport,o.PDFWorker=d.PDFWorker,o.hasCanvasTypedArrays=!0,o.CustomStyle=e.CustomStyle,o.LinkTarget=e.LinkTarget,o.addLinkAttributes=e.addLinkAttributes,o.getFilenameFromUrl=e.getFilenameFromUrl,o.isExternalLinkTargetSet=e.isExternalLinkTargetSet,o.AnnotationLayer=g.AnnotationLayer,o.renderTextLayer=k.renderTextLayer,o.Metadata=j.Metadata,o.SVGGraphics=l.SVGGraphics,o.UnsupportedManager=d._UnsupportedManager,b.globalScope=i.default,b.isWorker=n,b.PDFJS=o},function(a,b,c){"use strict";function e(a){this.docId=a,this.styleElement=null,this.nativeFontFaces=[],this.loadTestFontId=0,this.loadingContext={requests:[],nextRequestId:0}}var d,f,g,h,i;Object.defineProperty(b,"__esModule",{value:!0}),b.FontLoader=b.FontFaceObject=void 0,d=c(0),e.prototype={insertRule:function(a){var c,b=this.styleElement;b||(b=this.styleElement=document.createElement("style"),b.id="PDFJS_FONT_STYLE_TAG_"+this.docId,document.documentElement.getElementsByTagName("head")[0].appendChild(b)),c=b.sheet,c.insertRule(a,c.cssRules.length)},clear:function(){this.styleElement&&(this.styleElement.remove(),this.styleElement=null),this.nativeFontFaces.forEach(function(a){document.fonts.delete(a)}),this.nativeFontFaces.length=0}},f=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")
},Object.defineProperty(e.prototype,"loadTestFont",{get:function(){return d.shadow(this,"loadTestFont",f())},configurable:!0}),e.prototype.addNativeFontFace=function(a){this.nativeFontFaces.push(a),document.fonts.add(a)},e.prototype.bind=function(a,b){var j,k,l,m,n,o,c=[],f=[],g=[],h=function(a){return a.loaded.catch(function(b){d.warn('Failed to load font "'+a.family+'": '+b)})},i=e.isFontLoadingAPISupported&&!e.isSyncFontLoadingSupported;for(j=0,k=a.length;k>j;j++)l=a[j],l.attached||l.loading===!1||(l.attached=!0,i?(m=l.createNativeFontFace(),m&&(this.addNativeFontFace(m),g.push(h(m)))):(n=l.createFontFaceRule(),n&&(this.insertRule(n),c.push(n),f.push(l))));o=this.queueLoadingCallback(b),i?Promise.all(g).then(function(){o.complete()}):c.length>0&&!e.isSyncFontLoadingSupported?this.prepareFontLoadEvent(c,f,o):o.complete()},e.prototype.queueLoadingCallback=function(a){function b(){for(d.assert(!f.end,"completeRequest() cannot be called twice"),f.end=Date.now();c.requests.length>0&&c.requests[0].end;){var a=c.requests.shift();setTimeout(a.callback,0)}}var c=this.loadingContext,e="pdfjs-font-loading-"+c.nextRequestId++,f={id:e,complete:b,callback:a,started:Date.now()};return c.requests.push(f),f},e.prototype.prepareFontLoadEvent=function(a,b,c){function e(a,b){return a.charCodeAt(b)<<24|a.charCodeAt(b+1)<<16|a.charCodeAt(b+2)<<8|255&a.charCodeAt(b+3)}function f(a,b,c,d){var e=a.substr(0,b),f=a.substr(b+c);return e+d+f}function l(a,b){if(k++,k>30)return d.warn("Load test font never loaded."),b(),void 0;j.font="30px "+a,j.fillText(".",0,20);var c=j.getImageData(0,0,1,1);return c.data[3]>0?(b(),void 0):(setTimeout(l.bind(null,a,b)),void 0)}var g,h,j,k,m,n,o,p,q,r,s,t,u,v,w,i=document.createElement("canvas");for(i.width=1,i.height=1,j=i.getContext("2d"),k=0,m="lt"+Date.now()+this.loadTestFontId++,n=this.loadTestFont,o=976,n=f(n,o,m.length,m),p=16,q=1482184792,r=e(n,p),g=0,h=m.length-3;h>g;g+=4)r=0|r-q+e(m,g);for(g<m.length&&(r=0|r-q+e(m+"XXX",g)),n=f(n,p,4,d.string32(r)),s="url(data:font/opentype;base64,"+btoa(n)+");",t='@font-face { font-family:"'+m+'";src:'+s+"}",this.insertRule(t),u=[],g=0,h=b.length;h>g;g++)u.push(b[g].loadedName);for(u.push(m),v=document.createElement("div"),v.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;"),g=0,h=u.length;h>g;++g)w=document.createElement("span"),w.textContent="Hi",w.style.fontFamily=u[g],v.appendChild(w);document.body.appendChild(v),l(m,function(){document.body.removeChild(v),c.complete()})},e.isFontLoadingAPISupported="undefined"!=typeof document&&!!document.fonts,g=function(){var a,b;return"undefined"==typeof navigator?!0:(a=!1,b=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent),b&&b[1]>=14&&(a=!0),a)},Object.defineProperty(e,"isSyncFontLoadingSupported",{get:function(){return d.shadow(e,"isSyncFontLoadingSupported",g())},enumerable:!0,configurable:!0}),h={get value(){return d.shadow(this,"value",d.isEvalSupported())}},i=function(){function a(a,b){this.compiledGlyphs=Object.create(null);for(var c in a)this[c]=a[c];this.options=b}return a.prototype={createNativeFontFace:function(){if(!this.data)return null;if(this.options.disableFontFace)return this.disableFontFace=!0,null;var a=new FontFace(this.loadedName,this.data,{});return this.options.fontRegistry&&this.options.fontRegistry.registerFont(this),a},createFontFaceRule:function(){var a,b,c,e;return this.data?this.options.disableFontFace?(this.disableFontFace=!0,null):(a=d.bytesToString(new Uint8Array(this.data)),b=this.loadedName,c="url(data:"+this.mimetype+";base64,"+btoa(a)+");",e='@font-face { font-family:"'+b+'";src:'+c+"}",this.options.fontRegistry&&this.options.fontRegistry.registerFont(this,c),e):null},getPathGenerator:function(a,b){var c,d,e,f,g,i;if(!(b in this.compiledGlyphs))if(c=a.get(this.loadedName+"_path_"+b),this.options.isEvalSupported&&h.value){for(i="",e=0,f=c.length;f>e;e++)d=c[e],g=void 0!==d.args?d.args.join(","):"",i+="c."+d.cmd+"("+g+");\n";this.compiledGlyphs[b]=new Function("c","size",i)}else this.compiledGlyphs[b]=function(a,b){for(e=0,f=c.length;f>e;e++)d=c[e],"scale"===d.cmd&&(d.args=[b,-b]),a[d.cmd].apply(a,d.args)};return this.compiledGlyphs[b]}},a}(),b.FontFaceObject=i,b.FontLoader=e},function(a,b,c){"use strict";function o(a){a.mozCurrentTransform||(a._originalSave=a.save,a._originalRestore=a.restore,a._originalRotate=a.rotate,a._originalScale=a.scale,a._originalTranslate=a.translate,a._originalTransform=a.transform,a._originalSetTransform=a.setTransform,a._transformMatrix=a._transformMatrix||[1,0,0,1,0,0],a._transformStack=[],Object.defineProperty(a,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(a,"mozCurrentTransformInverse",{get:function(){var a=this._transformMatrix,b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=b*e-c*d,i=c*d-b*e;return[e/h,c/i,d/i,b/h,(e*f-d*g)/i,(c*f-b*g)/h]}}),a.save=function(){var a=this._transformMatrix;this._transformStack.push(a),this._transformMatrix=a.slice(0,6),this._originalSave()},a.restore=function(){var a=this._transformStack.pop();a&&(this._transformMatrix=a,this._originalRestore())},a.translate=function(a,b){var c=this._transformMatrix;c[4]=c[0]*a+c[2]*b+c[4],c[5]=c[1]*a+c[3]*b+c[5],this._originalTranslate(a,b)},a.scale=function(a,b){var c=this._transformMatrix;c[0]=c[0]*a,c[1]=c[1]*a,c[2]=c[2]*b,c[3]=c[3]*b,this._originalScale(a,b)},a.transform=function(b,c,d,e,f,g){var h=this._transformMatrix;this._transformMatrix=[h[0]*b+h[2]*c,h[1]*b+h[3]*c,h[0]*d+h[2]*e,h[1]*d+h[3]*e,h[0]*f+h[2]*g+h[4],h[1]*f+h[3]*g+h[5]],a._originalTransform(b,c,d,e,f,g)},a.setTransform=function(b,c,d,e,f,g){this._transformMatrix=[b,c,d,e,f,g],a._originalSetTransform(b,c,d,e,f,g)},a.rotate=function(a){var b=Math.cos(a),c=Math.sin(a),d=this._transformMatrix;this._transformMatrix=[d[0]*b+d[2]*c,d[1]*b+d[3]*c,d[0]*-c+d[2]*b,d[1]*-c+d[3]*b,d[4],d[5]],this._originalRotate(a)})}function q(a){var e,f,g,o,p,q,r,s,t,u,v,w,x,A,y,z,B,C,b=1e3,c=a.width,d=a.height,h=c+1,i=new Uint8Array(h*(d+1)),j=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),k=-8&c+7,l=a.data,m=new Uint8Array(k*d),n=0;for(e=0,o=l.length;o>e;e++)for(p=128,q=l[e];p>0;)m[n++]=q&p?0:255,p>>=1;for(r=0,n=0,0!==m[n]&&(i[0]=1,++r),f=1;c>f;f++)m[n]!==m[n+1]&&(i[f]=m[n]?2:1,++r),n++;for(0!==m[n]&&(i[f]=2,++r),e=1;d>e;e++){for(n=e*k,g=e*h,m[n-k]!==m[n]&&(i[g]=m[n]?1:8,++r),s=(m[n]?4:0)+(m[n-k]?8:0),f=1;c>f;f++)s=(s>>2)+(m[n+1]?4:0)+(m[n-k+1]?8:0),j[s]&&(i[g+f]=j[s],++r),n++;if(m[n-k]!==m[n]&&(i[g+f]=m[n]?2:4,++r),r>b)return null}for(n=k*(d-1),g=e*h,0!==m[n]&&(i[g]=8,++r),f=1;c>f;f++)m[n]!==m[n+1]&&(i[g+f]=m[n]?4:8,++r),n++;if(0!==m[n]&&(i[g+f]=4,++r),r>b)return null;for(t=new Int32Array([0,h,-1,0,-h,0,0,0,1]),u=[],e=0;r&&d>=e;e++){for(v=e*h,w=v+c;w>v&&!i[v];)v++;if(v!==w){x=[v%h,e],y=i[v],z=v;do{B=t[y];do v+=B;while(!i[v]);A=i[v],5!==A&&10!==A?(y=A,i[v]=0):(y=A&51*y>>4,i[v]&=y>>2|y<<2),x.push(v%h),x.push(0|v/h),--r}while(z!==v);u.push(x),--e}}return C=function(a){var b,e,f,g,h;for(a.save(),a.scale(1/c,-1/d),a.translate(0,-d),a.beginPath(),b=0,e=u.length;e>b;b++)for(f=u[b],a.moveTo(f[0],f[1]),g=2,h=f.length;h>g;g+=2)a.lineTo(f[g],f[g+1]);a.fill(),a.beginPath(),a.restore()}}var d,e,f,g,h,i,j,k,l,m,n,p,r,s;Object.defineProperty(b,"__esModule",{value:!0}),b.CanvasGraphics=void 0,d=c(0),e=c(85),f=c(49),g=16,h=100,i=4096,j=.65,k=!0,l=1e3,m=16,n={get value(){return d.shadow(n,"value",d.isLittleEndian())}},p=function(){function a(a){this.canvasFactory=a,this.cache=Object.create(null)}return a.prototype={getCanvas:function(a,b,c,d){var e;return void 0!==this.cache[a]?(e=this.cache[a],this.canvasFactory.reset(e,b,c),e.context.setTransform(1,0,0,1,0,0)):(e=this.canvasFactory.create(b,c),this.cache[a]=e),d&&o(e.context),e},clear:function(){var a,b;for(a in this.cache)b=this.cache[a],this.canvasFactory.destroy(b),delete this.cache[a]}},a}(),r=function(){function a(){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=d.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=d.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=d.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null}return a.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(a,b){this.x=a,this.y=b}},a}(),s=function(){function c(a,b,c,d,e){this.ctx=a,this.current=new r,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=b,this.objs=c,this.canvasFactory=d,this.imageLayer=e,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.cachedCanvases=new p(this.canvasFactory),a&&o(a),this.cachedGetSinglePixelWidth=null}function s(a,b){var c,e,f,g,h,i,k,j,l,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E;if("undefined"!=typeof ImageData&&b instanceof ImageData)return a.putImageData(b,0,0),void 0;if(c=b.height,e=b.width,f=c%m,g=(c-f)/m,h=0===f?g:g+1,i=a.createImageData(e,m),j=0,l=b.data,o=i.data,b.kind===d.ImageKind.GRAYSCALE_1BPP)for(t=l.byteLength,u=new Uint32Array(o.buffer,0,o.byteLength>>2),v=u.length,w=e+7>>3,x=4294967295,y=n.value?4278190080:255,p=0;h>p;p++){for(r=g>p?m:f,k=0,q=0;r>q;q++){for(z=t-j,A=0,B=z>w?e:8*z-7,C=-8&B,D=0,E=0;C>A;A+=8)E=l[j++],u[k++]=128&E?x:y,u[k++]=64&E?x:y,u[k++]=32&E?x:y,u[k++]=16&E?x:y,u[k++]=8&E?x:y,u[k++]=4&E?x:y,u[k++]=2&E?x:y,u[k++]=1&E?x:y;for(;B>A;A++)0===D&&(E=l[j++],D=128),u[k++]=E&D?x:y,D>>=1}for(;v>k;)u[k++]=0;a.putImageData(i,0,p*m)}else if(b.kind===d.ImageKind.RGBA_32BPP){for(q=0,s=4*e*m,p=0;g>p;p++)o.set(l.subarray(j,j+s)),j+=s,a.putImageData(i,0,q),q+=m;h>p&&(s=4*e*f,o.set(l.subarray(j,j+s)),a.putImageData(i,0,q))}else{if(b.kind!==d.ImageKind.RGB_24BPP)throw new Error("bad image kind: "+b.kind);for(r=m,s=e*r,p=0;h>p;p++){for(p>=g&&(r=f,s=e*r),k=0,q=s;q--;)o[k++]=l[j++],o[k++]=l[j++],o[k++]=l[j++],o[k++]=255;a.putImageData(i,0,p*m)}}}function t(a,b){var l,n,o,p,q,r,s,c=b.height,d=b.width,e=c%m,f=(c-e)/m,g=0===e?f:f+1,h=a.createImageData(d,m),i=0,j=b.data,k=h.data;for(l=0;g>l;l++){for(n=f>l?m:e,o=3,p=0;n>p;p++)for(q=0,r=0;d>r;r++)q||(s=j[i++],q=128),k[o]=s&q?0:255,o+=4,q>>=1;a.putImageData(h,0,l*m)}}function u(a,b){var d,e,f,c=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(d=0,e=c.length;e>d;d++)f=c[d],void 0!==a[f]&&(b[f]=a[f]);void 0!==a.setLineDash&&(b.setLineDash(a.getLineDash()),b.lineDashOffset=a.lineDashOffset)}function v(a){a.strokeStyle="#000000",a.fillStyle="#000000",a.fillRule="nonzero",a.globalAlpha=1,a.lineWidth=1,a.lineCap="butt",a.lineJoin="miter",a.miterLimit=10,a.globalCompositeOperation="source-over",a.font="10px sans-serif",void 0!==a.setLineDash&&(a.setLineDash([]),a.lineDashOffset=0)}function w(a,b,c,d){var f,g,h,e=a.length;for(f=3;e>f;f+=4)g=a[f],0===g?(a[f-3]=b,a[f-2]=c,a[f-1]=d):255>g&&(h=255-g,a[f-3]=a[f-3]*g+b*h>>8,a[f-2]=a[f-2]*g+c*h>>8,a[f-1]=a[f-1]*g+d*h>>8)}function x(a,b,c){var f,g,d=a.length,e=1/255;for(f=3;d>f;f+=4)g=c?c[a[f]]:a[f],b[f]=0|b[f]*g*e}function y(a,b,c){var e,f,d=a.length;for(e=3;d>e;e+=4)f=77*a[e-3]+152*a[e-2]+28*a[e-1],b[e]=c?b[e]*c[f>>8]>>8:b[e]*f>>16}function z(a,b,c,d,e,f,g){var l,m,n,o,p,q,r,h=!!f,i=h?f[0]:0,j=h?f[1]:0,k=h?f[2]:0;for(l="Luminosity"===e?y:x,m=1048576,n=Math.min(d,Math.ceil(m/c)),o=0;d>o;o+=n)p=Math.min(n,d-o),q=a.getImageData(0,o,c,p),r=b.getImageData(0,o,c,p),h&&w(q.data,i,j,k),l(q.data,r.data,g),a.putImageData(r,0,o)}function A(a,b,c){var g,h,d=b.canvas,e=b.context;return a.setTransform(b.scaleX,0,0,b.scaleY,b.offsetX,b.offsetY),g=b.backdrop||null,!b.transferMap&&f.WebGLUtils.isEnabled?(h=f.WebGLUtils.composeSMask(c.canvas,d,{subtype:b.subtype,backdrop:g}),a.setTransform(1,0,0,1,0,0),a.drawImage(h,b.offsetX,b.offsetY),void 0):(z(e,c,d.width,d.height,b.subtype,g,b.transferMap),a.drawImage(d,0,0),void 0)}var F,a=15,b=10,B=["butt","round","square"],C=["miter","round","bevel"],D={},E={};c.prototype={beginDrawing:function(a){var i,b=a.transform,c=a.viewport,d=a.transparency,e=a.background,f=void 0===e?null:e,g=this.ctx.canvas.width,h=this.ctx.canvas.height;this.ctx.save(),this.ctx.fillStyle=f||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,g,h),this.ctx.restore(),d&&(i=this.cachedCanvases.getCanvas("transparent",g,h,!0),this.compositeCtx=this.ctx,this.transparentCanvas=i.canvas,this.ctx=i.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)),this.ctx.save(),v(this.ctx),b&&this.ctx.transform.apply(this.ctx,b),this.ctx.transform.apply(this.ctx,c.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(c,e,f,g){var l,m,n,o,p,q,r,s,t,u,v,w,h=c.argsArray,i=c.fnArray,j=e||0,k=h.length;if(k===j)return j;for(l=k-j>b&&"function"==typeof f,m=l?Date.now()+a:0,n=0,o=this.commonObjs,p=this.objs;;){if(void 0!==g&&j===g.nextBreakPoint)return g.breakIt(j,f),j;if(q=i[j],q!==d.OPS.dependency)this[q].apply(this,h[j]);else for(r=h[j],s=0,t=r.length;t>s;s++)if(u=r[s],v="g"===u[0]&&"_"===u[1],w=v?o:p,!w.isResolved(u))return w.get(u,f),j;if(j++,j===k)return j;if(l&&++n>b){if(Date.now()>m)return f(),j;n=0}}},endDrawing:function(){null!==this.current.activeSMask&&this.endSMaskGroup(),this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),f.WebGLUtils.clear(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(a){this.current.lineWidth=a,this.ctx.lineWidth=a},setLineCap:function(a){this.ctx.lineCap=B[a]},setLineJoin:function(a){this.ctx.lineJoin=C[a]},setMiterLimit:function(a){this.ctx.miterLimit=a},setDash:function(a,b){var c=this.ctx;void 0!==c.setLineDash&&(c.setLineDash(a),c.lineDashOffset=b)},setRenderingIntent:function(){},setFlatness:function(){},setGState:function(a){var b,c,d,e,f;for(b=0,c=a.length;c>b;b++)switch(d=a[b],e=d[0],f=d[1],e){case"LW":this.setLineWidth(f);break;case"LC":this.setLineCap(f);break;case"LJ":this.setLineJoin(f);break;case"ML":this.setMiterLimit(f);break;case"D":this.setDash(f[0],f[1]);break;case"RI":this.setRenderingIntent(f);break;case"FL":this.setFlatness(f);break;case"Font":this.setFont(f[0],f[1]);break;case"CA":this.current.strokeAlpha=d[1];break;case"ca":this.current.fillAlpha=d[1],this.ctx.globalAlpha=d[1];break;case"BM":this.ctx.globalCompositeOperation=f;break;case"SMask":this.current.activeSMask&&(this.stateStack.length>0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=f?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null}},beginSMaskGroup:function(){var h,a=this.current.activeSMask,b=a.canvas.width,c=a.canvas.height,d="smaskGroupAt"+this.groupLevel,e=this.cachedCanvases.getCanvas(d,b,c,!0),f=this.ctx,g=f.mozCurrentTransform;this.ctx.save(),h=e.context,h.scale(1/a.scaleX,1/a.scaleY),h.translate(-a.offsetX,-a.offsetY),h.transform.apply(h,g),a.startTransformInverse=h.mozCurrentTransformInverse,u(f,h),this.ctx=h,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(f),this.groupLevel++},suspendSMaskGroup:function(){var b,a=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),A(this.ctx,this.current.activeSMask,a),this.ctx.restore(),this.ctx.save(),u(a,this.ctx),this.current.resumeSMaskCtx=a,b=d.Util.transform(this.current.activeSMask.startTransformInverse,a.mozCurrentTransform),this.ctx.transform.apply(this.ctx,b),a.save(),a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,a.canvas.width,a.canvas.height),a.restore()},resumeSMaskGroup:function(){var a=this.current.resumeSMaskCtx,b=this.ctx;this.ctx=a,this.groupStack.push(b),this.groupLevel++},endSMaskGroup:function(){var b,a=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),A(this.ctx,this.current.activeSMask,a),this.ctx.restore(),u(a,this.ctx),b=d.Util.transform(this.current.activeSMask.startTransformInverse,a.mozCurrentTransform),this.ctx.transform.apply(this.ctx,b)},save:function(){this.ctx.save();var a=this.current;this.stateStack.push(a),this.current=a.clone(),this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),null===this.current.activeSMask||0!==this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask||this.endSMaskGroup(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this.cachedGetSinglePixelWidth=null)},transform:function(a,b,c,d,e,f){this.ctx.transform(a,b,c,d,e,f),this.cachedGetSinglePixelWidth=null},constructPath:function(a,b){var h,i,j,k,l,m,n,c=this.ctx,e=this.current,f=e.x,g=e.y;for(h=0,i=0,j=a.length;j>h;h++)switch(0|a[h]){case d.OPS.rectangle:f=b[i++],g=b[i++],k=b[i++],l=b[i++],0===k&&(k=this.getSinglePixelWidth()),0===l&&(l=this.getSinglePixelWidth()),m=f+k,n=g+l,this.ctx.moveTo(f,g),this.ctx.lineTo(m,g),this.ctx.lineTo(m,n),this.ctx.lineTo(f,n),this.ctx.lineTo(f,g),this.ctx.closePath();break;case d.OPS.moveTo:f=b[i++],g=b[i++],c.moveTo(f,g);break;case d.OPS.lineTo:f=b[i++],g=b[i++],c.lineTo(f,g);break;case d.OPS.curveTo:f=b[i+4],g=b[i+5],c.bezierCurveTo(b[i],b[i+1],b[i+2],b[i+3],f,g),i+=6;break;case d.OPS.curveTo2:c.bezierCurveTo(f,g,b[i],b[i+1],b[i+2],b[i+3]),f=b[i+2],g=b[i+3],i+=4;break;case d.OPS.curveTo3:f=b[i+2],g=b[i+3],c.bezierCurveTo(b[i],b[i+1],f,g,f,g),i+=4;break;case d.OPS.closePath:c.closePath()}e.setCurrentPoint(f,g)},closePath:function(){this.ctx.closePath()},stroke:function(a){var b,c;a="undefined"!=typeof a?a:!0,b=this.ctx,c=this.current.strokeColor,b.lineWidth=Math.max(this.getSinglePixelWidth()*j,this.current.lineWidth),b.globalAlpha=this.current.strokeAlpha,c&&c.hasOwnProperty("type")&&"Pattern"===c.type?(b.save(),b.strokeStyle=c.getPattern(b,this),b.stroke(),b.restore()):b.stroke(),a&&this.consumePath(),b.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(a){var b,c,d,e;a="undefined"!=typeof a?a:!0,b=this.ctx,c=this.current.fillColor,d=this.current.patternFill,e=!1,d&&(b.save(),this.baseTransform&&b.setTransform.apply(b,this.baseTransform),b.fillStyle=c.getPattern(b,this),e=!0),this.pendingEOFill?(b.fill("evenodd"),this.pendingEOFill=!1):b.fill(),e&&b.restore(),a&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=D},eoClip:function(){this.pendingClip=E},beginText:function(){this.current.textMatrix=d.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){var c,d,a=this.pendingTextPaths,b=this.ctx;if(void 0===a)return b.beginPath(),void 0;for(b.save(),b.beginPath(),c=0;c<a.length;c++)d=a[c],b.setTransform.apply(b,d.transform),b.translate(d.x,d.y),d.addToPath(b,d.fontSize);b.restore(),b.clip(),b.beginPath(),delete this.pendingTextPaths},setCharSpacing:function(a){this.current.charSpacing=a},setWordSpacing:function(a){this.current.wordSpacing=a},setHScale:function(a){this.current.textHScale=a/100},setLeading:function(a){this.current.leading=-a},setFont:function(a,b){var f,i,j,k,l,m,c=this.commonObjs.get(a),e=this.current;if(!c)throw new Error("Can't find font for "+a);e.fontMatrix=c.fontMatrix?c.fontMatrix:d.FONT_IDENTITY_MATRIX,(0===e.fontMatrix[0]||0===e.fontMatrix[3])&&d.warn("Invalid font matrix for font "+a),0>b?(b=-b,e.fontDirection=-1):e.fontDirection=1,this.current.font=c,this.current.fontSize=b,c.isType3Font||(f=c.loadedName||"sans-serif",i=c.black?"900":c.bold?"bold":"normal",j=c.italic?"italic":"normal",k='"'+f+'", '+c.fallbackName,l=g>b?g:b>h?h:b,this.current.fontSizeScale=b/l,m=j+" "+i+" "+l+"px "+k,this.ctx.font=m)},setTextRenderingMode:function(a){this.current.textRenderingMode=a},setTextRise:function(a){this.current.textRise=a},moveText:function(a,b){this.current.x=this.current.lineX+=a,this.current.y=this.current.lineY+=b},setLeadingMoveText:function(a,b){this.setLeading(-b),this.moveText(a,b)},setTextMatrix:function(a,b,c,d,e,f){this.current.textMatrix=[a,b,c,d,e,f],this.current.textMatrixScale=Math.sqrt(a*a+b*b),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar:function(a,b,c){var l,m,e=this.ctx,f=this.current,g=f.font,h=f.textRenderingMode,i=f.fontSize/f.fontSizeScale,j=h&d.TextRenderingMode.FILL_STROKE_MASK,k=!!(h&d.TextRenderingMode.ADD_TO_PATH_FLAG);(g.disableFontFace||k)&&(l=g.getPathGenerator(this.commonObjs,a)),g.disableFontFace?(e.save(),e.translate(b,c),e.beginPath(),l(e,i),(j===d.TextRenderingMode.FILL||j===d.TextRenderingMode.FILL_STROKE)&&e.fill(),(j===d.TextRenderingMode.STROKE||j===d.TextRenderingMode.FILL_STROKE)&&e.stroke(),e.restore()):((j===d.TextRenderingMode.FILL||j===d.TextRenderingMode.FILL_STROKE)&&e.fillText(a,b,c),(j===d.TextRenderingMode.STROKE||j===d.TextRenderingMode.FILL_STROKE)&&e.strokeText(a,b,c)),k&&(m=this.pendingTextPaths||(this.pendingTextPaths=[]),m.push({transform:e.mozCurrentTransform,x:b,y:c,fontSize:i,addToPath:l}))},get isFontSubpixelAAEnabled(){var b,c,e,a=this.canvasFactory.create(10,10).context;for(a.scale(1.5,1),a.fillText("I",0,10),b=a.getImageData(0,0,10,10).data,c=!1,e=3;e<b.length;e+=4)if(b[e]>0&&b[e]<255){c=!0;break}return d.shadow(this,"isFontSubpixelAAEnabled",c)},showText:function(a){var e,f,g,h,i,k,l,m,n,o,p,q,r,s,t,u,w,v,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,b=this.current,c=b.font;if(c.isType3Font)return this.showType3Text(a);if(e=b.fontSize,0!==e){for(f=this.ctx,g=b.fontSizeScale,h=b.charSpacing,i=b.wordSpacing,k=b.fontDirection,l=b.textHScale*k,m=a.length,n=c.vertical,o=n?1:-1,p=c.defaultVMetrics,q=e*b.fontMatrix[0],r=b.textRenderingMode===d.TextRenderingMode.FILL&&!c.disableFontFace,f.save(),f.transform.apply(f,b.textMatrix),f.translate(b.x,b.y+b.textRise),b.patternFill&&(f.fillStyle=b.fillColor.getPattern(f,this)),k>0?f.scale(l,-1):f.scale(l,1),s=b.lineWidth,t=b.textMatrixScale,0===t||0===s?(u=b.textRenderingMode&d.TextRenderingMode.FILL_STROKE_MASK,(u===d.TextRenderingMode.STROKE||u===d.TextRenderingMode.FILL_STROKE)&&(this.cachedGetSinglePixelWidth=null,s=this.getSinglePixelWidth()*j)):s/=t,1!==g&&(f.scale(g,g),s/=g),f.lineWidth=s,v=0,w=0;m>w;++w)x=a[w],d.isNum(x)?v+=o*x*e/1e3:(y=!1,z=(x.isSpace?i:0)+h,A=x.fontChar,B=x.accent,G=x.width,n?(H=x.vmetric||p,I=x.vmetric?H[1]:.5*G,I=-I*q,J=H[2]*q,G=H?-H[0]:G,C=I/g,D=(v+J)/g):(C=v/g,D=0),c.remeasure&&G>0&&(K=1e3*f.measureText(A).width/e*g,K>G&&this.isFontSubpixelAAEnabled?(L=G/K,y=!0,f.save(),f.scale(L,1),C/=L):G!==K&&(C+=(G-K)/2e3*e/g)),(x.isInFont||c.missingFile)&&(r&&!B?f.fillText(A,C,D):(this.paintChar(A,C,D),B&&(E=C+B.offset.x/g,F=D-B.offset.y/g,this.paintChar(B.fontChar,E,F)))),M=G*q+z*k,v+=M,y&&f.restore());n?b.y-=v*l:b.x+=v*l,f.restore()}},showType3Text:function(a){var o,p,q,r,s,t,u,b=this.ctx,c=this.current,e=c.font,f=c.fontSize,g=c.fontDirection,h=e.vertical?1:-1,i=c.charSpacing,j=c.wordSpacing,k=c.textHScale*g,l=c.fontMatrix||d.FONT_IDENTITY_MATRIX,m=a.length,n=c.textRenderingMode===d.TextRenderingMode.INVISIBLE;if(!n&&0!==f){for(this.cachedGetSinglePixelWidth=null,b.save(),b.transform.apply(b,c.textMatrix),b.translate(c.x,c.y),b.scale(k,g),o=0;m>o;++o)p=a[o],d.isNum(p)?(r=h*p*f/1e3,this.ctx.translate(r,0),c.x+=r*k):(s=(p.isSpace?j:0)+i,t=e.charProcOperatorList[p.operatorListId],t?(this.processingType3=p,this.save(),b.scale(f,f),b.transform.apply(b,l),this.executeOperatorList(t),this.restore(),u=d.Util.applyTransform([p.width,0],l),q=u[0]*f+s,b.translate(q,0),c.x+=q*k):d.warn('Type3 character "'+p.operatorListId+'" is not available.'));b.restore(),this.processingType3=null}},setCharWidth:function(){},setCharWidthAndBounds:function(a,b,c,d,e,f){this.ctx.rect(c,d,e-c,f-d),this.clip(),this.endPath()},getColorN_Pattern:function(a){var d,f,g,h,b=this;return"TilingPattern"===a[0]?(f=a[1],g=this.baseTransform||this.ctx.mozCurrentTransform.slice(),h={createCanvasGraphics:function(a){return new c(a,b.commonObjs,b.objs,b.canvasFactory)}},d=new e.TilingPattern(a,f,this.ctx,h,g)):d=e.getShadingPatternFromIR(a),d},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0},setStrokeRGBColor:function(a,b,c){var e=d.Util.makeCssRgb(a,b,c);this.ctx.strokeStyle=e,this.current.strokeColor=e},setFillRGBColor:function(a,b,c){var e=d.Util.makeCssRgb(a,b,c);this.ctx.fillStyle=e,this.current.fillColor=e,this.current.patternFill=!1},shadingFill:function(a){var c,f,g,h,i,j,k,l,m,n,o,p,q,b=this.ctx;this.save(),c=e.getShadingPatternFromIR(a),b.fillStyle=c.getPattern(b,this,!0),f=b.mozCurrentTransformInverse,f?(g=b.canvas,h=g.width,i=g.height,j=d.Util.applyTransform([0,0],f),k=d.Util.applyTransform([0,i],f),l=d.Util.applyTransform([h,0],f),m=d.Util.applyTransform([h,i],f),n=Math.min(j[0],k[0],l[0],m[0]),o=Math.min(j[1],k[1],l[1],m[1]),p=Math.max(j[0],k[0],l[0],m[0]),q=Math.max(j[1],k[1],l[1],m[1]),this.ctx.fillRect(n,o,p-n,q-o)):this.ctx.fillRect(-1e10,-1e10,2e10,2e10),this.restore()},beginInlineImage:function(){throw new Error("Should not call beginInlineImage")},beginImageData:function(){throw new Error("Should not call beginImageData")},paintFormXObjectBegin:function(a,b){var c,d;this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(a)&&6===a.length&&this.transform.apply(this,a),this.baseTransform=this.ctx.mozCurrentTransform,Array.isArray(b)&&4===b.length&&(c=b[2]-b[0],d=b[3]-b[1],this.ctx.rect(b[0],b[1],c,d),this.clip(),this.endPath())},paintFormXObjectEnd:function(){this.restore(),this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(a){var b,c,e,f,g,h,j,k,l,m,n,o,p;if(this.save(),b=this.ctx,a.isolated||d.info("TODO: Support non-isolated groups."),a.knockout&&d.warn("Knockout groups not supported."),c=b.mozCurrentTransform,a.matrix&&b.transform.apply(b,a.matrix),!a.bbox)throw new Error("Bounding box is required.");e=d.Util.getAxialAlignedBoundingBox(a.bbox,b.mozCurrentTransform),f=[0,0,b.canvas.width,b.canvas.height],e=d.Util.intersect(e,f)||[0,0,0,0],g=Math.floor(e[0]),h=Math.floor(e[1]),j=Math.max(Math.ceil(e[2])-g,1),k=Math.max(Math.ceil(e[3])-h,1),l=1,m=1,j>i&&(l=j/i,j=i),k>i&&(m=k/i,k=i),n="groupAt"+this.groupLevel,a.smask&&(n+="_smask_"+this.smaskCounter++%2),o=this.cachedCanvases.getCanvas(n,j,k,!0),p=o.context,p.scale(1/l,1/m),p.translate(-g,-h),p.transform.apply(p,c),a.smask?this.smaskStack.push({canvas:o.canvas,context:p,offsetX:g,offsetY:h,scaleX:l,scaleY:m,subtype:a.smask.subtype,backdrop:a.smask.backdrop,transferMap:a.smask.transferMap||null,startTransformInverse:null}):(b.setTransform(1,0,0,1,0,0),b.translate(g,h),b.scale(l,m)),u(b,p),this.ctx=p,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(b),this.groupLevel++,this.current.activeSMask=null},endGroup:function(a){this.groupLevel--;var b=this.ctx;this.ctx=this.groupStack.pop(),void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,a.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(b.canvas,0,0),this.restore()},beginAnnotations:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(a,b,c){var d,e;this.save(),v(this.ctx),this.current=new r,Array.isArray(a)&&4===a.length&&(d=a[2]-a[0],e=a[3]-a[1],this.ctx.rect(a[0],a[1],d,e),this.clip(),this.endPath()),this.transform.apply(this,b),this.transform.apply(this,c)},endAnnotation:function(){this.restore()},paintJpegXObject:function(a,b,c){var f,g,h,e=this.objs.get(a);return e?(this.save(),f=this.ctx,f.scale(1/b,-1/c),f.drawImage(e,0,0,e.width,e.height,0,-c,b,c),this.imageLayer&&(g=f.mozCurrentTransformInverse,h=this.getCanvasPosition(0,0),this.imageLayer.appendImage({objId:a,left:h[0],top:h[1],width:b/g[0],height:c/g[3]})),this.restore(),void 0):(d.warn("Dependent image isn't ready yet"),void 0)},paintImageMaskXObject:function(a){var h,i,b=this.ctx,c=a.width,d=a.height,e=this.current.fillColor,f=this.current.patternFill,g=this.processingType3;return k&&g&&void 0===g.compiled&&(g.compiled=l>=c&&l>=d?q({data:a.data,width:c,height:d}):null),g&&g.compiled?(g.compiled(b),void 0):(h=this.cachedCanvases.getCanvas("maskCanvas",c,d),i=h.context,i.save(),t(i,a),i.globalCompositeOperation="source-in",i.fillStyle=f?e.getPattern(i,this):e,i.fillRect(0,0,c,d),i.restore(),this.paintInlineImageXObject(h.canvas),void 0)},paintImageMaskXObjectRepeat:function(a,b,c,d){var k,l,m,e=a.width,f=a.height,g=this.current.fillColor,h=this.current.patternFill,i=this.cachedCanvases.getCanvas("maskCanvas",e,f),j=i.context;for(j.save(),t(j,a),j.globalCompositeOperation="source-in",j.fillStyle=h?g.getPattern(j,this):g,j.fillRect(0,0,e,f),j.restore(),k=this.ctx,l=0,m=d.length;m>l;l+=2)k.save(),k.transform(b,0,0,c,d[l],d[l+1]),k.scale(1,-1),k.drawImage(i.canvas,0,0,e,f,0,-1,1,1),k.restore()},paintImageMaskXObjectGroup:function(a){var e,f,g,h,i,j,k,b=this.ctx,c=this.current.fillColor,d=this.current.patternFill;for(e=0,f=a.length;f>e;e++)g=a[e],h=g.width,i=g.height,j=this.cachedCanvases.getCanvas("maskCanvas",h,i),k=j.context,k.save(),t(k,g),k.globalCompositeOperation="source-in",k.fillStyle=d?c.getPattern(k,this):c,k.fillRect(0,0,h,i),k.restore(),b.save(),b.transform.apply(b,g.transform),b.scale(1,-1),b.drawImage(j.canvas,0,0,h,i,0,-1,1,1),b.restore()},paintImageXObject:function(a){var b=this.objs.get(a);return b?(this.paintInlineImageXObject(b),void 0):(d.warn("Dependent image isn't ready yet"),void 0)},paintImageXObjectRepeat:function(a,b,c,e){var g,h,i,j,k,f=this.objs.get(a);if(!f)return d.warn("Dependent image isn't ready yet"),void 0;for(g=f.width,h=f.height,i=[],j=0,k=e.length;k>j;j+=2)i.push({transform:[b,0,0,c,e[j],e[j+1]],x:0,y:0,w:g,h:h});this.paintInlineImageXObjectGroup(f,i)},paintInlineImageXObject:function(a){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,t,u,b=a.width,c=a.height,d=this.ctx;for(this.save(),d.scale(1/b,-1/c),e=d.mozCurrentTransformInverse,f=e[0],g=e[1],h=Math.max(Math.sqrt(f*f+g*g),1),i=e[2],j=e[3],k=Math.max(Math.sqrt(i*i+j*j),1),a instanceof HTMLElement||!a.data?l=a:(m=this.cachedCanvases.getCanvas("inlineImage",b,c),n=m.context,s(n,a),l=m.canvas),o=b,p=c,q="prescale1";h>2&&o>1||k>2&&p>1;)r=o,t=p,h>2&&o>1&&(r=Math.ceil(o/2),h/=o/r),k>2&&p>1&&(t=Math.ceil(p/2),k/=p/t),m=this.cachedCanvases.getCanvas(q,r,t),n=m.context,n.clearRect(0,0,r,t),n.drawImage(l,0,0,o,p,0,0,r,t),l=m.canvas,o=r,p=t,q="prescale1"===q?"prescale2":"prescale1";d.drawImage(l,0,0,o,p,0,-c,b,c),this.imageLayer&&(u=this.getCanvasPosition(0,-c),this.imageLayer.appendImage({imgData:a,left:u[0],top:u[1],width:b/e[0],height:c/e[3]})),this.restore()},paintInlineImageXObjectGroup:function(a,b){var h,i,j,k,c=this.ctx,d=a.width,e=a.height,f=this.cachedCanvases.getCanvas("inlineImage",d,e),g=f.context;for(s(g,a),h=0,i=b.length;i>h;h++)j=b[h],c.save(),c.transform.apply(c,j.transform),c.scale(1,-1),c.drawImage(f.canvas,j.x,j.y,j.w,j.h,0,-1,1,1),this.imageLayer&&(k=this.getCanvasPosition(j.x,j.y),this.imageLayer.appendImage({imgData:a,left:k[0],top:k[1],width:d,height:e})),c.restore()},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)
},paintXObject:function(){d.warn("Unsupported 'paintXObject' command.")},markPoint:function(){},markPointProps:function(){},beginMarkedContent:function(){},beginMarkedContentProps:function(){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var a=this.ctx;this.pendingClip&&(this.pendingClip===E?a.clip("evenodd"):a.clip(),this.pendingClip=null),a.beginPath()},getSinglePixelWidth:function(){if(null===this.cachedGetSinglePixelWidth){this.ctx.save();var b=this.ctx.mozCurrentTransformInverse;this.ctx.restore(),this.cachedGetSinglePixelWidth=Math.sqrt(Math.max(b[0]*b[0]+b[1]*b[1],b[2]*b[2]+b[3]*b[3]))}return this.cachedGetSinglePixelWidth},getCanvasPosition:function(a,b){var c=this.ctx.mozCurrentTransform;return[c[0]*a+c[2]*b+c[4],c[1]*a+c[3]*b+c[5]]}};for(F in d.OPS)c.prototype[d.OPS[F]]=c.prototype[F];return c}(),b.CanvasGraphics=s},function(a,b,c){"use strict";function h(a){var b=f[a[0]];if(!b)throw new Error("Unknown IR type: "+a[0]);return b.fromIR(a)}var d,e,f,g,i;Object.defineProperty(b,"__esModule",{value:!0}),b.TilingPattern=b.getShadingPatternFromIR=void 0,d=c(0),e=c(49),f={},f.RadialAxial={fromIR:function(a){var b=a[1],c=a[2],d=a[3],e=a[4],f=a[5],g=a[6];return{type:"Pattern",getPattern:function(a){var h,i,j,k;for("axial"===b?h=a.createLinearGradient(d[0],d[1],e[0],e[1]):"radial"===b&&(h=a.createRadialGradient(d[0],d[1],f,e[0],e[1],g)),i=0,j=c.length;j>i;++i)k=c[i],h.addColorStop(k[0],k[1]);return h}}}},g=function(){function a(a,b,c,d,e,f,g,h){var m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,i=b.coords,j=b.colors,k=a.data,l=4*a.width;if(i[c+1]>i[d+1]&&(m=c,c=d,d=m,m=f,f=g,g=m),i[d+1]>i[e+1]&&(m=d,d=e,e=m,m=g,g=h,h=m),i[c+1]>i[d+1]&&(m=c,c=d,d=m,m=f,f=g,g=m),n=(i[c]+b.offsetX)*b.scaleX,o=(i[c+1]+b.offsetY)*b.scaleY,p=(i[d]+b.offsetX)*b.scaleX,q=(i[d+1]+b.offsetY)*b.scaleY,r=(i[e]+b.offsetX)*b.scaleX,s=(i[e+1]+b.offsetY)*b.scaleY,!(o>=s))for(t=j[f],u=j[f+1],v=j[f+2],w=j[g],x=j[g+1],y=j[g+2],z=j[h],A=j[h+1],B=j[h+2],C=Math.round(o),D=Math.round(s),N=C;D>=N;N++)for(q>N?(M=o>N?0:o===q?1:(o-N)/(o-q),E=n-(n-p)*M,F=t-(t-w)*M,G=u-(u-x)*M,H=v-(v-y)*M):(M=N>s?1:q===s?0:(q-N)/(q-s),E=p-(p-r)*M,F=w-(w-z)*M,G=x-(x-A)*M,H=y-(y-B)*M),M=o>N?0:N>s?1:(o-N)/(o-s),I=n-(n-r)*M,J=t-(t-z)*M,K=u-(u-A)*M,L=v-(v-B)*M,O=Math.round(Math.min(E,I)),P=Math.round(Math.max(E,I)),Q=l*N+4*O,R=O;P>=R;R++)M=(E-R)/(E-I),M=0>M?0:M>1?1:M,k[Q++]=0|F-(F-J)*M,k[Q++]=0|G-(G-K)*M,k[Q++]=0|H-(H-L)*M,k[Q++]=255}function b(b,c,d){var g,h,i,j,k,l,m,e=c.coords,f=c.colors;switch(c.type){case"lattice":for(i=c.verticesPerRow,j=Math.floor(e.length/i)-1,k=i-1,g=0;j>g;g++)for(l=g*i,m=0;k>m;m++,l++)a(b,d,e[l],e[l+1],e[l+i],f[l],f[l+1],f[l+i]),a(b,d,e[l+i+1],e[l+1],e[l+i],f[l+i+1],f[l+1],f[l+i]);break;case"triangles":for(g=0,h=e.length;h>g;g+=3)a(b,d,e[g],e[g+1],e[g+2],f[g],f[g+1],f[g+2]);break;default:throw new Error("illegal figure")}}function c(a,c,d,f,g,h,i){var x,y,z,A,B,C,D,j=1.1,k=3e3,l=2,m=Math.floor(a[0]),n=Math.floor(a[1]),o=Math.ceil(a[2])-m,p=Math.ceil(a[3])-n,q=Math.min(Math.ceil(Math.abs(o*c[0]*j)),k),r=Math.min(Math.ceil(Math.abs(p*c[1]*j)),k),s=o/q,t=p/r,u={coords:d,colors:f,offsetX:-m,offsetY:-n,scaleX:1/s,scaleY:1/t},v=q+2*l,w=r+2*l;if(e.WebGLUtils.isEnabled)x=e.WebGLUtils.drawFigures(q,r,h,g,u),y=i.getCanvas("mesh",v,w,!1),y.context.drawImage(x,l,l),x=y.canvas;else{if(y=i.getCanvas("mesh",v,w,!1),B=y.context,C=B.createImageData(q,r),h)for(D=C.data,z=0,A=D.length;A>z;z+=4)D[z]=h[0],D[z+1]=h[1],D[z+2]=h[2],D[z+3]=255;for(z=0;z<g.length;z++)b(C,g[z],u);B.putImageData(C,l,l),x=y.canvas}return{canvas:x,offsetX:m-l*s,offsetY:n-l*t,scaleX:s,scaleY:t}}return c}(),f.Mesh={fromIR:function(a){var b=a[2],c=a[3],e=a[4],f=a[5],h=a[6],i=a[8];return{type:"Pattern",getPattern:function(a,j,k){var l,m,n;return k?l=d.Util.singularValueDecompose2dScale(a.mozCurrentTransform):(l=d.Util.singularValueDecompose2dScale(j.baseTransform),h&&(m=d.Util.singularValueDecompose2dScale(h),l=[l[0]*m[0],l[1]*m[1]])),n=g(f,l,b,c,e,k?null:i,j.cachedCanvases),k||(a.setTransform.apply(a,j.baseTransform),h&&a.transform.apply(a,h)),a.translate(n.offsetX,n.offsetY),a.scale(n.scaleX,n.scaleY),a.createPattern(n.canvas,"no-repeat")}}}},f.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}},i=function(){function c(a,b,c,d,e){this.operatorList=a[2],this.matrix=a[3]||[1,0,0,1,0,0],this.bbox=a[4],this.xstep=a[5],this.ystep=a[6],this.paintType=a[7],this.tilingType=a[8],this.color=b,this.canvasGraphicsFactory=d,this.baseTransform=e,this.type="Pattern",this.ctx=c}var a={COLORED:1,UNCOLORED:2},b=3e3;return c.prototype={createPatternCanvas:function(a){var l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,c=this.operatorList,e=this.bbox,f=this.xstep,g=this.ystep,h=this.paintType,i=this.tilingType,j=this.color,k=this.canvasGraphicsFactory;return d.info("TilingType: "+i),l=e[0],m=e[1],n=e[2],o=e[3],p=[l,m],q=[l+f,m+g],r=q[0]-p[0],s=q[1]-p[1],t=d.Util.singularValueDecompose2dScale(this.matrix),u=d.Util.singularValueDecompose2dScale(this.baseTransform),v=[t[0]*u[0],t[1]*u[1]],r=Math.min(Math.ceil(Math.abs(r*v[0])),b),s=Math.min(Math.ceil(Math.abs(s*v[1])),b),w=a.cachedCanvases.getCanvas("pattern",r,s,!0),x=w.context,y=k.createCanvasGraphics(x),y.groupLevel=a.groupLevel,this.setFillAndStrokeStyleToContext(y,h,j),this.setScale(r,s,f,g),this.transformToScale(y),z=[1,0,0,1,-p[0],-p[1]],y.transform.apply(y,z),this.clipBbox(y,e,l,m,n,o),y.executeOperatorList(c),w.canvas},setScale:function(a,b,c,d){this.scale=[a/c,b/d]},transformToScale:function(a){var b=this.scale,c=[b[0],0,0,b[1],0,0];a.transform.apply(a,c)},scaleToContext:function(){var a=this.scale;this.ctx.scale(1/a[0],1/a[1])},clipBbox:function(a,b,c,d,e,f){var g,h;Array.isArray(b)&&4===b.length&&(g=e-c,h=f-d,a.ctx.rect(c,d,g,h),a.clip(),a.endPath())},setFillAndStrokeStyleToContext:function(b,c,e){var h,i,f=b.ctx,g=b.current;switch(c){case a.COLORED:h=this.ctx,f.fillStyle=h.fillStyle,f.strokeStyle=h.strokeStyle,g.fillColor=h.fillStyle,g.strokeColor=h.strokeStyle;break;case a.UNCOLORED:i=d.Util.makeCssRgb(e[0],e[1],e[2]),f.fillStyle=i,f.strokeStyle=i,g.fillColor=i,g.strokeColor=i;break;default:throw new d.FormatError("Unsupported paint type: "+c)}},getPattern:function(a,b){var c=this.createPatternCanvas(b);return a=this.ctx,a.setTransform.apply(a,this.baseTransform),a.transform.apply(a,this.matrix),this.scaleToContext(),a.createPattern(c,"repeat")}},c}(),b.getShadingPatternFromIR=h,b.TilingPattern=i},function(a,b,c){"use strict";var d,e;Object.defineProperty(b,"__esModule",{value:!0}),b.PDFDataTransportStream=void 0,d=c(0),e=function(){function a(a,b){var e,f,c=this;d.assert(b),this._queuedChunks=[],e=a.initialData,e&&e.length>0&&(f=new Uint8Array(e).buffer,this._queuedChunks.push(f)),this._pdfDataRangeTransport=b,this._isRangeSupported=!a.disableRange,this._isStreamingSupported=!a.disableStream,this._contentLength=a.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(function(a,b){c._onReceiveData({begin:a,chunk:b})}),this._pdfDataRangeTransport.addProgressListener(function(a){c._onProgress({loaded:a})}),this._pdfDataRangeTransport.addProgressiveReadListener(function(a){c._onReceiveData({chunk:a})}),this._pdfDataRangeTransport.transportReady()}function b(a,b){this._stream=a,this._done=!1,this._queuedChunks=b||[],this._requests=[],this._headersReady=Promise.resolve(),a._fullRequestReader=this,this.onProgress=null}function c(a,b,c){this._stream=a,this._begin=b,this._end=c,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}return a.prototype={_onReceiveData:function(a){var c,b=new Uint8Array(a.chunk).buffer;void 0===a.begin?this._fullRequestReader?this._fullRequestReader._enqueue(b):this._queuedChunks.push(b):(c=this._rangeReaders.some(function(c){return c._begin!==a.begin?!1:(c._enqueue(b),!0)}),d.assert(c))},_onProgress:function(a){if(this._rangeReaders.length>0){var b=this._rangeReaders[0];b.onProgress&&b.onProgress({loaded:a.loaded})}},_removeRangeReader:function(a){var b=this._rangeReaders.indexOf(a);b>=0&&this._rangeReaders.splice(b,1)},getFullReader:function(){d.assert(!this._fullRequestReader);var a=this._queuedChunks;return this._queuedChunks=null,new b(this,a)},getRangeReader:function(a,b){var d=new c(this,a,b);return this._pdfDataRangeTransport.requestDataRange(a,b),this._rangeReaders.push(d),d},cancelAllRequests:function(a){this._fullRequestReader&&this._fullRequestReader.cancel(a);var b=this._rangeReaders.slice(0);b.forEach(function(b){b.cancel(a)}),this._pdfDataRangeTransport.abort()}},b.prototype={_enqueue:function(a){if(!this._done){if(this._requests.length>0){var b=this._requests.shift();return b.resolve({value:a,done:!1}),void 0}this._queuedChunks.push(a)}},get headersReady(){return this._headersReady},get isRangeSupported(){return this._stream._isRangeSupported},get isStreamingSupported(){return this._stream._isStreamingSupported},get contentLength(){return this._stream._contentLength},read:function(){var a,b;return this._queuedChunks.length>0?(a=this._queuedChunks.shift(),Promise.resolve({value:a,done:!1})):this._done?Promise.resolve({value:void 0,done:!0}):(b=d.createPromiseCapability(),this._requests.push(b),b.promise)},cancel:function(){this._done=!0,this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[]}},c.prototype={_enqueue:function(a){if(!this._done){if(0===this._requests.length)this._queuedChunk=a;else{var b=this._requests.shift();b.resolve({value:a,done:!1}),this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[]}this._done=!0,this._stream._removeRangeReader(this)}},get isStreamingSupported(){return!1},read:function(){var a,b;return this._queuedChunk?(a=this._queuedChunk,this._queuedChunk=null,Promise.resolve({value:a,done:!1})):this._done?Promise.resolve({value:void 0,done:!0}):(b=d.createPromiseCapability(),this._requests.push(b),b.promise)},cancel:function(){this._done=!0,this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[],this._stream._removeRangeReader(this)}},a}(),b.PDFDataTransportStream=e},function(a,b,c){"use strict";function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function i(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function q(a,b){return{protocol:a.protocol,auth:a.auth,host:a.hostname,port:a.port,path:a.path,method:"GET",headers:b}}var d,e,f,j,k,l,m,n,o,p,r,s,t,u;Object.defineProperty(b,"__esModule",{value:!0}),b.PDFNodeStream=void 0,d=function(){function a(a,b){var c,d;for(c=0;c<b.length;c++)d=b[c],d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(29),j=require("fs"),k=require("http"),l=require("https"),m=require("url"),n=function(){function a(b){i(this,a),this.options=b,this.source=b.source,this.url=m.parse(this.source.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol||!this.url.host,this.httpHeaders=this.isHttp&&this.source.httpHeaders||{},this._fullRequest=null,this._rangeRequestReaders=[]}return d(a,[{key:"getFullReader",value:function(){return e.assert(!this._fullRequest),this._fullRequest=this.isFsUrl?new t(this):new r(this),this._fullRequest}},{key:"getRangeReader",value:function(a,b){var c=this.isFsUrl?new u(this,a,b):new s(this,a,b);return this._rangeRequestReaders.push(c),c}},{key:"cancelAllRequests",value:function(a){this._fullRequest&&this._fullRequest.cancel(a);var b=this._rangeRequestReaders.slice(0);b.forEach(function(b){b.cancel(a)})}}]),a}(),o=function(){function a(b){i(this,a),this._url=b.url,this._done=!1,this._errored=!1,this._reason=null,this.onProgress=null,this._contentLength=b.source.length,this._loaded=0,this._disableRange=b.options.disableRange||!1,this._rangeChunkSize=b.source.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!b.source.disableStream,this._isRangeSupported=!b.options.disableRange,this._readableStream=null,this._readCapability=e.createPromiseCapability(),this._headersCapability=e.createPromiseCapability()}return d(a,[{key:"read",value:function(){var a=this;return this._readCapability.promise.then(function(){var b,c;return a._done?Promise.resolve({value:void 0,done:!0}):a._errored?Promise.reject(a._reason):(b=a._readableStream.read(),null===b?(a._readCapability=e.createPromiseCapability(),a.read()):(a._loaded+=b.length,a.onProgress&&a.onProgress({loaded:a._loaded,total:a._contentLength}),c=new Uint8Array(b).buffer,Promise.resolve({value:c,done:!1})))})}},{key:"cancel",value:function(a){return this._readableStream?(this._readableStream.destroy(a),void 0):(this._error(a),void 0)}},{key:"_error",value:function(a){this._errored=!0,this._reason=a,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(a){var b=this;this._readableStream=a,a.on("readable",function(){b._readCapability.resolve()}),a.on("end",function(){a.destroy(),b._done=!0,b._readCapability.resolve()}),a.on("error",function(a){b._error(a)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new e.AbortException("streaming is disabled")),this._errored&&this._readableStream.destroy(this._reason)}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),a}(),p=function(){function a(b){i(this,a),this._url=b.url,this._done=!1,this._errored=!1,this._reason=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=e.createPromiseCapability(),this._isStreamingSupported=!b.source.disableStream}return d(a,[{key:"read",value:function(){var a=this;return this._readCapability.promise.then(function(){var b,c;return a._done?Promise.resolve({value:void 0,done:!0}):a._errored?Promise.reject(a._reason):(b=a._readableStream.read(),null===b?(a._readCapability=e.createPromiseCapability(),a.read()):(a._loaded+=b.length,a.onProgress&&a.onProgress({loaded:a._loaded}),c=new Uint8Array(b).buffer,Promise.resolve({value:c,done:!1})))})}},{key:"cancel",value:function(a){return this._readableStream?(this._readableStream.destroy(a),void 0):(this._error(a),void 0)}},{key:"_error",value:function(a){this._errored=!0,this._reason=a,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(a){var b=this;this._readableStream=a,a.on("readable",function(){b._readCapability.resolve()}),a.on("end",function(){a.destroy(),b._done=!0,b._readCapability.resolve()}),a.on("error",function(a){b._error(a)}),this._errored&&this._readableStream.destroy(this._reason)}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),a}(),r=function(a){function b(a){var c,d;return i(this,b),c=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a)),d=function(b){c._headersCapability.resolve(),c._setReadableStream(b);var d=f.validateRangeRequestCapabilities({getResponseHeader:function(a){return c._readableStream.headers[a.toLowerCase()]},isHttp:a.isHttp,rangeChunkSize:c._rangeChunkSize,disableRange:c._disableRange}),e=d.allowRangeRequests,g=d.suggestedLength;e&&(c._isRangeSupported=!0),c._contentLength=g},c._request=null,c._request="http:"===c._url.protocol?k.request(q(c._url,a.httpHeaders),d):l.request(q(c._url,a.httpHeaders),d),c._request.on("error",function(a){c._errored=!0,c._reason=a,c._headersCapability.reject(a)}),c._request.end(),c}return h(b,a),b}(o),s=function(a){function b(a,c,d){var e,f,h;i(this,b),e=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a)),e._httpHeaders={};for(f in a.httpHeaders)h=a.httpHeaders[f],"undefined"!=typeof h&&(e._httpHeaders[f]=h);return e._httpHeaders["Range"]="bytes="+c+"-"+(d-1),e._request=null,e._request="http:"===e._url.protocol?k.request(q(e._url,e._httpHeaders),function(a){e._setReadableStream(a)}):l.request(q(e._url,e._httpHeaders),function(a){e._setReadableStream(a)}),e._request.on("error",function(a){e._errored=!0,e._reason=a}),e._request.end(),e}return h(b,a),b}(p),t=function(a){function b(a){i(this,b);var c=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return j.lstat(c._url.path,function(a,b){return a?(c._errored=!0,c._reason=a,c._headersCapability.reject(a),void 0):(c._contentLength=b.size,c._setReadableStream(j.createReadStream(c._url.path)),c._headersCapability.resolve(),void 0)}),c}return h(b,a),b}(o),u=function(a){function b(a,c,d){i(this,b);var e=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return e._setReadableStream(j.createReadStream(e._url.path,{start:c,end:d-1})),e}return h(b,a),b}(p),b.PDFNodeStream=n},function(a,b,c){"use strict";function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){return{method:"GET",headers:a,mode:"cors",credentials:b?"include":"same-origin",redirect:"follow"}}var d,e,f,i,j,k;Object.defineProperty(b,"__esModule",{value:!0}),b.PDFFetchStream=void 0,d=function(){function a(a,b){var c,d;for(c=0;c<b.length;c++)d=b[c],d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(29),i=function(){function a(b){g(this,a),this.options=b,this.source=b.source,this.isHttp=/^https?:/i.test(this.source.url),this.httpHeaders=this.isHttp&&this.source.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return d(a,[{key:"getFullReader",value:function(){return e.assert(!this._fullRequestReader),this._fullRequestReader=new j(this),this._fullRequestReader}},{key:"getRangeReader",value:function(a,b){var c=new k(this,a,b);return this._rangeRequestReaders.push(c),c}},{key:"cancelAllRequests",value:function(a){this._fullRequestReader&&this._fullRequestReader.cancel(a);var b=this._rangeRequestReaders.slice(0);b.forEach(function(b){b.cancel(a)})}}]),a}(),j=function(){function a(b){var d,i,j,c=this;g(this,a),this._stream=b,this._reader=null,this._loaded=0,this._withCredentials=b.source.withCredentials,this._contentLength=this._stream.source.length,this._headersCapability=e.createPromiseCapability(),this._disableRange=this._stream.options.disableRange,this._rangeChunkSize=this._stream.source.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isRangeSupported=!this._stream.options.disableRange,this._isStreamingSupported=!this._stream.source.disableStream,this._headers=new Headers;for(d in this._stream.httpHeaders)i=this._stream.httpHeaders[d],"undefined"!=typeof i&&this._headers.append(d,i);j=this._stream.source.url,fetch(j,h(this._headers,this._withCredentials)).then(function(a){if(!f.validateResponseStatus(a.status))throw f.createResponseStatusError(a.status,j);c._reader=a.body.getReader(),c._headersCapability.resolve();var b=f.validateRangeRequestCapabilities({getResponseHeader:function(b){return a.headers.get(b)},isHttp:c._stream.isHttp,rangeChunkSize:c._rangeChunkSize,disableRange:c._disableRange}),d=b.allowRangeRequests,g=b.suggestedLength;c._contentLength=g,c._isRangeSupported=d,!c._isStreamingSupported&&c._isRangeSupported&&c.cancel(new e.AbortException("streaming is disabled"))}).catch(this._headersCapability.reject),this.onProgress=null}return d(a,[{key:"read",value:function(){var a=this;return this._headersCapability.promise.then(function(){return a._reader.read().then(function(b){var e,c=b.value,d=b.done;return d?Promise.resolve({value:c,done:d}):(a._loaded+=c.byteLength,a.onProgress&&a.onProgress({loaded:a._loaded,total:a._contentLength}),e=new Uint8Array(c).buffer,Promise.resolve({value:e,done:!1}))})})}},{key:"cancel",value:function(a){this._reader&&this._reader.cancel(a)}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),a}(),k=function(){function a(b,c,d){var j,k,l,m,i=this;g(this,a),this._stream=b,this._reader=null,this._loaded=0,this._withCredentials=b.source.withCredentials,this._readCapability=e.createPromiseCapability(),this._isStreamingSupported=!b.source.disableStream,this._headers=new Headers;for(j in this._stream.httpHeaders)k=this._stream.httpHeaders[j],"undefined"!=typeof k&&this._headers.append(j,k);l=c+"-"+(d-1),this._headers.append("Range","bytes="+l),m=this._stream.source.url,fetch(m,h(this._headers,this._withCredentials)).then(function(a){if(!f.validateResponseStatus(a.status))throw f.createResponseStatusError(a.status,m);i._readCapability.resolve(),i._reader=a.body.getReader()}),this.onProgress=null}return d(a,[{key:"read",value:function(){var a=this;return this._readCapability.promise.then(function(){return a._reader.read().then(function(b){var e,c=b.value,d=b.done;return d?Promise.resolve({value:c,done:d}):(a._loaded+=c.byteLength,a.onProgress&&a.onProgress({loaded:a._loaded}),e=new Uint8Array(c).buffer,Promise.resolve({value:e,done:!1}))})})}},{key:"cancel",value:function(a){this._reader&&this._reader.cancel(a)}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),a}(),b.PDFFetchStream=i},function(a,b,c){"use strict";function h(a){return a&&a.__esModule?a:{"default":a}}function k(a,b){this.url=a,b=b||{},this.isHttp=/^https?:/i.test(a),this.httpHeaders=this.isHttp&&b.httpHeaders||{},this.withCredentials=b.withCredentials||!1,this.getXhr=b.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null),this.loadedRequests=Object.create(null)}function l(a){var c,d,e,b=a.response;if("string"!=typeof b)return b;for(c=b.length,d=new Uint8Array(c),e=0;c>e;e++)d[e]=255&b.charCodeAt(e);return d.buffer}function n(a){this._options=a;var b=a.source;this._manager=new k(b.url,{httpHeaders:b.httpHeaders,withCredentials:b.withCredentials}),this._rangeChunkSize=b.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}function o(a,b){var c,e;this._manager=a,c=b.source,e={onHeadersReceived:this._onHeadersReceived.bind(this),onProgressiveData:c.disableStream?null:this._onProgressiveData.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)},this._url=c.url,this._fullRequestId=a.requestFull(e),this._headersReceivedCapability=d.createPromiseCapability(),this._disableRange=b.disableRange||!1,this._contentLength=c.length,this._rangeChunkSize=c.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this.onProgress=null}function p(a,b,c){this._manager=a;var d={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=a.requestRange(b,c,d),this._requests=[],this._queuedChunk=null,this._done=!1,this.onProgress=null,this.onClosed=null}var d,e,f,g,i,j,m;Object.defineProperty(b,"__esModule",{value:!0}),b.NetworkManager=b.PDFNetworkStream=void 0,d=c(0),e=c(29),f=c(9),g=h(f),i=200,j=206,m=function(){try{var a=new XMLHttpRequest;return a.open("GET",g.default.location.href),a.responseType="moz-chunked-arraybuffer","moz-chunked-arraybuffer"===a.responseType}catch(b){return!1}}(),k.prototype={requestRange:function(a,b,c){var e,d={begin:a,end:b};for(e in c)d[e]=c[e];return this.request(d)},requestFull:function(a){return this.request(a)},request:function(a){var e,f,g,h,b=this.getXhr(),c=this.currXhrId++,d=this.pendingRequests[c]={xhr:b};b.open("GET",this.url),b.withCredentials=this.withCredentials;for(e in this.httpHeaders)f=this.httpHeaders[e],"undefined"!=typeof f&&b.setRequestHeader(e,f);return this.isHttp&&"begin"in a&&"end"in a?(g=a.begin+"-"+(a.end-1),b.setRequestHeader("Range","bytes="+g),d.expectedStatus=206):d.expectedStatus=200,h=m&&!!a.onProgressiveData,h?(b.responseType="moz-chunked-arraybuffer",d.onProgressiveData=a.onProgressiveData,d.mozChunked=!0):b.responseType="arraybuffer",a.onError&&(b.onerror=function(){a.onError(b.status)}),b.onreadystatechange=this.onStateChange.bind(this,c),b.onprogress=this.onProgress.bind(this,c),d.onHeadersReceived=a.onHeadersReceived,d.onDone=a.onDone,d.onError=a.onError,d.onProgress=a.onProgress,b.send(null),c},onProgress:function(a,b){var d,e,c=this.pendingRequests[a];c&&(c.mozChunked&&(d=l(c.xhr),c.onProgressiveData(d)),e=c.onProgress,e&&e(b))},onStateChange:function(a){var d,e,f,g,h,k,m,c=this.pendingRequests[a];if(c&&(d=c.xhr,d.readyState>=2&&c.onHeadersReceived&&(c.onHeadersReceived(),delete c.onHeadersReceived),4===d.readyState&&a in this.pendingRequests)){if(delete this.pendingRequests[a],0===d.status&&this.isHttp)return c.onError&&c.onError(d.status),void 0;if(e=d.status||i,f=e===i&&c.expectedStatus===j,!f&&e!==c.expectedStatus)return c.onError&&c.onError(d.status),void 0;this.loadedRequests[a]=!0,g=l(d),e===j?(h=d.getResponseHeader("Content-Range"),k=/bytes (\d+)-(\d+)\/(\d+)/.exec(h),m=parseInt(k[1],10),c.onDone({begin:m,chunk:g})):c.onProgressiveData?c.onDone(null):g?c.onDone({begin:0,chunk:g}):c.onError&&c.onError(d.status)}},hasPendingRequests:function(){for(var a in this.pendingRequests)return!0;return!1},getRequestXhr:function(a){return this.pendingRequests[a].xhr},isStreamingRequest:function(a){return!!this.pendingRequests[a].onProgressiveData},isPendingRequest:function(a){return a in this.pendingRequests},isLoadedRequest:function(a){return a in this.loadedRequests},abortAllRequests:function(){for(var a in this.pendingRequests)this.abortRequest(0|a)},abortRequest:function(a){var b=this.pendingRequests[a].xhr;delete this.pendingRequests[a],b.abort()}},n.prototype={_onRangeRequestReaderClosed:function(a){var b=this._rangeRequestReaders.indexOf(a);b>=0&&this._rangeRequestReaders.splice(b,1)},getFullReader:function(){return d.assert(!this._fullRequestReader),this._fullRequestReader=new o(this._manager,this._options),this._fullRequestReader},getRangeReader:function(a,b){var c=new p(this._manager,a,b);return c.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(c),c},cancelAllRequests:function(a){this._fullRequestReader&&this._fullRequestReader.cancel(a);var b=this._rangeRequestReaders.slice(0);b.forEach(function(b){b.cancel(a)})}},o.prototype={_onHeadersReceived:function(){var g,a=this._fullRequestId,b=this._manager.getRequestXhr(a),c=e.validateRangeRequestCapabilities({getResponseHeader:function(a){return b.getResponseHeader(a)},isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),d=c.allowRangeRequests,f=c.suggestedLength;this._contentLength=f||this._contentLength,d&&(this._isRangeSupported=!0),g=this._manager,g.isStreamingRequest(a)?this._isStreamingSupported=!0:this._isRangeSupported&&g.abortRequest(a),this._headersReceivedCapability.resolve()},_onProgressiveData:function(a){if(this._requests.length>0){var b=this._requests.shift();b.resolve({value:a,done:!1})}else this._cachedChunks.push(a)},_onDone:function(a){a&&this._onProgressiveData(a.chunk),this._done=!0,this._cachedChunks.length>0||(this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[])},_onError:function(a){var b=this._url,c=e.createResponseStatusError(a,b);this._storedError=c,this._headersReceivedCapability.reject(c),this._requests.forEach(function(a){a.reject(c)}),this._requests=[],this._cachedChunks=[]},_onProgress:function(a){this.onProgress&&this.onProgress({loaded:a.loaded,total:a.lengthComputable?a.total:this._contentLength})},get isRangeSupported(){return this._isRangeSupported},get isStreamingSupported(){return this._isStreamingSupported},get contentLength(){return this._contentLength},get headersReady(){return this._headersReceivedCapability.promise},read:function(){var a,b;return this._storedError?Promise.reject(this._storedError):this._cachedChunks.length>0?(a=this._cachedChunks.shift(),Promise.resolve({value:a,done:!1})):this._done?Promise.resolve({value:void 0,done:!0}):(b=d.createPromiseCapability(),this._requests.push(b),b.promise)},cancel:function(a){this._done=!0,this._headersReceivedCapability.reject(a),this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}},p.prototype={_close:function(){this.onClosed&&this.onClosed(this)},_onDone:function(a){var c,b=a.chunk;this._requests.length>0?(c=this._requests.shift(),c.resolve({value:b,done:!1})):this._queuedChunk=b,this._done=!0,this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[],this._close()},_onProgress:function(a){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:a.loaded})},get isStreamingSupported(){return!1},read:function(){var a,b;return null!==this._queuedChunk?(a=this._queuedChunk,this._queuedChunk=null,Promise.resolve({value:a,done:!1})):this._done?Promise.resolve({value:void 0,done:!0}):(b=d.createPromiseCapability(),this._requests.push(b),b.promise)},cancel:function(){this._done=!0,this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}},b.PDFNetworkStream=n,b.NetworkManager=k}])});